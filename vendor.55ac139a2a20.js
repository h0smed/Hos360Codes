(window.webpackJsonp_name_Entry=window.webpackJsonp_name_Entry||[]).push([[0],[function(t,e,i){(function(t){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js
o=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var i in e)d(e,i)&&(t[i]=e[i]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return ke(t,e,i,n,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function v(t){var e=f(NaN);return null!=t?p(m(e),t):m(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var y=r.momentProperties=[];function _(t,e){var i,n,r;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=m(e)),l(e._locale)||(t._locale=e._locale),y.length>0)for(i=0;i<y.length;i++)l(r=e[n=y[i]])||(t[n]=r);return t}var b=!1;function w(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function M(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=M(e)),i}function k(t,e,i){var n,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&a++;return a+o}function T(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),i){for(var n,o=[],s=0;s<arguments.length;s++){if(n="","object"===a(arguments[s])){for(var l in n+="\n["+s+"] ",arguments[0])n+=l+": "+arguments[0][l]+", ";n=n.slice(0,-2)}else n=arguments[s];o.push(n)}T(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var E,A={};function L(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),A[t]||(T(e),A[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var i,n=p({},t);for(i in e)d(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},p(n[i],t[i]),p(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)d(t,i)&&!d(e,i)&&s(t[i])&&(n[i]=p({},n[i]));return n}function O(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)d(t,e)&&i.push(e);return i};var I={};function N(t,e){var i=t.toLowerCase();I[i]=I[i+"s"]=I[e]=t}function R(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)d(t,i)&&(e=R(i))&&(n[e]=t[i]);return n}var j={};function U(t,e){j[t]=e}function Y(t,e,i){var n=""+Math.abs(t),r=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},z={};function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(z[t]=r),e&&(z[e[0]]=function(){return Y(r.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t,e){return t.isValid()?(e=G(e,t.localeData()),B[e]=B[e]||function(t){var e,i,n,r=t.match(V);for(e=0,i=r.length;e<i;e++)z[r[e]]?r[e]=z[r[e]]:r[e]=(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,o="";for(n=0;n<i;n++)o+=D(r[n])?r[n].call(e,t):r[n];return o}}(e),B[e](t)):t.localeData().invalidDate()}function G(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(H.lastIndex=0;i>=0&&H.test(t);)t=t.replace(H,n),H.lastIndex=0,i-=1;return t}var $=/\d/,X=/\d\d/,K=/\d{3}/,J=/\d{4}/,Q=/[+-]?\d{6}/,Z=/\d\d?/,tt=/\d\d\d\d?/,et=/\d\d\d\d\d\d?/,it=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,ot=/\d+/,at=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function ht(t,e,i){ut[t]=D(e)?e:function(t,n){return t&&i?i:e}}function dt(t,e){return d(ut,t)?ut[t](e._strict,e._locale):new RegExp(pt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,r){return e||i||n||r}))))}function pt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function mt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),c(e)&&(n=function(t,i){i[e]=S(t)}),i=0;i<t.length;i++)ft[t[i]]=n}function gt(t,e){mt(t,(function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)}))}function vt(t,e,i){null!=e&&d(ft,t)&&ft[t](e,i._a,i,t)}function yt(t){return _t(t)?366:365}function _t(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),N("year","y"),U("year",1),ht("Y",at),ht("YY",Z,X),ht("YYYY",nt,J),ht("YYYYY",rt,Q),ht("YYYYYY",rt,Q),mt(["YYYYY","YYYYYY"],0),mt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):S(t)})),mt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),mt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var bt,wt=xt("FullYear",!0);function xt(t,e){return function(i){return null!=i?(St(this,t,i),r.updateOffset(this,e),this):Mt(this,t)}}function Mt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function St(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&_t(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,n=(e%(i=12)+i)%i;return t+=(e-n)/12,1===n?_t(t)?29:28:31-n%7%2}bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),N("month","M"),U("month",8),ht("M",Z),ht("MM",Z,X),ht("MMM",(function(t,e){return e.monthsShortRegex(t)})),ht("MMMM",(function(t,e){return e.monthsRegex(t)})),mt(["M","MM"],(function(t,e){e[1]=S(t)-1})),mt(["MMM","MMMM"],(function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[1]=r:m(i).invalidMonth=t}));var Tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function At(t,e,i){var n,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=bt.call(this._shortMonthsParse,a))?r:null:-1!==(r=bt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=bt.call(this._shortMonthsParse,a))||-1!==(r=bt.call(this._longMonthsParse,a))?r:null:-1!==(r=bt.call(this._longMonthsParse,a))||-1!==(r=bt.call(this._shortMonthsParse,a))?r:null}function Lt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=S(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Dt(t){return null!=t?(Lt(this,t),r.updateOffset(this,!0),this):Mt(this,"Month")}var Pt=ct,Ot=ct;function It(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],o=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)n[e]=pt(n[e]),r[e]=pt(r[e]);for(e=0;e<24;e++)o[e]=pt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Nt(t,e,i,n,r,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,i,n,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,i,n,r,o,a),s}function Rt(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Ft(t,e,i){var n=7+e-i;return-(7+Rt(t,0,n).getUTCDay()-e)%7+n-1}function jt(t,e,i,n,r){var o,a,s=1+7*(e-1)+(7+i-n)%7+Ft(t,n,r);return s<=0?a=yt(o=t-1)+s:s>yt(t)?(o=t+1,a=s-yt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Ut(t,e,i){var n,r,o=Ft(t.year(),e,i),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?n=a+Yt(r=t.year()-1,e,i):a>Yt(t.year(),e,i)?(n=a-Yt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=a),{week:n,year:r}}function Yt(t,e,i){var n=Ft(t,e,i),r=Ft(t+1,e,i);return(yt(t)-n+r)/7}function Vt(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),U("week",5),U("isoWeek",5),ht("w",Z),ht("ww",Z,X),ht("W",Z),ht("WW",Z,X),gt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=S(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),ht("d",Z),ht("e",Z),ht("E",Z),ht("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ht("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ht("dddd",(function(t,e){return e.weekdaysRegex(t)})),gt(["dd","ddd","dddd"],(function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:m(i).invalidWeekday=t})),gt(["d","e","E"],(function(t,e,i,n){e[n]=S(t)}));var Ht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Wt(t,e,i){var n,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=bt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=bt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=bt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=bt.call(this._weekdaysParse,a))||-1!==(r=bt.call(this._shortWeekdaysParse,a))||-1!==(r=bt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=bt.call(this._shortWeekdaysParse,a))||-1!==(r=bt.call(this._weekdaysParse,a))||-1!==(r=bt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=bt.call(this._minWeekdaysParse,a))||-1!==(r=bt.call(this._weekdaysParse,a))||-1!==(r=bt.call(this._shortWeekdaysParse,a))?r:null}var qt=ct,Gt=ct,$t=ct;function Xt(){function t(t,e){return e.length-t.length}var e,i,n,r,o,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),o=this.weekdays(i,""),a.push(n),s.push(r),l.push(o),c.push(n),c.push(r),c.push(o);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=pt(s[e]),l[e]=pt(l[e]),c[e]=pt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Jt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Qt(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Kt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+Kt.apply(this)+Y(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Kt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),N("hour","h"),U("hour",13),ht("a",Qt),ht("A",Qt),ht("H",Z),ht("h",Z),ht("k",Z),ht("HH",Z,X),ht("hh",Z,X),ht("kk",Z,X),ht("hmm",tt),ht("hmmss",et),ht("Hmm",tt),ht("Hmmss",et),mt(["H","HH"],3),mt(["k","kk"],(function(t,e,i){var n=S(t);e[3]=24===n?0:n})),mt(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),mt(["h","hh"],(function(t,e,i){e[3]=S(t),m(i).bigHour=!0})),mt("hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n)),m(i).bigHour=!0})),mt("hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r)),m(i).bigHour=!0})),mt("Hmm",(function(t,e,i){var n=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n))})),mt("Hmmss",(function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=S(t.substr(0,n)),e[4]=S(t.substr(n,2)),e[5]=S(t.substr(r))}));var Zt,te=xt("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:Et,week:{dow:0,doy:6},weekdays:Ht,weekdaysMin:zt,weekdaysShort:Bt,meridiemParse:/[ap]\.?m?\.?/i},ie={},ne={};function re(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var n=null;if(!ie[e]&&void 0!==t&&t&&t.exports)try{n=Zt._abbr,i(636)("./"+e),ae(n)}catch(t){}return ie[e]}function ae(t,e){var i;return t&&((i=l(e)?le(t):se(t,e))?Zt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Zt._abbr}function se(t,e){if(null!==e){var i,n=ee;if(e.abbr=t,null!=ie[t])L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ie[t]._config;else if(null!=e.parentLocale)if(null!=ie[e.parentLocale])n=ie[e.parentLocale]._config;else{if(null==(i=oe(e.parentLocale)))return ne[e.parentLocale]||(ne[e.parentLocale]=[]),ne[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ie[t]=new O(P(n,e)),ne[t]&&ne[t].forEach((function(t){se(t.name,t.config)})),ae(t),ie[t]}return delete ie[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Zt;if(!o(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,i,n,r,o=0;o<t.length;){for(e=(r=re(t[o]).split("-")).length,i=(i=re(t[o+1]))?i.split("-"):null;e>0;){if(n=oe(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(r,i,!0)>=e-1)break;e--}o++}return Zt}(t)}function ce(t){var e,i=t._a;return i&&-2===m(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,m(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}function ue(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e,i,n,o,a,s=[];if(!t._d){for(n=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,o,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,i=ue(e.GG,t._a[0],Ut(Te(),1,4).year),n=ue(e.W,1),((r=ue(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Ut(Te(),o,a);i=ue(e.gg,t._a[0],c.year),n=ue(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}n<1||n>Yt(i,o,a)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(s=jt(i,n,r,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ue(t._a[0],n[0]),(t._dayOfYear>yt(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),i=Rt(a,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Rt:Nt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(m(t).weekdayMismatch=!0)}}var de=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ge=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((\-?\d+)/i;function ye(t){var e,i,n,r,o,a,s=t._i,l=de.exec(s)||pe.exec(s);if(l){for(m(t).iso=!0,e=0,i=me.length;e<i;e++)if(me[e][1].exec(l[1])){r=me[e][0],n=!1!==me[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=ge.length;e<i;e++)if(ge[e][1].exec(l[3])){o=(l[2]||" ")+ge[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(l[4]){if(!fe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),Me(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function be(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var we={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xe(t){var e,i,n,r,o,a,s,l=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(e=l[4],i=l[3],n=l[2],r=l[5],o=l[6],a=l[7],s=[be(e),Et.indexOf(i),parseInt(n,10),parseInt(r,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),s);if(!function(t,e,i){return!t||Bt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(i).weekdayMismatch=!0,i._isValid=!1,!1)}(l[1],c,t))return;t._a=c,t._tzm=function(t,e,i){if(t)return we[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(l[8],l[9],l[10]),t._d=Rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function Me(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],m(t).empty=!0;var e,i,n,o,a,s=""+t._i,l=s.length,c=0;for(n=G(t._f,t._locale).match(V)||[],e=0;e<n.length;e++)o=n[e],(i=(s.match(dt(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(i))).length>0&&m(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),z[o]?(i?m(t).empty=!1:m(t).unusedTokens.push(o),vt(o,i,t)):t._strict&&!i&&m(t).unusedTokens.push(o);m(t).charsLeftOver=l-c,s.length>0&&m(t).unusedInput.push(s),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),he(t),ce(t)}else xe(t);else ye(t)}function Se(t){var e=t._i,i=t._f;return t._locale=t._locale||le(t._l),null===e||void 0===i&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new w(ce(e)):(u(e)?t._d=e:o(i)?function(t){var e,i,n,r,o;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Me(e),g(e)&&(o+=m(e).charsLeftOver,o+=10*m(e).unusedTokens.length,m(e).score=o,(null==n||o<n)&&(n=o,i=e));p(t,i||e)}(t):i?Me(t):function(t){var e=t._i;l(e)?t._d=new Date(r.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ve.exec(t._i);null===e?(ye(t),!1===t._isValid&&(delete t._isValid,xe(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),he(t)):s(e)?function(t){if(!t._d){var e=F(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),he(t)}}(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function ke(t,e,i,n,r){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new w(ce(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Te(t,e,i,n){return ke(t,e,i,n,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Ce=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Ee=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Ae(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Te();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function De(t){var e=F(t),i=e.year||0,n=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===bt.call(Le,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Le.length;++n)if(t[Le[n]]){if(i)return!1;parseFloat(t[Le[n]])!==S(t[Le[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=le(),this._bubble()}function Pe(t){return t instanceof De}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){W(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+Y(~~(t/60),2)+e+Y(~~t%60,2)}))}Ie("Z",":"),Ie("ZZ",""),ht("Z",lt),ht("ZZ",lt),mt(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Re(lt,t)}));var Ne=/([\+\-]|\d\d)/gi;function Re(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Ne)||["-",0,0],r=60*n[1]+S(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Fe(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(x(t)||u(t)?t.valueOf():Te(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),r.updateOffset(i,!1),i):Te(t).local()}function je(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function He(t,e){var i,n,r,o,s,l,u=t,h=null;return Pe(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(u={},e?u[e]=t:u.milliseconds=t):(h=Ye.exec(t))?(i="-"===h[1]?-1:1,u={y:0,d:S(h[2])*i,h:S(h[3])*i,m:S(h[4])*i,s:S(h[5])*i,ms:S(Oe(1e3*h[6]))*i}):(h=Ve.exec(t))?(i="-"===h[1]?-1:1,u={y:Be(h[2],i),M:Be(h[3],i),w:Be(h[4],i),d:Be(h[5],i),h:Be(h[6],i),m:Be(h[7],i),s:Be(h[8],i)}):null==u?u={}:"object"===a(u)&&("from"in u||"to"in u)&&(o=Te(u.from),s=Te(u.to),r=o.isValid()&&s.isValid()?(s=Fe(s,o),o.isBefore(s)?l=ze(o,s):((l=ze(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=r.milliseconds,u.M=r.months),n=new De(u),Pe(t)&&d(t,"_locale")&&(n._locale=t._locale),n}function Be(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ze(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function We(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(L(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),qe(this,He(i="string"==typeof i?+i:i,n),t),this}}function qe(t,e,i,n){var o=e._milliseconds,a=Oe(e._days),s=Oe(e._months);t.isValid()&&(n=null==n||n,s&&Lt(t,Mt(t,"Month")+s*i),a&&St(t,"Date",Mt(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),n&&r.updateOffset(t,a||s))}He.fn=De.prototype,He.invalid=function(){return He(NaN)};var Ge=We(1,"add"),$e=We(-1,"subtract");function Xe(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Qe(){return this._locale}function Ze(t,e){return(t%e+e)%e}function ti(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function ei(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function ii(t,e){W(0,[t,t.length],0,e)}function ni(t,e,i,n,r){var o;return null==t?Ut(this,n,r).year:(e>(o=Yt(t,n,r))&&(e=o),ri.call(this,t,e,i,n,r))}function ri(t,e,i,n,r){var o=jt(t,e,i,n,r),a=Rt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ii("gggg","weekYear"),ii("ggggg","weekYear"),ii("GGGG","isoWeekYear"),ii("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),ht("G",at),ht("g",at),ht("GG",Z,X),ht("gg",Z,X),ht("GGGG",nt,J),ht("gggg",nt,J),ht("GGGGG",rt,Q),ht("ggggg",rt,Q),gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=S(t)})),gt(["gg","GG"],(function(t,e,i,n){e[n]=r.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),N("quarter","Q"),U("quarter",7),ht("Q",$),mt("Q",(function(t,e){e[1]=3*(S(t)-1)})),W("D",["DD",2],"Do","date"),N("date","D"),U("date",9),ht("D",Z),ht("DD",Z,X),ht("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),mt(["D","DD"],2),mt("Do",(function(t,e){e[2]=S(t.match(Z)[0])}));var oi=xt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),U("dayOfYear",4),ht("DDD",it),ht("DDDD",K),mt(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=S(t)})),W("m",["mm",2],0,"minute"),N("minute","m"),U("minute",14),ht("m",Z),ht("mm",Z,X),mt(["m","mm"],4);var ai=xt("Minutes",!1);W("s",["ss",2],0,"second"),N("second","s"),U("second",15),ht("s",Z),ht("ss",Z,X),mt(["s","ss"],5);var si,li=xt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),U("millisecond",16),ht("S",it,$),ht("SS",it,X),ht("SSS",it,K),si="SSSS";si.length<=9;si+="S")ht(si,ot);function ci(t,e){e[6]=S(1e3*("0."+t))}for(si="S";si.length<=9;si+="S")mt(si,ci);var ui=xt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var hi=w.prototype;function di(t){return t}hi.add=Ge,hi.calendar=function(t,e){var i=t||Te(),n=Fe(i,this).startOf("day"),o=r.calendarFormat(this,n)||"sameElse",a=e&&(D(e[o])?e[o].call(this,i):e[o]);return this.format(a||this.localeData().calendar(o,this,Te(i)))},hi.clone=function(){return new w(this)},hi.diff=function(t,e,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=Fe(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=R(e)){case"year":o=Xe(this,n)/12;break;case"month":o=Xe(this,n);break;case"quarter":o=Xe(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:M(o)},hi.endOf=function(t){var e;if(void 0===(t=R(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ei:ti;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ze(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ze(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},hi.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},hi.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Te(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.fromNow=function(t){return this.from(Te(),t)},hi.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Te(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hi.toNow=function(t){return this.to(Te(),t)},hi.get=function(t){return D(this[t=R(t)])?this[t]():this},hi.invalidAt=function(){return m(this).overflow},hi.isAfter=function(t,e){var i=x(t)?t:Te(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},hi.isBefore=function(t,e){var i=x(t)?t:Te(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},hi.isBetween=function(t,e,i,n){var r=x(t)?t:Te(t),o=x(e)?e:Te(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(o,i):!this.isAfter(o,i))},hi.isSame=function(t,e){var i,n=x(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},hi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hi.isValid=function(){return g(this)},hi.lang=Je,hi.locale=Ke,hi.localeData=Qe,hi.max=Ee,hi.min=Ce,hi.parsingFlags=function(){return p({},m(this))},hi.set=function(t,e){if("object"===a(t))for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:j[i]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=F(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(D(this[t=R(t)]))return this[t](e);return this},hi.startOf=function(t){var e;if(void 0===(t=R(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?ei:ti;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ze(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ze(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},hi.subtract=$e,hi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hi.toDate=function(){return new Date(this.valueOf())},hi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?q(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(i,"Z")):q(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)},hi.toJSON=function(){return this.isValid()?this.toISOString():null},hi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hi.unix=function(){return Math.floor(this.valueOf()/1e3)},hi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hi.year=wt,hi.isLeapYear=function(){return _t(this.year())},hi.weekYear=function(t){return ni.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hi.isoWeekYear=function(t){return ni.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hi.quarter=hi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hi.month=Dt,hi.daysInMonth=function(){return kt(this.year(),this.month())},hi.week=hi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hi.isoWeek=hi.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hi.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},hi.isoWeeksInYear=function(){return Yt(this.year(),1,4)},hi.date=oi,hi.day=hi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},hi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hi.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},hi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},hi.hour=hi.hours=te,hi.minute=hi.minutes=ai,hi.second=hi.seconds=li,hi.millisecond=hi.milliseconds=ui,hi.utcOffset=function(t,e,i){var n,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Re(lt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=je(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!e||this._changeInProgress?qe(this,He(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:je(this)},hi.utc=function(t){return this.utcOffset(0,t)},hi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(je(this),"m")),this},hi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},hi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Te(t).utcOffset():0,(this.utcOffset()-t)%60==0)},hi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hi.isLocal=function(){return!!this.isValid()&&!this._isUTC},hi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hi.isUtc=Ue,hi.isUTC=Ue,hi.zoneAbbr=function(){return this._isUTC?"UTC":""},hi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hi.dates=C("dates accessor is deprecated. Use date instead.",oi),hi.months=C("months accessor is deprecated. Use month instead",Dt),hi.years=C("years accessor is deprecated. Use year instead",wt),hi.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),hi.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t={};if(_(t,this),(t=Se(t))._a){var e=t._isUTC?f(t._a):Te(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pi=O.prototype;function fi(t,e,i,n){var r=le(),o=f().set(n,e);return r[i](o,t)}function mi(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return fi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=fi(t,n,i,"month");return r}function gi(t,e,i,n){"boolean"==typeof t?(c(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,c(e)&&(i=e,e=void 0),e=e||"");var r,o=le(),a=t?o._week.dow:0;if(null!=i)return fi(e,(i+a)%7,n,"day");var s=[];for(r=0;r<7;r++)s[r]=fi(e,(r+a)%7,n,"day");return s}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=di,pi.postformat=di,pi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return D(r)?r(t,e,i,n):r.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Tt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,r,o;if(this._monthsParseExact)return At.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ot),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Pt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){var i=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Vt(i,this._week.dow):t?i[t.day()]:i},pi.weekdaysMin=function(t){return!0===t?Vt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return!0===t?Vt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,r,o;if(this._weekdaysParseExact)return Wt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},ae("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",ae),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",le);var vi=Math.abs;function yi(t,e,i,n){var r=He(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function _i(t){return t<0?Math.floor(t):Math.ceil(t)}function bi(t){return 4800*t/146097}function wi(t){return 146097*t/4800}function xi(t){return function(){return this.as(t)}}var Mi=xi("ms"),Si=xi("s"),ki=xi("m"),Ti=xi("h"),Ci=xi("d"),Ei=xi("w"),Ai=xi("M"),Li=xi("Q"),Di=xi("y");function Pi(t){return function(){return this.isValid()?this._data[t]:NaN}}var Oi=Pi("milliseconds"),Ii=Pi("seconds"),Ni=Pi("minutes"),Ri=Pi("hours"),Fi=Pi("days"),ji=Pi("months"),Ui=Pi("years"),Yi=Math.round,Vi={ss:44,s:45,m:45,h:22,d:26,M:11};function Hi(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}var Bi=Math.abs;function zi(t){return(t>0)-(t<0)||+t}function Wi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Bi(this._milliseconds)/1e3,n=Bi(this._days),r=Bi(this._months);t=M(i/60),e=M(t/60),i%=60,t%=60;var o=M(r/12),a=r%=12,s=n,l=e,c=t,u=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",p=zi(this._months)!==zi(h)?"-":"",f=zi(this._days)!==zi(h)?"-":"",m=zi(this._milliseconds)!==zi(h)?"-":"";return d+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var qi=De.prototype;return qi.isValid=function(){return this._isValid},qi.abs=function(){var t=this._data;return this._milliseconds=vi(this._milliseconds),this._days=vi(this._days),this._months=vi(this._months),t.milliseconds=vi(t.milliseconds),t.seconds=vi(t.seconds),t.minutes=vi(t.minutes),t.hours=vi(t.hours),t.months=vi(t.months),t.years=vi(t.years),this},qi.add=function(t,e){return yi(this,t,e,1)},qi.subtract=function(t,e){return yi(this,t,e,-1)},qi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=R(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+bi(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(wi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},qi.asMilliseconds=Mi,qi.asSeconds=Si,qi.asMinutes=ki,qi.asHours=Ti,qi.asDays=Ci,qi.asWeeks=Ei,qi.asMonths=Ai,qi.asQuarters=Li,qi.asYears=Di,qi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},qi._bubble=function(){var t,e,i,n,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*_i(wi(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=M(o/1e3),l.seconds=t%60,e=M(t/60),l.minutes=e%60,i=M(e/60),l.hours=i%24,a+=M(i/24),s+=r=M(bi(a)),a-=_i(wi(r)),n=M(s/12),s%=12,l.days=a,l.months=s,l.years=n,this},qi.clone=function(){return He(this)},qi.get=function(t){return t=R(t),this.isValid()?this[t+"s"]():NaN},qi.milliseconds=Oi,qi.seconds=Ii,qi.minutes=Ni,qi.hours=Ri,qi.days=Fi,qi.weeks=function(){return M(this.days()/7)},qi.months=ji,qi.years=Ui,qi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=He(t).abs(),r=Yi(n.as("s")),o=Yi(n.as("m")),a=Yi(n.as("h")),s=Yi(n.as("d")),l=Yi(n.as("M")),c=Yi(n.as("y")),u=r<=Vi.ss&&["s",r]||r<Vi.s&&["ss",r]||o<=1&&["m"]||o<Vi.m&&["mm",o]||a<=1&&["h"]||a<Vi.h&&["hh",a]||s<=1&&["d"]||s<Vi.d&&["dd",s]||l<=1&&["M"]||l<Vi.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=i,Hi.apply(null,u)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},qi.toISOString=Wi,qi.toString=Wi,qi.toJSON=Wi,qi.locale=Ke,qi.localeData=Qe,qi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wi),qi.lang=Je,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",at),ht("X",/[+-]?\d+(\.\d{1,3})?/),mt("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))})),mt("x",(function(t,e,i){i._d=new Date(S(t))})),r.version="2.24.0",e=Te,r.fn=hi,r.min=function(){var t=[].slice.call(arguments,0);return Ae("isBefore",t)},r.max=function(){var t=[].slice.call(arguments,0);return Ae("isAfter",t)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return Te(1e3*t)},r.months=function(t,e){return mi(t,e,"months")},r.isDate=u,r.locale=ae,r.invalid=v,r.duration=He,r.isMoment=x,r.weekdays=function(t,e,i){return gi(t,e,i,"weekdays")},r.parseZone=function(){return Te.apply(null,arguments).parseZone()},r.localeData=le,r.isDuration=Pe,r.monthsShort=function(t,e){return mi(t,e,"monthsShort")},r.weekdaysMin=function(t,e,i){return gi(t,e,i,"weekdaysMin")},r.defineLocale=se,r.updateLocale=function(t,e){if(null!=e){var i,n,r=ee;null!=(n=oe(t))&&(r=n._config),(i=new O(e=P(r,e))).parentLocale=ie[t],ie[t]=i,ae(t)}else null!=ie[t]&&(null!=ie[t].parentLocale?ie[t]=ie[t].parentLocale:null!=ie[t]&&delete ie[t]);return ie[t]},r.locales=function(){return E(ie)},r.weekdaysShort=function(t,e,i){return gi(t,e,i,"weekdaysShort")},r.normalizeUnits=R,r.relativeTimeRounding=function(t){return void 0===t?Yi:"function"==typeof t&&(Yi=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Vi[t]&&(void 0===e?Vi[t]:(Vi[t]=e,"s"===t&&(Vi.ss=e-1),!0))},r.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},r.prototype=hi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(r="function"==typeof(n=o)?n.call(e,i,e,t):n)||(t.exports=r)}).call(this,i(88)(t))},function(t,e,i){var n=i(9),r=i(38),o=i(26),a=i(27),s=i(39),l=function t(e,i,l){var c,u,h,d,p=e&t.F,f=e&t.G,m=e&t.P,g=e&t.B,v=f?n:e&t.S?n[i]||(n[i]={}):(n[i]||{}).prototype,y=f?r:r[i]||(r[i]={}),_=y.prototype||(y.prototype={});for(c in f&&(l=i),l)h=((u=!p&&v&&void 0!==v[c])?v:l)[c],d=g&&u?s(h,n):m&&"function"==typeof h?s(Function.call,h):h,v&&a(v,c,h,e&t.U),y[c]!=h&&o(y,c,d),m&&_[c]!=h&&(_[c]=h)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){(function(t){var i;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(e,i){"use strict";"object"===n(t)&&"object"===n(t.exports)?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var a=[],s=r.document,l=Object.getPrototypeOf,c=a.slice,u=a.concat,h=a.push,d=a.indexOf,p={},f=p.toString,m=p.hasOwnProperty,g=m.toString,v=g.call(Object),y={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,i){var n,r,o=(i=i||s).createElement("script");if(o.text=t,e)for(n in w)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,r);i.head.appendChild(o).parentNode.removeChild(o)}function M(t){return null==t?t+"":"object"===n(t)||"function"==typeof t?p[f.call(t)]||"object":n(t)}var S=function t(e,i){return new t.fn.init(e,i)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,i=M(t);return!_(t)&&!b(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:"3.4.1",constructor:S,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},S.extend=S.fn.extend=function(){var t,e,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"===n(s)||_(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(u&&r&&(S.isPlainObject(r)||(o=Array.isArray(r)))?(i=s[e],a=o&&!Array.isArray(i)?[]:o||S.isPlainObject(i)?i:{},o=!1,s[e]=S.extend(u,a,r)):void 0!==r&&(s[e]=r));return s},S.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==f.call(t))&&(!(e=l(t))||"function"==typeof(i=m.call(e,"constructor")&&e.constructor)&&g.call(i)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(T(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(k,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(T(Object(t))?S.merge(i,"string"==typeof t?[t]:t):h.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:d.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,a=[];if(T(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return u.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=a[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){p["[object "+e+"]"]=e.toLowerCase()}));var C=
/*!
   * Sizzle CSS Selector Engine v2.3.4
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2019-04-08
   */
function(t){var e,i,n,r,o,a,s,l,c,u,h,d,p,f,m,g,v,y,_,b="sizzle"+1*new Date,w=t.document,x=0,M=0,S=lt(),k=lt(),T=lt(),C=lt(),E=function(t,e){return t===e&&(h=!0),0},A={}.hasOwnProperty,L=[],D=L.pop,P=L.push,O=L.push,I=L.slice,N=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+F+"*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",Y=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),B=new RegExp("^"+F+"*,"+F+"*"),z=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp(F+"|>"),q=new RegExp(Y),G=new RegExp("^"+j+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+Y),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),it=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(L=I.call(w.childNodes),w.childNodes),L[w.childNodes.length].nodeType}catch(t){O={apply:L.length?function(t,e){P.apply(t,I.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,r){var o,s,c,u,h,f,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!r&&((e?e.ownerDocument||e:w)!==p&&d(e),e=e||p,m)){if(11!==x&&(h=Z.exec(t)))if(o=h[1]){if(9===x){if(!(c=e.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(y&&(c=y.getElementById(o))&&_(e,c)&&c.id===o)return n.push(c),n}else{if(h[2])return O.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!C[t+" "]&&(!g||!g.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===x&&W.test(t)){for((u=e.getAttribute("id"))?u=u.replace(nt,rt):e.setAttribute("id",u=b),s=(f=a(t)).length;s--;)f[s]="#"+u+" "+_t(f[s]);v=f.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return O.apply(n,y.querySelectorAll(v)),n}catch(e){C(t,!0)}finally{u===b&&e.removeAttribute("id")}}}return l(t.replace(H,"$1"),e,n,r)}function lt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function ct(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!X.test(e||i&&i.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,m=!o(p),w!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),i.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ut((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(p.getElementsByClassName),i.getById=ut((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(i.qsa=Q.test(p.querySelectorAll))&&(ut((function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",Y)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(f.compareDocumentPosition),_=e||Q.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===w&&_(w,t)?-1:e===p||e.ownerDocument===w&&_(w,e)?1:u?N(u,t)-N(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:u?N(u,t)-N(u,e):0;if(r===o)return dt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?dt(a[n],s[n]):a[n]===w?-1:s[n]===w?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),i.matchesSelector&&m&&!C[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){C(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var r=n.attrHandle[e.toLowerCase()],o=r&&A.call(n.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==o?o:i.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(nt,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,o=0;if(h=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return u=null,t},r=st.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=st.selectors={cacheLength:50,createPseudo:ct,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&q.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=st.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(V," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(_=(p=(c=(u=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){u[t]=[x,p,_];break}}else if(y&&(_=p=(c=(u=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===_)for(;(d=++p&&d&&d[m]||(_=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((u=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,_]),d!==e)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,o=r(t,e),a=o.length;a--;)t[n=N(t,o[a])]=!(i[n]=o[a])})):function(t){return r(t,0,i)}):r}},pseudos:{not:ct((function(t){var e=[],i=[],n=s(t.replace(H,"$1"));return n[b]?ct((function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ct((function(t){return G.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function yt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(t,e,i){var n=e.dir,r=e.next,o=r||n,a=i&&"parentNode"===o,s=M++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var c,u,h,d=[x,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(u=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[o])&&c[0]===x&&c[1]===s)return d[2]=c[2];if(u[o]=d,d[2]=t(e,i,l))return!0}return!1}}function wt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function xt(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),c&&e.push(s)));return a}function Mt(t,e,i,n,r,o){return n&&!n[b]&&(n=Mt(n)),r&&!r[b]&&(r=Mt(r,o)),ct((function(o,a,s,l){var c,u,h,d=[],p=[],f=a.length,m=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)st(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:xt(m,d,t,s,l),v=i?r||(o?t:f||n)?[]:a:g;if(i&&i(g,v,s,l),n)for(c=xt(v,p),n(c,[],s,l),u=c.length;u--;)(h=c[u])&&(v[p[u]]=!(g[p[u]]=h));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(g[u]=h);r(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=r?N(o,h):d[u])>-1&&(o[c]=!(a[c]=h))}}else v=xt(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):O.apply(a,v)}))}function St(t){for(var e,i,r,o=t.length,a=n.relative[t[0].type],s=a||n.relative[" "],l=a?1:0,u=bt((function(t){return t===e}),s,!0),h=bt((function(t){return N(e,t)>-1}),s,!0),d=[function(t,i,n){var r=!a&&(n||i!==c)||((e=i).nodeType?u(t,i,n):h(t,i,n));return e=null,r}];l<o;l++)if(i=n.relative[t[l].type])d=[bt(wt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!n.relative[t[r].type];r++);return Mt(l>1&&wt(d),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(H,"$1"),i,l<r&&St(t.slice(l,r)),r<o&&St(t=t.slice(r)),r<o&&_t(t))}d.push(i)}return wt(d)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,a=st.tokenize=function(t,e){var i,r,o,a,s,l,c,u=k[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(a in i&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=z.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(H," ")}),s=s.slice(i.length)),n.filter)!(r=$[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?st.error(t):k(t,l).slice(0)},s=st.compile=function(t,e){var i,r=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),i=e.length;i--;)(s=St(e[i]))[b]?r.push(s):o.push(s);(s=T(t,function(t,e){var i=e.length>0,r=t.length>0,o=function(o,a,s,l,u){var h,f,g,v=0,y="0",_=o&&[],b=[],w=c,M=o||r&&n.find.TAG("*",u),S=x+=null==w?1:Math.random()||.1,k=M.length;for(u&&(c=a===p||a||u);y!==k&&null!=(h=M[y]);y++){if(r&&h){for(f=0,a||h.ownerDocument===p||(d(h),s=!m);g=t[f++];)if(g(h,a||p,s)){l.push(h);break}u&&(x=S)}i&&((h=!g&&h)&&v--,o&&_.push(h))}if(v+=y,i&&y!==v){for(f=0;g=e[f++];)g(_,b,a,s);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=D.call(l));b=xt(b)}O.apply(l,b),u&&!o&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(x=S,c=w),_};return i?ct(o):o}(o,r))).selector=t}return s},l=st.select=function(t,e,i,r){var o,l,c,u,h,d="function"==typeof t&&t,p=!r&&a(t=d.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=$.needsContext.test(t)?0:l.length;o--&&(c=l[o],!n.relative[u=c.type]);)if((h=n.find[u])&&(r=h(c.matches[0].replace(et,it),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&_t(l)))return O.apply(i,r),i;break}}return(d||s(t,p))(r,e,!m,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=b.split("").sort(E).join("")===b,i.detectDuplicates=!!h,d(),i.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ht(R,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(r);S.find=C,(S.expr=C.selectors)[":"]=S.expr.pseudos,S.uniqueSort=S.unique=C.uniqueSort,S.text=C.getText,S.isXMLDoc=C.isXML,S.contains=C.contains,S.escapeSelector=C.escape;var E=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(i))break;n.push(t)}return n},A=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},L=S.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,i){return _(e)?S.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?S.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?S.grep(t,(function(t){return d.call(e,t)>-1!==i})):S.filter(e,t,i)}S.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?S.find.matchesSelector(n,t)?[n]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)S.find(t,r[e],i);return n>1?S.uniqueSort(i):i},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&L.test(t)?S(t):t||[],!1).length}});var I,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||I,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(n[1])&&S.isPlainObject(e))for(n in e)_(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=s.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==i.ready?i.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,I=S(s);var R=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,o=[],a="string"!=typeof t&&S(t);if(!L.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&S.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(S(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,i){return E(t,"parentNode",i)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,i){return E(t,"nextSibling",i)},prevUntil:function(t,e,i){return E(t,"previousSibling",i)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(D(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(i,n){var r=S.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=S.filter(n,r)),this.length>1&&(F[t]||S.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}}));var U=/[^\x20\t\r\n\f]+/g;function Y(t){return t}function V(t){throw t}function H(t,e,i,n){var r;try{t&&_(r=t.promise)?r.call(t).done(e).fail(i):t&&_(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(U)||[],(function(t,i){e[i]=!0})),e}(t):S.extend({},t);var e,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(s=o.length-1,a.push(i)),function e(i){S.each(i,(function(i,n){_(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==M(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return S.each(arguments,(function(t,e){for(var i;(i=S.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(i){S.each(e,(function(e,n){var r=_(t[n[4]])&&t[n[4]];a[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&_(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,o){var a=0;function s(t,e,i,o){return function(){var l=this,c=arguments,u=function(){var r,u;if(!(t<a)){if((r=i.apply(l,c))===e.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"===n(r)||"function"==typeof r)&&r.then,_(u)?o?u.call(r,s(a,e,Y,o),s(a,e,V,o)):(a++,u.call(r,s(a,e,Y,o),s(a,e,V,o),s(a,e,Y,e.notifyWith))):(i!==Y&&(l=void 0,c=[r]),(o||e.resolveWith)(l,c))}},h=o?u:function(){try{u()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,h.stackTrace),t+1>=a&&(i!==V&&(l=void 0,c=[n]),e.rejectWith(l,c))}};t?h():(S.Deferred.getStackHook&&(h.stackTrace=S.Deferred.getStackHook()),r.setTimeout(h))}}return S.Deferred((function(n){e[0][3].add(s(0,n,_(o)?o:Y,n.notifyWith)),e[1][3].add(s(0,n,_(t)?t:Y)),e[2][3].add(s(0,n,_(i)?i:V))})).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},a={};return S.each(e,(function(t,n){var r=n[2],s=n[5];o[n[1]]=r.add,s&&r.add((function(){i=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),r.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=r.fireWith})),o.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,i=e,n=Array(i),r=c.call(arguments),o=S.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?c.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(H(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||_(r[i]&&r[i].then)))return o.then();for(;i--;)H(r[i],a(i),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&B.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){r.setTimeout((function(){throw t}))};var z=S.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),r.removeEventListener("load",W),S.ready()}S.fn.ready=function(t){return z.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||z.resolveWith(s,[S]))}}),S.ready.then=z.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?r.setTimeout(S.ready):(s.addEventListener("DOMContentLoaded",W),r.addEventListener("load",W));var q=function t(e,i,n,r,o,a,s){var l=0,c=e.length,u=null==n;if("object"===M(n))for(l in o=!0,n)t(e,i,l,n[l],!0,a,s);else if(void 0!==r&&(o=!0,_(r)||(s=!0),u&&(s?(i.call(e,r),i=null):(u=i,i=function(t,e,i){return u.call(S(t),i)})),i))for(;l<c;l++)i(e[l],n,s?r:r.call(e[l],l,i(e[l],n)));return o?e:u?i.call(e):c?i(e[0],n):a},G=/^-ms-/,$=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function K(t){return t.replace(G,"ms-").replace($,X)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=S.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[K(e)]=i;else for(n in e)r[K(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(U)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||S.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Z=new Q,tt=new Q,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,it=/[A-Z]/g;function nt(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(it,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(i)}catch(t){}tt.set(t,e,i)}else i=void 0;return i}S.extend({hasData:function(t){return tt.hasData(t)||Z.hasData(t)},data:function(t,e,i){return tt.access(t,e,i)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),S.fn.extend({data:function(t,e){var i,r,o,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(o=tt.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(r=s[i].name).indexOf("data-")&&(r=K(r.slice(5)),nt(a,r,o[r]));Z.set(a,"hasDataAttrs",!0)}return o}return"object"===n(t)?this.each((function(){tt.set(this,t)})):q(this,(function(e){var i;if(a&&void 0===e)return void 0!==(i=tt.get(a,t))||void 0!==(i=nt(a,t))?i:void 0;this.each((function(){tt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){tt.remove(this,t)}))}}),S.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Z.get(t,e),i&&(!n||Array.isArray(i)?n=Z.access(t,e,S.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=S.queue(t,e=e||"fx"),n=i.length,r=i.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,(function(){S.dequeue(t,e)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:S.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",i])}))})}}),S.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?S.queue(this[0],t):void 0===e?this:this.each((function(){var i=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=S.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Z.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],st=s.documentElement,lt=function(t){return S.contains(t.ownerDocument,t)},ct={composed:!0};st.getRootNode&&(lt=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(ct)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&lt(t)&&"none"===S.css(t,"display")},ht=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=a[o];return r};function dt(t,e,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return S.css(t,e,"")},l=s(),c=i&&i[3]||(S.cssNumber[e]?"":"px"),u=t.nodeType&&(S.cssNumber[e]||"px"!==c&&+l)&&ot.exec(S.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)S.style(t,e,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;S.style(t,e,(u*=2)+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}var pt={};function ft(t){var e,i=t.ownerDocument,n=t.nodeName,r=pt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=S.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),pt[n]=r,r)}function mt(t,e){for(var i,n,r=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=Z.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&ut(n)&&(r[o]=ft(n))):"none"!==i&&(r[o]="none",Z.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}S.fn.extend({show:function(){return mt(this,!0)},hide:function(){return mt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?S(this).show():S(this).hide()}))}});var gt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?S.merge([t],i):i}function wt(t,e){for(var i=0,n=t.length;i<n;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td;var xt,Mt,St=/<|&#?\w+;/;function kt(t,e,i,n,r){for(var o,a,s,l,c,u,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===M(o))S.merge(d,o.nodeType?[o]:o);else if(St.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(vt.exec(o)||["",""])[1].toLowerCase(),l=_t[s]||_t._default,a.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;S.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(n&&S.inArray(o,n)>-1)r&&r.push(o);else if(c=lt(o),a=bt(h.appendChild(o),"script"),c&&wt(a),i)for(u=0;o=a[u++];)yt.test(o.type||"")&&i.push(o);return h}xt=s.createDocumentFragment().appendChild(s.createElement("div")),(Mt=s.createElement("input")).setAttribute("type","radio"),Mt.setAttribute("checked","checked"),Mt.setAttribute("name","t"),xt.appendChild(Mt),y.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var Tt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function Lt(){return!1}function Dt(t,e){return t===function(){try{return s.activeElement}catch(t){}}()==("focus"===e)}function Pt(t,e,i,r,o,a){var s,l;if("object"===n(e)){for(l in"string"!=typeof i&&(r=r||i,i=void 0),e)Pt(t,l,i,r,e[l],a);return t}if(null==r&&null==o?(o=i,r=i=void 0):null==o&&("string"==typeof i?(o=r,r=void 0):(o=r,r=i,i=void 0)),!1===o)o=Lt;else if(!o)return t;return 1===a&&(s=o,(o=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,o,r,i)}))}function Ot(t,e,i){i?(Z.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var n,r,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=c.call(arguments),Z.set(this,e,o),n=i(this,e),this[e](),o!==(r=Z.get(this,e))||n?Z.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Z.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&S.event.add(t,e,At)}S.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,c,u,h,d,p,f,m,g=Z.get(t);if(g)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&S.find.matchesSelector(st,r),i.guid||(i.guid=S.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(U)||[""]).length;c--;)p=m=(s=Et.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=S.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=S.event.special[p]||{},u=S.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),S.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,a,s,l,c,u,h,d,p,f,m,g=Z.hasData(t)&&Z.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(U)||[""]).length;c--;)if(p=m=(s=Et.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=S.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||S.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)S.event.remove(t,p+e[c],i,n,!0);S.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,a,s=S.event.fix(t),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[s.type]||[],u=S.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,n,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=e[i]).selector+" "]&&(a[r]=n.needsContext?S(r,this).index(c)>-1:S.find(r,this,null,[c]).length),a[r]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Ot(e,"click",At),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Ot(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&D(e,"input")&&Z.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},(S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?At:Lt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0}).prototype={constructor:S.Event,isDefaultPrevented:Lt,isPropagationStopped:Lt,isImmediatePropagationStopped:Lt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return Ot(this,t,Dt),!1},trigger:function(){return Ot(this,t),!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||S.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}})),S.fn.extend({on:function(t,e,i,n){return Pt(this,t,e,i,n)},one:function(t,e,i,n){return Pt(this,t,e,i,n,1)},off:function(t,e,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===n(t)){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Lt),this.each((function(){S.event.remove(this,t,i,e)}))}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Ut(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Yt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Vt(t,e){var i,n,r,o,a,s,l,c;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),a=Z.set(e,o),c=o.events))for(r in delete a.handle,a.events={},c)for(i=0,n=c[r].length;i<n;i++)S.event.add(e,r,c[r][i]);tt.hasData(t)&&(s=tt.access(t),l=S.extend({},s),tt.set(e,l))}}function Ht(t,e){var i=e.nodeName.toLowerCase();"input"===i&&gt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Bt(t,e,i,n){e=u.apply([],e);var r,o,a,s,l,c,h=0,d=t.length,p=d-1,f=e[0],m=_(f);if(m||d>1&&"string"==typeof f&&!y.checkClone&&Rt.test(f))return t.each((function(r){var o=t.eq(r);m&&(e[0]=f.call(this,r,o.html())),Bt(o,e,i,n)}));if(d&&(o=(r=kt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(s=(a=S.map(bt(r,"script"),Ut)).length;h<d;h++)l=r,h!==p&&(l=S.clone(l,!0,!0),s&&S.merge(a,bt(l,"script"))),i.call(t[h],l,h);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Yt),h=0;h<s;h++)l=a[h],yt.test(l.type||"")&&!Z.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Ft,""),l,c))}return t}function zt(t,e,i){for(var n,r=e?S.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||S.cleanData(bt(n)),n.parentNode&&(i&&lt(n)&&wt(bt(n,"script")),n.parentNode.removeChild(n));return t}S.extend({htmlPrefilter:function(t){return t.replace(It,"<$1></$2>")},clone:function(t,e,i){var n,r,o,a,s=t.cloneNode(!0),l=lt(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=bt(s),n=0,r=(o=bt(t)).length;n<r;n++)Ht(o[n],a[n]);if(e)if(i)for(o=o||bt(t),a=a||bt(s),n=0,r=o.length;n<r;n++)Vt(o[n],a[n]);else Vt(t,s);return(a=bt(s,"script")).length>0&&wt(a,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,i,n,r=S.event.special,o=0;void 0!==(i=t[o]);o++)if(J(i)){if(e=i[Z.expando]){if(e.events)for(n in e.events)r[n]?S.event.remove(i,n):S.removeEvent(i,n,e.handle);i[Z.expando]=void 0}i[tt.expando]&&(i[tt.expando]=void 0)}}}),S.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return q(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return q(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!_t[(vt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(S.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var i=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(bt(this)),i&&i.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var i,n=[],r=S(t),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),S(r[a])[e](i),h.apply(n,i.get());return this.pushStack(n)}}));var Wt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Gt=new RegExp(at.join("|"),"i");function $t(t,e,i){var n,r,o,a,s=t.style;return(i=i||qt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||lt(t)||(a=S.style(t,e)),!y.pixelBoxStyles()&&Wt.test(a)&&Gt.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(c).appendChild(u);var t=r.getComputedStyle(u);i="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),n=36===e(t.width),u.style.position="absolute",o=12===e(u.offsetWidth/3),st.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var i,n,o,a,l,c=s.createElement("div"),u=s.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Kt=["Webkit","Moz","ms"],Jt=s.createElement("div").style,Qt={};function Zt(t){var e=S.cssProps[t]||Qt[t];return e||(t in Jt?t:Qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Kt.length;i--;)if((t=Kt[i]+e)in Jt)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ie={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"};function re(t,e,i){var n=ot.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function oe(t,e,i,n,r,o){var a="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=S.css(t,i+at[a],!0,r)),n?("content"===i&&(l-=S.css(t,"padding"+at[a],!0,r)),"margin"!==i&&(l-=S.css(t,"border"+at[a]+"Width",!0,r))):(l+=S.css(t,"padding"+at[a],!0,r),"padding"!==i?l+=S.css(t,"border"+at[a]+"Width",!0,r):s+=S.css(t,"border"+at[a]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ae(t,e,i){var n=qt(t),r=(!y.boxSizingReliable()||i)&&"border-box"===S.css(t,"boxSizing",!1,n),o=r,a=$t(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(a)){if(!i)return a;a="auto"}return(!y.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===S.css(t,"boxSizing",!1,n),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+oe(t,e,i||(r?"border":"content"),o,n,a)+"px"}function se(t,e,i,n,r){return new se.prototype.init(t,e,i,n,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=$t(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=K(e),c=ee.test(e),u=t.style;if(c||(e=Zt(l)),s=S.cssHooks[e]||S.cssHooks[l],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,r))?o:u[e];"string"===(a=n(i))&&(o=ot.exec(i))&&o[1]&&(i=dt(t,e,o),a="number"),null!=i&&i==i&&("number"!==a||c||(i+=o&&o[3]||(S.cssNumber[l]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,r))||(c?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var r,o,a,s=K(e);return ee.test(e)||(e=Zt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=$t(t,e,n)),"normal"===r&&e in ne&&(r=ne[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,i,n){if(i)return!te.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ae(t,e,n):ht(t,ie,(function(){return ae(t,e,n)}))},set:function(t,i,n){var r,o=qt(t),a=!y.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===S.css(t,"boxSizing",!1,o),l=n?oe(t,e,n,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-oe(t,e,"border",!1,o)-.5)),l&&(r=ot.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=S.css(t,e)),re(0,i,l)}}})),S.cssHooks.marginLeft=Xt(y.reliableMarginLeft,(function(t,e){if(e)return(parseFloat($t(t,"marginLeft"))||t.getBoundingClientRect().left-ht(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+at[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(S.cssHooks[t+e].set=re)})),S.fn.extend({css:function(t,e){return q(this,(function(t,e,i){var n,r,o={},a=0;if(Array.isArray(e)){for(n=qt(t),r=e.length;a<r;a++)o[e[a]]=S.css(t,e[a],!1,n);return o}return void 0!==i?S.style(t,e,i):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=se,se.prototype={constructor:se,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(S.fx=se.prototype.init).step={};var le,ce,ue=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function de(){ce&&(!1===s.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(de):r.setTimeout(de,S.fx.interval),S.fx.tick())}function pe(){return r.setTimeout((function(){le=void 0})),le=Date.now()}function fe(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=at[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function me(t,e,i){for(var n,r=(ge.tweeners[e]||[]).concat(ge.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function ge(t,e,i){var n,r,o=0,a=ge.prefilters.length,s=S.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=le||pe(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(t,[c,n,i]),n<1&&a?i:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},i),originalProperties:e,originalOptions:i,startTime:le||pe(),duration:i.duration,tweens:[],createTween:function(e,i){var n=S.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var i,n,r,o,a;for(i in t)if(r=e[n=K(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=S.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(u,c.opts.specialEasing);o<a;o++)if(n=ge.prefilters[o].call(c,t,u,c.opts))return _(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return S.map(u,me,c),_(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(ge,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return dt(i.elem,t,ot.exec(e),i),i}]},tweener:function(t,e){_(t)?(e=t,t=["*"]):t=t.match(U);for(var i,n=0,r=t.length;n<r;n++)i=t[n],ge.tweeners[i]=ge.tweeners[i]||[],ge.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,o,a,s,l,c,u,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&ut(t),g=Z.get(t,"fxshow");for(n in i.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[n],ue.test(r)){if(delete e[n],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||S.style(t,n)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(n in h&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Z.get(t,"display")),"none"===(u=S.css(t,"display"))&&(c?u=c:(mt([t],!0),c=t.style.display||c,u=S.css(t,"display"),mt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&mt([t],!0),d.done((function(){for(n in m||mt([t]),Z.remove(t,"fxshow"),p)S.style(t,n,p[n])}))),l=me(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ge.prefilters.unshift(t):ge.prefilters.push(t)}}),S.speed=function(t,e,i){var r=t&&"object"===n(t)?S.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=S.isEmptyObject(t),o=S.speed(e,i,n),a=function(){var e=ge(this,S.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=S.timers,a=Z.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&he.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=Z.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=S.timers,a=n?n.length:0;for(i.finish=!0,S.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var i=S.fn[e];S.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(fe(e,!0),t,n,r)}})),S.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),S.timers=[],S.fx.tick=function(){var t,e=0,i=S.timers;for(le=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||S.fx.stop(),le=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ce||(ce=!0,de())},S.fx.stop=function(){ce=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var n=r.setTimeout(e,t);i.stop=function(){r.clearTimeout(n)}}))},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var ve,ye=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return q(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,i):(1===o&&S.isXMLDoc(t)||(r=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?ve:void 0)),void 0!==i?null===i?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=S.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&D(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(U);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ve={set:function(t,e,i){return!1===e?S.removeAttr(t,i):t.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=ye[e]||S.find.attr;ye[e]=function(t,e,n){var r,o,a=e.toLowerCase();return n||(o=ye[a],ye[a]=r,r=null!=i(t,e,n)?a:null,ye[a]=o),r}}));var _e=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function we(t){return(t.match(U)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function Me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(U)||[]}S.fn.extend({prop:function(t,e){return q(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,i,n,r,o,a,s,l=0;if(_(t))return this.each((function(e){S(this).addClass(t.call(this,e,xe(this)))}));if((e=Me(t)).length)for(;i=this[l++];)if(r=xe(i),n=1===i.nodeType&&" "+we(r)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(s=we(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,o,a,s,l=0;if(_(t))return this.each((function(e){S(this).removeClass(t.call(this,e,xe(this)))}));if(!arguments.length)return this.attr("class","");if((e=Me(t)).length)for(;i=this[l++];)if(r=xe(i),n=1===i.nodeType&&" "+we(r)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(s=we(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=n(t),r="string"===i||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):_(t)?this.each((function(i){S(this).toggleClass(t.call(this,i,xe(this),e),e)})):this.each((function(){var e,n,o,a;if(r)for(n=0,o=S(this),a=Me(t);e=a[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=xe(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+we(xe(i))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;S.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=_(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,S(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=S.map(r,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Se,""):null==i?"":i:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:we(S.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){if(e=S(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=S.makeArray(e),a=r.length;a--;)((n=r[a]).selected=S.inArray(S.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},y.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),y.focusin="onfocusin"in r;var ke=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,i,o){var a,l,c,u,h,d,p,f,g=[i||s],v=m.call(t,"type")?t.type:t,y=m.call(t,"namespace")?t.namespace.split("."):[];if(l=f=c=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!ke.test(v+S.event.triggered)&&(v.indexOf(".")>-1&&(y=v.split("."),v=y.shift(),y.sort()),h=v.indexOf(":")<0&&"on"+v,(t=t[S.expando]?t:new S.Event(v,"object"===n(t)&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),p=S.event.special[v]||{},o||!p.trigger||!1!==p.trigger.apply(i,e))){if(!o&&!p.noBubble&&!b(i)){for(u=p.delegateType||v,ke.test(u+v)||(l=l.parentNode);l;l=l.parentNode)g.push(l),c=l;c===(i.ownerDocument||s)&&g.push(c.defaultView||c.parentWindow||r)}for(a=0;(l=g[a++])&&!t.isPropagationStopped();)f=l,t.type=a>1?u:p.bindType||v,(d=(Z.get(l,"events")||{})[t.type]&&Z.get(l,"handle"))&&d.apply(l,e),(d=h&&l[h])&&d.apply&&J(l)&&(t.result=d.apply(l,e),!1===t.result&&t.preventDefault());return t.type=v,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),e)||!J(i)||h&&_(i[v])&&!b(i)&&((c=i[h])&&(i[h]=null),S.event.triggered=v,t.isPropagationStopped()&&f.addEventListener(v,Te),i[v](),t.isPropagationStopped()&&f.removeEventListener(v,Te),S.event.triggered=void 0,c&&(i[h]=c)),t.result}},simulate:function(t,e,i){var n=S.extend(new S.Event,i,{type:t,isSimulated:!0});S.event.trigger(n,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return S.event.trigger(t,e,i,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Z.access(n,e);r||n.addEventListener(t,i,!0),Z.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Z.access(n,e)-1;r?Z.access(n,e,r):(n.removeEventListener(t,i,!0),Z.remove(n,e))}}}));var Ce=r.location,Ee=Date.now(),Ae=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var Le=/\[\]$/,De=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,i,r){var o;if(Array.isArray(e))S.each(e,(function(e,o){i||Le.test(t)?r(t,o):Ie(t+"["+("object"===n(o)&&null!=o?e:"")+"]",o,i,r)}));else if(i||"object"!==M(e))r(t,e);else for(o in e)Ie(t+"["+o+"]",e[o],i,r)}S.param=function(t,e){var i,n=[],r=function(t,e){var i=_(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){r(this.name,this.value)}));else for(i in t)Ie(i,t[i],e,r);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Oe.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,(function(t){return{name:e.name,value:t.replace(De,"\r\n")}})):{name:e.name,value:i.replace(De,"\r\n")}})).get()}});var Ne=/%20/g,Re=/#.*$/,Fe=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ve={},He={},Be="*/".concat("*"),ze=s.createElement("a");function We(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(U)||[];if(_(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function qe(t,e,i,n){var r={},o=t===He;function a(s){var l;return r[s]=!0,S.each(t[s]||[],(function(t,s){var c=s(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ge(t,e){var i,n,r=S.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&S.extend(!0,t,n),t}ze.href=Ce.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,S.ajaxSettings),e):Ge(S.ajaxSettings,t)},ajaxPrefilter:We(Ve),ajaxTransport:We(He),ajax:function(t,e){"object"===n(t)&&(e=t,t=void 0);var i,o,a,l,c,u,h,d,p,f,m=S.ajaxSetup({},e=e||{}),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?S(g):S.event,y=S.Deferred(),_=S.Callbacks("once memory"),b=m.statusCode||{},w={},x={},M="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(h){if(!l)for(l={};e=je.exec(a);)l[e[1].toLowerCase()+" "]=(l[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=l[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?a:null},setRequestHeader:function(t,e){return null==h&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==h&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||M;return i&&i.abort(e),T(0,e),this}};if(y.promise(k),m.url=((t||m.url||Ce.href)+"").replace(Ye,Ce.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(U)||[""],null==m.crossDomain){u=s.createElement("a");try{u.href=m.url,u.href=u.href,m.crossDomain=ze.protocol+"//"+ze.host!=u.protocol+"//"+u.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=S.param(m.data,m.traditional)),qe(Ve,m,e,k),h)return k;for(p in(d=S.event&&m.global)&&0==S.active++&&S.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ue.test(m.type),o=m.url.replace(Re,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ne,"+")):(f=m.url.slice(o.length),m.data&&(m.processData||"string"==typeof m.data)&&(o+=(Ae.test(o)?"&":"?")+m.data,delete m.data),!1===m.cache&&(o=o.replace(Fe,"$1"),f=(Ae.test(o)?"&":"?")+"_="+Ee+++f),m.url=o+f),m.ifModified&&(S.lastModified[o]&&k.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&k.setRequestHeader("If-None-Match",S.etag[o])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&k.setRequestHeader("Content-Type",m.contentType),k.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Be+"; q=0.01":""):m.accepts["*"]),m.headers)k.setRequestHeader(p,m.headers[p]);if(m.beforeSend&&(!1===m.beforeSend.call(g,k,m)||h))return k.abort();if(M="abort",_.add(m.complete),k.done(m.success),k.fail(m.error),i=qe(He,m,e,k)){if(k.readyState=1,d&&v.trigger("ajaxSend",[k,m]),h)return k;m.async&&m.timeout>0&&(c=r.setTimeout((function(){k.abort("timeout")}),m.timeout));try{h=!1,i.send(w,T)}catch(t){if(h)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,n,s){var l,u,p,f,w,x=e;h||(h=!0,c&&r.clearTimeout(c),i=void 0,a=s||"",k.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(f=function(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(m,k,n)),f=function(t,e,i,n){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(m,f,k,l),l?(m.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=w),(w=k.getResponseHeader("etag"))&&(S.etag[o]=w)),204===t||"HEAD"===m.type?x="nocontent":304===t?x="notmodified":(x=f.state,u=f.data,l=!(p=f.error))):(p=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(e||x)+"",l?y.resolveWith(g,[u,x,k]):y.rejectWith(g,[k,x,p]),k.statusCode(b),b=void 0,d&&v.trigger(l?"ajaxSuccess":"ajaxError",[k,m,l?u:p]),_.fireWith(g,[k,x]),d&&(v.trigger("ajaxComplete",[k,m]),--S.active||S.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,i){return S.get(t,e,i,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,i,n,r){return _(i)&&(r=r||n,n=i,i=void 0),S.ajax(S.extend({url:t,type:e,dataType:r,data:i,success:n},S.isPlainObject(t)&&t))}})),S._evalUrl=function(t,e){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return _(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=_(t);return this.each((function(i){S(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Xe=S.ajaxSettings.xhr();y.cors=!!Xe&&"withCredentials"in Xe,y.ajax=Xe=!!Xe,S.ajaxTransport((function(t){var e,i;if(y.cors||Xe&&!t.crossDomain)return{send:function(n,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)s.setRequestHeader(a,n[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($e[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){e&&i()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ke,Je=[],Qe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||S.expando+"_"+Ee++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,i){var n,o,a,s=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qe,"$1"+n):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return a||S.error(n+" was not called"),a[0]},t.dataTypes[0]="json",o=r[n],r[n]=function(){a=arguments},i.always((function(){void 0===o?S(r).removeProp(n):r[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,Je.push(n)),a&&_(o)&&o(a[0]),a=o=void 0})),"script"})),y.createHTMLDocument=((Ke=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ke.childNodes.length),S.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?((n=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(n)):e=s),o=!i&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=kt([t],e,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var n,r,o},S.fn.load=function(t,e,i){var r,o,a,s=this,l=t.indexOf(" ");return l>-1&&(r=we(t.slice(l)),t=t.slice(0,l)),_(e)?(i=e,e=void 0):e&&"object"===n(e)&&(o="POST"),s.length>0&&S.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){a=arguments,s.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)})).always(i&&function(t,e){s.each((function(){i.apply(this,a||[t.responseText,e,t])}))}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,c=S.css(t,"position"),u=S(t),h={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=S.css(t,"top"),l=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(n=u.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),_(e)&&(e=e.call(t,i,S.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):u.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===S.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),r.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-S.css(n,"marginTop",!0),left:e.left-r.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||st}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;S.fn[t]=function(n){return q(this,(function(t,n,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r}),t,n,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Xt(y.pixelPosition,(function(t,i){if(i)return i=$t(t,e),Wt.test(i)?S(t).position()[e]+"px":i}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){S.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return q(this,(function(e,i,r){var o;return b(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?S.css(e,i,s):S.style(e,i,r,s)}),e,a?r:void 0,a)}}))})),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),S.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return n=c.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(c.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=D,S.isFunction=_,S.isWindow=b,S.camelCase=K,S.type=M,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return S}.apply(e,[]))||(t.exports=i);var Ze=r.jQuery,ti=r.$;return S.noConflict=function(t){return r.$===S&&(r.$=ti),t&&r.jQuery===S&&(r.jQuery=Ze),S},o||(r.jQuery=r.$=S),S}))}).call(this,i(88)(t))},function(t,e,i){(function(n){var r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a="object"==("undefined"==typeof self?"undefined":s(self))&&self.self==self&&self||"object"==(void 0===n?"undefined":s(n))&&n.global==n&&n,r=[i(5),i(2),e],void 0===(o=function(t,e,i){a.Backbone=function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){i.each(e,(function(e,r){i[r]&&(t.prototype[r]=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,o){return i[e](this[n],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}}(e,r,n))}))},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?c(t):i.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},h=/\s+/,d=function t(e,n,r,o,a){var l,c=0;if(r&&"object"===s(r)){void 0!==o&&"context"in a&&void 0===a.context&&(a.context=o);for(l=i.keys(r);c<l.length;c++)n=t(e,n,l[c],r[l[c]],a)}else if(r&&h.test(r))for(l=r.split(h);c<l.length;c++)n=e(n,l[c],o,a);else n=e(n,r,o,a);return n};u.on=function(t,e,i){return p(this,t,e,i)};var p=function(t,e,i,n,r){return t._events=d(f,t._events||{},e,i,{context:n,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};u.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=i.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return p(t,e,n,this,a),this};var f=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,a=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:o,ctx:o||a,listening:s})}return t};u.off=function(t,e,i){return this._events?(this._events=d(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},u.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,n,this)}return i.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(t,e,n,r){if(t){var o,a=0,s=r.context,l=r.listeners;if(e||n||s){for(var c=e?[e]:i.keys(t);a<c.length;a++){var u=t[e=c[a]];if(!u)break;for(var h=[],d=0;d<u.length;d++){var p=u[d];n&&n!==p.callback&&n!==p.callback._callback||s&&s!==p.context?h.push(p):(o=p.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}h.length?t[e]=h:delete t[e]}return i.size(t)?t:void 0}for(var f=i.keys(l);a<f.length;a++)delete l[(o=l[f[a]]).id],delete o.listeningTo[o.objId]}};u.once=function(t,e,n){var r=d(g,{},t,e,i.bind(this.off,this));return this.on(r,void 0,n)},u.listenToOnce=function(t,e,n){var r=d(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,n,r){if(n){var o=t[e]=i.once((function(){r(e,o),n.apply(this,arguments)}));o._callback=n}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};u.bind=u.on,u.unbind=u.off,i.extend(e,u);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"===s(t)?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,a=n.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,h=this.changed,d=this._previousAttributes;for(var p in r)e=r[p],i.isEqual(u[p],e)||l.push(p),i.isEqual(d[p],e)?delete h[p]:h[p]=e,o?delete u[p]:u[p]=e;if(this.id=this.get(this.idAttribute),!a){l.length&&(this._pending=n);for(var f=0;f<l.length;f++)this.trigger("change:"+l[f],this,u[l[f]],n)}if(c)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var o=t[r];i.isEqual(e[r],o)||(n[r]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},j(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"===s(t)?(r=t,n=e):(r={})[t]=e;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var a=this,l=n.success,c=this.attributes;n.success=function(t){a.attributes=c;var e=n.parse?a.parse(t,n):t;if(o&&(e=i.extend({},r,e)),e&&!a.set(e,n))return!1;l&&l.call(n.context,a,t,n),a.trigger("sync",a,t,n)},j(this,n),r&&o&&(this.attributes=i.extend({},c,r));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=r);var h=this.sync(u,this,n);return this.attributes=c,h},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(j(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),a(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},M=function(t,e,i){i=Math.min(Math.max(i,0),t.length);for(var n=Array(t.length-i),r=e.length,o=0;o<n.length;o++)n[o]=t[o+i];for(o=0;o<r;o++)t[o+i]=e[o];for(o=0;o<n.length;o++)t[o+r+i]=n[o]};i.extend(b.prototype,u,{model:_,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:i.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.defaults({},e,w)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],l=[],c={},u=e.add,h=e.merge,d=e.remove,p=!1,f=this.comparator&&null==r&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){o=t[g];var v=this.get(o);if(v){if(h&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),f&&!p&&(p=v.hasChanged(m))}c[v.cid]||(c[v.cid]=!0,a.push(v)),t[g]=v}else u&&(o=t[g]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),c[o.cid]=!0,a.push(o))}if(d){for(g=0;g<this.length;g++)c[(o=this.models[g]).cid]||l.push(o);l.length&&this._removeModels(l,e)}var _=!1,b=!f&&u&&d;if(a.length&&b?(_=this.length!=a.length||i.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,M(this.models,a,0),this.length=this.models.length):s.length&&(f&&(p=!0),M(this.models,s,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!e.silent){for(g=0;g<s.length;g++)null!=r&&(e.index=r+g),(o=s[g]).trigger("add",o,this,e);(p||_)&&this.trigger("sort",this,e),(s.length||l.length)&&this.trigger("update",this,e)}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return!!i.length&&i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(S.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(k);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var o=C[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=i.result(n,"url")||F()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(a,r));return n.trigger("request",n,c,r),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(E.prototype,u,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,(function(i){var a=o._extractParameters(t,i);!1!==o.execute(r,a,n)&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(A,"(?:$1)?").replace(L,(function(t,e){return e?t:"([^/?]+)"})).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var O=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,R=/#.*$/;O.started=!1,i.extend(O.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(I,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(R,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new O,_.extend=b.extend=E.extend=S.extend=O.extend=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e);var o=function(){this.constructor=n};return o.prototype=r.prototype,n.prototype=new o,t&&i.extend(n.prototype,t),n.__super__=r.prototype,n};var F=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e}(a,i,t,e)}.apply(e,r))||(t.exports=o)}).call(this,i(51))},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(e){var i={acceptcharset:"acceptCharset",accesskey:"accessKey",allowtransparency:"allowTransparency",bgcolor:"bgColor",cellpadding:"cellPadding",cellspacing:"cellSpacing",class:"className",classname:"className",colspan:"colSpan",csstext:"style",defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defaultValue",for:"htmlFor",frameborder:"frameBorder",hspace:"hSpace",htmlfor:"htmlFor",longdesc:"longDesc",maxlength:"maxLength",marginwidth:"marginWidth",marginheight:"marginHeight",noresize:"noResize",noshade:"noShade",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",valign:"vAlign",vspace:"vSpace"};function r(){for(var t=document.createElement(arguments[0]),e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)if(1===r.nodeType)t.appendChild(r);else if(""===r||r&&r.charCodeAt&&r.substr||0===r||r&&r.toExponential&&r.toFixed)t.appendChild(document.createTextNode(r));else if(1===e&&"object"===n(r)){for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(null!=a){o=o.toLowerCase();var s="o"===(o=i[o]||o).charAt(0)&&"n"===o.charAt(1);s?(void 0===r.href&&"onclick"===o&&t.setAttribute("href","#"),t[o]=a):"style"===o&&t.style.setAttribute?t.style.setAttribute("cssText",a):"className"===o||"htmlFor"===o?t[o]=a:t.setAttribute(o,a)}}}else if("[object Array]"===Object.prototype.toString.call(r))for(var l=0;l<r.length;l++){var c=r[l];1===c.nodeType&&t.appendChild(c)}}return t.appendTo=function(e){return 1===e.nodeType&&1===this.nodeType&&e.appendChild(this),t},t}r.registerElement=function(t,e){r[t]||(r[t]=function(){var i=r("div",{class:t});return e.apply(i,Array.prototype.slice.call(arguments)),i})};for(var o=["a","abbr","address","area","article","aside","audio","b","base","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","var","video","wbr"].concat(["acronym","applet","basefont","big","center","dir","font","frame","frameset","noframes","strike","tt","u","xmp"]),a=function(t){return function(){return r.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}},s=0;s<o.length;s++)r[o[s]]=a(o[s]);if(t.exports)t.exports=r;else{var l=e.$||{};l.el=r,e.$=l}}(this)},function(t,e,i){(function(t,i){var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var o="object"==("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self||"object"==(void 0===t?"undefined":r(t))&&t.global===t&&t||this||{},a=o._,s=Array.prototype,l=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,h=s.slice,d=l.toString,p=l.hasOwnProperty,f=Array.isArray,m=Object.keys,g=Object.create,v=function(){},y=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};e.nodeType?o._=y:(!i.nodeType&&i.exports&&(e=i.exports=y),e._=y),y.VERSION="1.9.1";var _,b=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){return y.iteratee!==_?y.iteratee(t,e):null==t?y.identity:y.isFunction(t)?b(t,e,i):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=_=function(t,e){return w(t,e,1/0)};var x=function(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=n,t.apply(this,o)}},M=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},k=function(t,e){return null!=t&&p.call(t,e)},T=function(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0},C=Math.pow(2,53)-1,E=S("length"),A=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=C};y.each=y.forEach=function(t,e,i){var n,r;if(e=b(e,i),A(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=y.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},y.map=y.collect=function(t,e,i){e=w(e,i);for(var n=!A(t)&&y.keys(t),r=(n||t).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o};var L=function(t){var e=function(e,i,n,r){var o=!A(e)&&y.keys(e),a=(o||e).length,s=t>0?0:a-1;for(r||(n=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;n=i(n,e[l],l,e)}return n};return function(t,i,n,r){var o=arguments.length>=3;return e(t,b(i,r,4),n,o)}};y.reduce=y.foldl=y.inject=L(1),y.reduceRight=y.foldr=L(-1),y.find=y.detect=function(t,e,i){var n=(A(t)?y.findIndex:y.findKey)(t,e,i);if(void 0!==n&&-1!==n)return t[n]},y.filter=y.select=function(t,e,i){var n=[];return e=w(e,i),y.each(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n},y.reject=function(t,e,i){return y.filter(t,y.negate(w(e)),i)},y.every=y.all=function(t,e,i){e=w(e,i);for(var n=!A(t)&&y.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,i){e=w(e,i);for(var n=!A(t)&&y.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,i,n){return A(t)||(t=y.values(t)),("number"!=typeof i||n)&&(i=0),y.indexOf(t,e,i)>=0},y.invoke=x((function(t,e,i){var n,r;return y.isFunction(e)?r=e:y.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),y.map(t,(function(t){var o=r;if(!o){if(n&&n.length&&(t=T(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,i)}))})),y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,i){var n,o,a=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=r(t[0])&&null!=t)for(var l=0,c=(t=A(t)?t:y.values(t)).length;l<c;l++)null!=(n=t[l])&&n>a&&(a=n);else e=w(e,i),y.each(t,(function(t,i,n){((o=e(t,i,n))>s||o===-1/0&&a===-1/0)&&(a=t,s=o)}));return a},y.min=function(t,e,i){var n,o,a=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=r(t[0])&&null!=t)for(var l=0,c=(t=A(t)?t:y.values(t)).length;l<c;l++)null!=(n=t[l])&&n<a&&(a=n);else e=w(e,i),y.each(t,(function(t,i,n){((o=e(t,i,n))<s||o===1/0&&a===1/0)&&(a=t,s=o)}));return a},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,i){if(null==e||i)return A(t)||(t=y.values(t)),t[y.random(t.length-1)];var n=A(t)?y.clone(t):y.values(t),r=E(n);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=y.random(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,e)},y.sortBy=function(t,e,i){var n=0;return e=w(e,i),y.pluck(y.map(t,(function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}})).sort((function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index})),"value")};var D=function(t,e){return function(i,n,r){var o=e?[[],[]]:{};return n=w(n,r),y.each(i,(function(e,r){var a=n(e,r,i);t(o,e,a)})),o}};y.groupBy=D((function(t,e,i){k(t,i)?t[i].push(e):t[i]=[e]})),y.indexBy=D((function(t,e,i){t[i]=e})),y.countBy=D((function(t,e,i){k(t,i)?t[i]++:t[i]=1}));var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?h.call(t):y.isString(t)?t.match(P):A(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:A(t)?t.length:y.keys(t).length},y.partition=D((function(t,e,i){t[i?0:1].push(e)}),!0),y.first=y.head=y.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,i){return h.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},y.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},y.compact=function(t){return y.filter(t,Boolean)};var O=function t(e,i,n,r){for(var o=(r=r||[]).length,a=0,s=E(e);a<s;a++){var l=e[a];if(A(l)&&(y.isArray(l)||y.isArguments(l)))if(i)for(var c=0,u=l.length;c<u;)r[o++]=l[c++];else t(l,i,n,r),o=r.length;else n||(r[o++]=l)}return r};y.flatten=function(t,e){return O(t,e,!1)},y.without=x((function(t,e){return y.difference(t,e)})),y.uniq=y.unique=function(t,e,i,n){y.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=w(i,n));for(var r=[],o=[],a=0,s=E(t);a<s;a++){var l=t[a],c=i?i(l,a,t):l;e&&!i?(a&&o===c||r.push(l),o=c):i?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=x((function(t){return y.uniq(O(t,!0,!0))})),y.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=E(t);n<r;n++){var o=t[n];if(!y.contains(e,o)){var a;for(a=1;a<i&&y.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},y.difference=x((function(t,e){return e=O(e,!0,!0),y.filter(t,(function(t){return!y.contains(e,t)}))})),y.unzip=function(t){for(var e=t&&y.max(t,E).length||0,i=Array(e),n=0;n<e;n++)i[n]=y.pluck(t,n);return i},y.zip=x(y.unzip),y.object=function(t,e){for(var i={},n=0,r=E(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var I=function(t){return function(e,i,n){i=w(i,n);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}};y.findIndex=I(1),y.findLastIndex=I(-1),y.sortedIndex=function(t,e,i,n){for(var r=(i=w(i,n,1))(e),o=0,a=E(t);o<a;){var s=Math.floor((o+a)/2);i(t[s])<r?o=s+1:a=s}return o};var N=function(t,e,i){return function(n,r,o){var a=0,s=E(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return n[o=i(n,r)]===r?o:-1;if(r!=r)return(o=e(h.call(n,a,s),y.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===r)return o;return-1}};y.indexOf=N(1,y.findIndex,y.sortedIndex),y.lastIndexOf=N(-1,y.findLastIndex),y.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r},y.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(h.call(t,n,n+=e));return i};var R=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=M(t.prototype),a=t.apply(o,r);return y.isObject(a)?a:o};y.bind=x((function(t,e,i){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=x((function(r){return R(t,n,e,this,i.concat(r))}));return n})),y.partial=x((function(t,e){var i=y.partial.placeholder;return function n(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===i?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return R(t,n,this,this,a)}})),y.partial.placeholder=y,y.bindAll=x((function(t,e){var i=(e=O(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=y.bind(t[n],t)}})),y.memoize=function(t,e){var i=function i(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return k(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},y.delay=x((function(t,e,i){return setTimeout((function(){return t.apply(null,i)}),e)})),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,i){var n,r,o,a,s=0;i||(i={});var l=function(){s=!1===i.leading?0:y.now(),n=null,a=t.apply(r,o),n||(r=o=null)},c=function(){var c=y.now();s||!1!==i.leading||(s=c);var u=e-(c-s);return r=this,o=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),s=c,a=t.apply(r,o),n||(r=o=null)):n||!1===i.trailing||(n=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(n),s=0,n=r=o=null},c},y.debounce=function(t,e,i){var n,r,o=function(e,i){n=null,i&&(r=t.apply(e,i))},a=x((function(a){if(n&&clearTimeout(n),i){var s=!n;n=setTimeout(o,e),s&&(r=t.apply(this,a))}else n=y.delay(o,e,this,a);return r}));return a.cancel=function(){clearTimeout(n),n=null},a},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},y.once=y.partial(y.before,2),y.restArguments=x;var F=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(t,e){var i=j.length,n=t.constructor,r=y.isFunction(n)&&n.prototype||l,o="constructor";for(k(t,o)&&!y.contains(e,o)&&e.push(o);i--;)(o=j[i])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)};y.keys=function(t){if(!y.isObject(t))return[];if(m)return m(t);var e=[];for(var i in t)k(t,i)&&e.push(i);return F&&U(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var i in t)e.push(i);return F&&U(t,e),e},y.values=function(t){for(var e=y.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},y.mapObject=function(t,e,i){e=w(e,i);for(var n=y.keys(t),r=n.length,o={},a=0;a<r;a++){var s=n[a];o[s]=e(t[s],s,t)}return o},y.pairs=function(t){for(var e=y.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},y.invert=function(t){for(var e={},i=y.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},y.functions=y.methods=function(t){var e=[];for(var i in t)y.isFunction(t[i])&&e.push(i);return e.sort()};var Y=function(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==i[c]||(i[c]=o[c])}return i}};y.extend=Y(y.allKeys),y.extendOwn=y.assign=Y(y.keys),y.findKey=function(t,e,i){e=w(e,i);for(var n,r=y.keys(t),o=0,a=r.length;o<a;o++)if(e(t[n=r[o]],n,t))return n};var V,H,B=function(t,e,i){return e in i};y.pick=x((function(t,e){var i={},n=e[0];if(null==t)return i;y.isFunction(n)?(e.length>1&&(n=b(n,e[1])),e=y.allKeys(t)):(n=B,e=O(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];n(s,a,t)&&(i[a]=s)}return i})),y.omit=x((function(t,e){var i,n=e[0];return y.isFunction(n)?(n=y.negate(n),e.length>1&&(i=e[1])):(e=y.map(O(e,!1,!1),String),n=function(t,i){return!y.contains(e,i)}),y.pick(t,n,i)})),y.defaults=Y(y.allKeys,!0),y.create=function(t,e){var i=M(t);return e&&y.extendOwn(i,e),i},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var i=y.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==r[a]||!(a in r))return!1}return!0},V=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=r(t);return("function"===o||"object"===o||"object"==r(e))&&H(t,e,i,n)},H=function(t,e,i,n){t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var a="[object Array]"===o;if(!a){if("object"!=r(t)||"object"!=r(e))return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var u=(i=i||[]).length;u--;)if(i[u]===t)return n[u]===e;if(i.push(t),n.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!V(t[u],e[u],i,n))return!1}else{var h,p=y.keys(t);if(u=p.length,y.keys(e).length!==u)return!1;for(;u--;)if(h=p[u],!k(e,h)||!V(t[h],e[h],i,n))return!1}return i.pop(),n.pop(),!0},y.isEqual=function(t,e){return V(t,e)},y.isEmpty=function(t){return null==t||(A(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=r(t);return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}})),y.isArguments(arguments)||(y.isArguments=function(t){return k(t,"callee")});var z=o.document&&o.document.childNodes;"object"!=("undefined"==typeof Int8Array?"undefined":r(Int8Array))&&"function"!=typeof z&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){if(!y.isArray(e))return k(t,e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(null==t||!p.call(t,r))return!1;t=t[r]}return!!i},y.noConflict=function(){return o._=a,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(e){return T(e,t)}:S(t)},y.propertyOf=function(t){return null==t?function(){}:function(e){return y.isArray(e)?T(t,e):t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,i){var n=Array(Math.max(0,t));e=b(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=y.invert(W),G=function(t){var e=function(e){return t[e]},i="(?:"+y.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};y.escape=G(W),y.unescape=G(q),y.result=function(t,e,i){y.isArray(e)||(e=[e]);var n=e.length;if(!n)return y.isFunction(i)?i.call(t):i;for(var r=0;r<n;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=i,r=n),t=y.isFunction(o)?o.call(t):o}return t};var $=0;y.uniqueId=function(t){var e=++$+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+K[t]};y.template=function(t,e,i){!e&&i&&(e=i),e=y.defaults({},e,y.templateSettings);var n,r=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,(function(e,i,n,r,s){return a+=t.slice(o,s).replace(J,Q),o=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e})),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return n.call(this,t,y)},l=e.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){return y.each(y.functions(t),(function(e){var i=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),Z(this,i.apply(y,t))}})),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=s[t];y.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],Z(this,i)}})),y.each(["concat","join","slice"],(function(t){var e=s[t];y.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return y}.apply(e,[]))||(i.exports=n)}()}).call(this,i(51),i(88)(t))},function(t,e,i){var n,r,o;r=[i(2)],void 0===(o="function"==typeof(n=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n=i(11);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={API_ROOT:"/api/0_2/",BLANK_PORTRAIT_URL:STATIC_FILE_TO_URL["share/images/Blank-Profile-Pic.png"],ACCOUNT_UPLOAD_MAX:[350,2048,2048,2048],REST_DATETIME_FORMAT:null,SLIDE_DURATION:200,PERMISSIONS:{ANNOTATE:"annotate",COPY:"copy",DOWNLOAD:"download",REVOKE:"revoke",VIEW:"view",VIEW_ANNOTATE:"view,annotate",VIEW_ANNOTATE_COPY_DOWNLOAD:"view,annotate,copy,download",VIEW_COPY_DOWNLOAD:"view,copy,download"},TIERS:{FREE:0,PLUS:1,PRO:2,VIP:3},DOM_PURIFY_CONFIG:{ADD_TAGS:["iframe"],ADD_ATTR:["target"]},get:function(t){return"_constants"in window?t in window._constants?window._constants[t]:null:(console.error("Frontend constants are not present on this page :("),null)},requestUser:function(){return"_request_user"in window?window._request_user:(console.error("Request user is not defined on this page :("),{})}}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===i(t)?null!==t:"function"==typeof t}},function(t,e,i){function n(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,l,"next",t)}function l(t){n(a,r,o,s,l,"throw",t)}s(void 0)}))}}var o=i(152),a=i(637),s=i(638),l=i(5),c=i(336).fetch,u=i(8),h=i(643);a.addHook("afterSanitizeAttributes",(function(t){"target"in t&&null!==t.getAttribute("target")&&t.getAttribute("target").length>0&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"))}));var d,p,f,m,g=function(){window.M360FeatureFlags&&window.M360FeatureFlags["40X-error-detection-modal"]&&("loggedOutReloadModal"in window||(window.loggedOutReloadModal=new h),window.loggedOutReloadModal.isOpen()||window.loggedOutReloadModal.open())},v={openLoggedOutReloadModalIfNecessary:g,fetchJson:(m=r(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c(e,i).then((function(t){return t.ok?t.json():(401!==t.status&&403!==t.status||g(),Promise.reject(t))})));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return m.apply(this,arguments)}),getFilestackClient:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(t=t||u.get("filestack_api_key")))throw new Error("Filestack API key required to get client instance");return s.init(t)},formatBytes:function(t){t=t||0;for(var e=["B","KB","MB","GB","TB","PB","EB"],i=0;t>1024&&i<e.length-1;)t/=1024,i++;return Number(t.toFixed(1)).toLocaleString()+" "+e[i]},hasContentPermission:function(e){var i=e.permission,n=e.upload,r=e.user;if(t.exports.isNil(i)||t.exports.isNil(n)||t.exports.isNil(r))return!1;if(t.exports.isContentOwner({upload:n,user:r}))return!0;var o=n.get("effective_content_share");if(o)return!!o.permissions.find((function(t){return t.name===i}));var a=n.get("content_shares");if(t.exports.isNil(a))return!1;var s=r.get("id");if(t.exports.isNil(s))return!1;var l=a.find((function(e){return t.exports.isNil(e.withdrawn)&&e.recipient.id===s}));return!!l&&!!l.permissions.find((function(t){return t.name===i}))},isContentOwner:function(e){var i=e.upload,n=e.user;if(t.exports.isNil(n)||t.exports.isNil(i))return!1;var r=i.get("owner");return!t.exports.isNil(r)&&n.get("id")===r.id},isNil:function(t){return l.isUndefined(t)||l.isNull(t)},truncateFloat:function(t,e){return parseFloat(t.toFixed(e),10)},weburl_regex:new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),mailto_regex:new RegExp("^mailto:([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)(?:\\?[^=&]+=[^=&]+(?:&[^=&]+=[^=&]+)*)?$","i"),sanitizeHtml:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var i=Object.assign({},u.DOM_PURIFY_CONFIG,e);return a.sanitize(t,i)},fixedEncodeURIComponent:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))},joinURL:function(t,e){return e?-1==t.indexOf("?")?t+"?"+e:t+"&"+e:t},getCsrfToken:function(){return o.get("csrftoken")},hasUserMedia:function(){return!!navigator.getUserMedia||(!!navigator.webkitGetUserMedia||!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia))},backbonePromiseOptions:function(t,e,i){var n=this,r="success"in t?t.success:null,o="error"in t?t.error:null;return t.success=function(t,o,a){if(r)try{r.call(n,t,o,a)}catch(t){i(t)}e(t)},t.error=function(t,e,r){if(o)try{o.call(n,t,e,r)}catch(t){i(t)}i(e)},t},backboneFetchPromise:(f=r(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},t.abrupt("return",new Promise((function(t,n){i.fetch(v.backbonePromiseOptions(e,t,n))})));case 2:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),backboneSavePromise:(p=r(regeneratorRuntime.mark((function t(e,i){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i||{},t.abrupt("return",new Promise((function(t,r){n.save(e,v.backbonePromiseOptions(i,t,r))})));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return p.apply(this,arguments)}),backboneDestroyPromise:(d=r(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||{},t.abrupt("return",new Promise((function(t,n){i.destroy(v.backbonePromiseOptions(e,t,n))})));case 2:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})};t.exports=v},function(t,e,i){(function(e,n){function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=i(3);t.exports=a.View.extend({tagName:"div",className:"modal fade",events:{"click .btn-c":"_handleButtonClick","show.bs.modal":"_handleOnOpen","shown.bs.modal":"_handleAfterOpen","hide.bs.modal":"_handleOnClose","hidden.bs.modal":"_handleAfterClose"},_isOpen:!1,initialize:function(t){(t=t||{}).primaryActionLabel=t.primaryActionLabel||"Continue",t.secondaryActionLabel=t.secondaryActionLabel||"Cancel",t.primaryActionClass=t.primaryActionClass||"btn-default",t.secondaryActionClass=t.secondaryActionClass||"btn-default",t.disableFade=!0===t.disableFade,t.destroyOnClose=!1!==t.destroyOnClose,t.verticalStackButtons=!0===t.verticalStackButtons,t.disableFooterBorder=!0===t.disableFooterBorder,t.centerButtons=!0===t.centerButtons,this.options=t,this.buttonCallbacks={},this.$el.attr({tabindex:"-1",role:"dialog","aria-hidden":"true"});var i="size"in t?" modal-"+t.size:"",r="modalDialogClass"in t?" "+t.modalDialogClass:"",o="top"===("verticalPosition"in t?t.verticalPosition:"")?"":" modal-dialog-centered",a=e.div({class:"modal-dialog"+o+i+r,role:"document"},this._createModalContent(t));this.el.appendChild(a),t.disableFade&&this.$el.removeClass("fade"),n("body").append(this.$el)},_createModalContent:function(t){var i="modalContentClass"in t?" "+t.modalContentClass:"",o=e.div({class:"modal-content"+i}),a="titleClass"in t?" "+t.titleClass:"";if(!("hideHeader"in t&&!0===t.hideHeader)){var s=e.div({class:"modal-header"}).appendTo(o);t.title&&e.h5({class:"modal-title"+a},t.title).appendTo(s);var l=e.span({"aria-hidden":"true"});l.innerHTML="&times;",e.button({type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},l).appendTo(s)}var c=e.div({class:"modal-body"+("modalBodyClass"in t?" "+t.modalBodyClass:"")}).appendTo(o);"modalBodyId"in t&&n(c).attr("id",t.modalBodyId),t.modalBody&&n(c).html(t.modalBody);var u="hideFooter"in t&&!0===t.hideFooter,h="disableSecondaryAction"in t&&!0===t.disableSecondaryAction;if(!u){var d=["modal-footer"].concat(r(this.options.verticalStackButtons?["vertical-buttons"]:[]),r(this.options.disableFooterBorder?["no-border"]:[]),r(this.options.centerButtons?["center-buttons"]:[])),p=e.div({class:d.join(" ")}).appendTo(o),f=[];if("buttons"in t)f=t.buttons;else{var m={label:t.primaryActionLabel,class:t.primaryActionClass};"onPrimaryAction"in t&&(m.callback=t.onPrimaryAction),f=[].concat(r(h?[]:[{label:t.secondaryActionLabel,class:t.secondaryActionClass}]),[m])}f.length>0&&f.forEach(function(t,i){t.label=t.label||("callback"in t?"Continue":"Cancel"),t.class=t.class||"btn-default";var n={type:"button",class:"btn "+t.class+("callback"in t?" btn-c":"")};if("callback"in t){var r="btn-"+i;n.id=r,this.buttonCallbacks[r]=t.callback}else n["data-dismiss"]="modal";e.button(n,t.label).appendTo(p)}.bind(this))}return o},_handleButtonClick:function(t){var e=this;t.preventDefault();var i=n(t.currentTarget).attr("id"),r=this.buttonCallbacks[i];if(r)if("closeBeforeCallback"in this.options&&!0===this.options.closeBeforeCallback&&this.close(),"AsyncFunction"===r.constructor.name)r.call(this,t,this.model,this).then((function(t){t&&e.close()}));else{var o=r.call(this,t,this.model,this);o&&"Promise"===o.constructor.name?o.then((function(t){t&&e.close()})):o&&this.close()}else this.close()},_handleOnOpen:function(t){"onOpen"in this.options&&this.options.onOpen.call(this,t)},_handleAfterOpen:function(t){"afterOpen"in this.options&&this.options.afterOpen.call(this,t),this._isOpen=!0},_handleOnClose:function(t){"onClose"in this.options&&this.options.onClose.call(this,t),this._isOpen=!1},_handleAfterClose:function(t){this.options.destroyOnClose&&this.destroy(),"afterClose"in this.options&&this.options.afterClose.call(this,t)},isOpen:function(){return this._isOpen},open:function(){this.delegateEvents(this.events),this.$el.modal("show")},onClose:function(t){return this.options.onClose=t,this},onOpen:function(t){return this.options.onOpen=t,this},afterOpen:function(t){return this.options.afterOpen=t,this},afterClose:function(t){return this.options.afterClose=t,this},close:function(){this.$el.modal("hide")},destroy:function(){this.$el.remove()}})}).call(this,i(4),i(2))},function(t,e,i){var n=i(83)("wks"),r=i(59),o=i(9).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e,i){var n=i(41),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){t.exports=!i(10)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(7),r=i(162),o=i(44),a=Object.defineProperty;e.f=i(16)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){var e,i=0,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,n){var r,o,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,(function(e,n){t.isFunction(n)?s[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}():s[e]=n})),o.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)})),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),a=0,s=o.length;a<s;a++)for(i in o[a])r=o[a][i],o[a].hasOwnProperty(i)&&void 0!==r&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=n.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each((function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,s))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each((function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;function r(r,o){var a,s;for(s=0;s<r.length;s++)a=n.classesElementLookup[r[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[r[s]]=a,i.push(r[s]),o&&e.classes[r[s]]&&i.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,s):i.on(c,s)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,a=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){var a;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&t.effects&&t.effects.effect[s]?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),t.widget})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n=i(45);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(o).concat([r]).join("\n")}var a;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){var n,r,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),s=function(t){return document.querySelector(t)},l=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=s.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,u=0,h=[],d=i(598);function p(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=o[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(_(n.parts[a],e))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(_(n.parts[a],e));o[n.id]={id:n.id,refs:1,parts:s}}}}function f(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function m(t,e){var i=l(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=h[h.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),h.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function _(t,e){var i,n,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;i=c||(c=v(e)),n=x.bind(null,i,a,!1),r=x.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),n=S.bind(null,i,e),r=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),n=M.bind(null,i),r=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=f(t,e);return p(i,e),function(t){for(var n=[],r=0;r<i.length;r++){var a=i[r];(s=o[a.id]).refs--,n.push(s)}t&&p(f(t,e),e);for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function M(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function S(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=d(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){var e,i=t;return t.effects={effect:{}},
/*!
   * jQuery Color Animations v2.1.2
   * https://github.com/jquery/jquery-color
   *
   * Copyright 2014 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   *
   * Date: Wed Jan 16 08:47:09 2013 -0600
   */
function(t,e){var i,n=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},c=t("<p>")[0],u=t.each;function h(t,e,i){var n=s[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function d(e){var n=o(),s=n._rgba=[];return e=e.toLowerCase(),u(r,(function(t,i){var r,o=i.re.exec(e),l=o&&i.parse(o),c=i.space||"rgba";if(l)return r=n[c](l),n[a[c].cache]=r[a[c].cache],s=n._rgba=r._rgba,!1})),s.length?("0,0,0,0"===s.join()&&t.extend(s,i.transparent),n):i[e]}function p(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(a,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),o.fn=t.extend(o.prototype,{parse:function(e,n,r,s){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(n),n=void 0);var l=this,c=t.type(e),p=this._rgba=[];return void 0!==n&&(e=[e,n,r,s],c="array"),"string"===c?this.parse(d(e)||i._default):"array"===c?(u(a.rgba.props,(function(t,i){p[i.idx]=h(e[i.idx],i)})),this):"object"===c?(u(a,e instanceof o?function(t,i){e[i.cache]&&(l[i.cache]=e[i.cache].slice())}:function(i,n){var r=n.cache;u(n.props,(function(t,i){if(!l[r]&&n.to){if("alpha"===t||null==e[t])return;l[r]=n.to(l._rgba)}l[r][i.idx]=h(e[t],i,!0)})),l[r]&&t.inArray(null,l[r].slice(0,3))<0&&(l[r][3]=1,n.from&&(l._rgba=n.from(l[r])))}),this):void 0},is:function(t){var e=o(t),i=!0,n=this;return u(a,(function(t,r){var o,a=e[r.cache];return a&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],u(r.props,(function(t,e){if(null!=a[e.idx])return i=a[e.idx]===o[e.idx]}))),i})),i},_space:function(){var t=[],e=this;return u(a,(function(i,n){e[n.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var i=o(t),n=i._space(),r=a[n],l=0===this.alpha()?o("transparent"):this,c=l[r.cache]||r.to(l._rgba),d=c.slice();return i=i[r.cache],u(r.props,(function(t,n){var r=n.idx,o=c[r],a=i[r],l=s[n.type]||{};null!==a&&(null===o?d[r]=a:(l.mod&&(a-o>l.mod/2?o+=l.mod:o-a>l.mod/2&&(o-=l.mod)),d[r]=h((a-o)*e+o,n)))})),this[n](d)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=o(e)._rgba;return o(t.map(i,(function(t,e){return(1-n)*r[e]+n*t})))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(n,r,o),l=Math.min(n,r,o),c=s-l,u=s+l,h=.5*u;return e=l===s?0:n===s?60*(r-o)/c+360:r===s?60*(o-n)/c+120:60*(n-r)/c+240,i=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(e)%360,i,h,null==a?1:a]},a.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*p(a,o,e+1/3)),Math.round(255*p(a,o,e)),Math.round(255*p(a,o,e-1/3)),r]},u(a,(function(e,i){var r=i.props,a=i.cache,s=i.to,l=i.from;o.fn[e]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===e)return this[a].slice();var i,n=t.type(e),c="array"===n||"object"===n?e:arguments,d=this[a].slice();return u(r,(function(t,e){var i=c["object"===n?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=h(i,e)})),l?((i=o(l(d)))[a]=d,i):o(d)},u(r,(function(i,r){o.fn[i]||(o.fn[i]=function(o){var a,s=t.type(o),l="alpha"===i?this._hsla?"hsla":"rgba":e,c=this[l](),u=c[r.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=t.type(o)),null==o&&r.empty?this:("string"===s&&(a=n.exec(o))&&(o=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[r.idx]=o,this[l](c)))})}))})),o.hook=function(e){var i=e.split(" ");u(i,(function(e,i){t.cssHooks[i]={set:function(e,n){var r,a,s="";if("transparent"!==n&&("string"!==t.type(n)||(r=d(n)))){if(n=o(r||n),!l.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}n=n.blend(s&&"transparent"!==s?s:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=o(e.elem,i),e.end=o(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],(function(i,n){e["border"+n+"Color"]=t})),e}},i=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){var e,n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)"string"==typeof r[i=r[n]]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,n,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,i,a,s){var l=t.speed(i,a,s);return this.queue((function(){var i,a=t(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map((function(){return{el:t(this),start:o(this)}})),(i=function(){t.each(n,(function(t,i){e[i]&&a[i+"Class"](e[i])}))})(),c=c.map((function(){return this.end=o(this.el[0]),this.diff=function(e,i){var n,o,a={};for(n in i)o=i[n],e[n]!==o&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(a[n]=o));return a}(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()})),t.when.apply(t,c.get()).done((function(){i(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(a[0])}))}))},t.fn.extend({addClass:(e=t.fn.addClass,function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,o,a){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){var e;function i(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"===a(e)&&!e.effect}function r(t,e){var i=e.outerWidth(),n=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?i:parseFloat(r[2]),bottom:"auto"===r[3]?n:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(i){return!!t(i).data("ui-effects-animated")||e(i)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;i<n;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,r=e.length;n<r;n++)null!==e[n]&&(i=t.data("ui-effects-"+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,r="vertical"!==i?(e||100)/100:1;return{height:t.height()*r,width:t.width()*n,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",i)),e.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e="ui-effects-placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,r){return r=r||{},t.each(i,(function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])})),r}}),t.fn.extend({effect:function(){var e=i.apply(this,arguments),n=t.effects.effect[e.effect],r=n.mode,o=e.queue,a=o||"fx",s=e.complete,l=e.mode,c=[],u=function(e){var i=t(this),n=t.effects.mode(i,l)||r;i.data("ui-effects-animated",!0),c.push(n),r&&("show"===n||n===r&&"hide"===n)&&i.show(),r&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};if(t.fx.off||!n)return l?this[l](e.duration,s):this.each((function(){s&&s.call(this)}));function h(i){var o=t(this);function a(){t.isFunction(s)&&s.call(o[0]),t.isFunction(i)&&i()}e.mode=c.shift(),!1===t.uiBackCompat||r?"none"===e.mode?(o[l](),a()):n.call(o[0],e,(function(){o.removeData("ui-effects-animated"),t.effects.cleanUp(o),"hide"===e.mode&&o.hide(),a()})):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),a()):n.call(o[0],e,a)}return!1===o?this.each(u).each(h):this.queue(a,u).queue(a,h)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])})),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-s,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,(function(){d.remove(),t.isFunction(i)&&i()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,i){e[i]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})),t.effects})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){(function(e,n){function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}var s,l,c=i(5),u=i(749).Autolinker,h=i(50),d=i(79),p=i(72),f=i(25),g=f.ANNOTATION_FORM_METADATA,v=f.MARKER_POSITION_OFFSETS;function y(t,e){return"uuid"in t?t[e]:t.get(e)}function _(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=y(t,"uuid"),r=new URL(window.location.href),o=null;if(p.get(p.IS_EMBED,!1)){if(p.get(p.IS_COLLECTION_EMBED,!1)){var a=p.get(p.COLLECTION_VIEW);a&&a.collectionViewHasUpload(n)?(e=r.pathname,o=n):e="/e/u/".concat(encodeURI(n))}else e="/e/u/".concat(encodeURI(n));if(!i)return e;var s={"field-of-view":!0,heading:!0,pitch:!0,"upload-key":!0},l=[];return r.searchParams.forEach((function(t,e){e in s||l.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)))})),o&&l.push("".concat(encodeURIComponent("upload-key"),"=").concat(encodeURIComponent(o))),e+(l.length>0?"?"+l.join("&"):"")}return"#ud/".concat(encodeURI(n))}function b(e){var i=e.data,n=e.uploadCollectionUuid,r=0;c.each(i,(function(t){var e=t.annotationTarget.get("annotation").get("media");r=Math.max(r,e.models.length)}));for(var o=[],a=["Upload","Preview","Title","Description","Link"],s=0;s<r;++s)a.push("content_type","source_url","filename","text");return o.push(a),c.each(i,(function(e){var i=e.upload,a=e.annotationTarget,s=a.get("annotation"),l=n?t.exports.getEmbedUploadCollectionUrl({annotationUuid:s.get("uuid"),uploadCollectionUuid:n,uploadUuid:i.get("uuid")}):t.exports.getEmbedUploadUrl({annotationUuid:s.get("uuid"),uploadUuid:i.get("uuid")}),c=[];c.push(i.get("caption")),c.push(a.get("thumbnail_url")),c.push(s.get("title")),c.push(s.get("description")),c.push(l);for(var u=s.get("media"),h=0;h<u.models.length;++h)c.push(u.models[h].get("content_type")),c.push(u.models[h].get("source_url")),c.push(u.models[h].get("filename")),c.push(u.models[h].get("text"));for(var d=u.models.length;d<r;++d)c.push(" "),c.push(" "),c.push(" "),c.push(" ");o.push(c)})),o}function w(t,e,i){var n=.5*e,r=.5*i;return new h.Vector3(t.x*n+n,t.y*-r+r,t.z)}t.exports={processCustomDataString:function(t,e){var i={customData1:/{{\s*custom-data-1\s*}}/gi,customData2:/{{\s*custom-data-2\s*}}/gi,customData3:/{{\s*custom-data-3\s*}}/gi},n=t;for(var r in e)n=n.replace(i[r],e[r]);return n},cartesianToLatLonDegree:function(t){var e=t.clone();e.normalize();var i=Math.acos(e.y),n=Math.atan2(e.z,e.x),r=h.Math.radToDeg(n);return{lat:90-h.Math.radToDeg(i),lon:r}},convertToCSVData:function(t){var e=b({data:t.data,uploadCollectionUuid:t.uploadCollectionUuid}),i="";return c.each(e,(function(t){i+=t.join(",")+"\r\n"})),i},convertToHTMLData:function(i){var n=i.data,r=b({data:n,uploadCollectionUuid:i.uploadCollectionUuid}),o=e('<table  data-toggle="table">'),a=e("<body>"),s=e("<html>"),l=e("<div>"),u=n.length>0?n[0].upload.get("caption"):"",h=e('<head>\x3c!-- Required meta tags --\x3e<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>'+u+'</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"><link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css"></head>');e(a).append(o);var d=['<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"><\/script>','<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"><\/script>','<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"><\/script>','<script src="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js"><\/script>'].join("\n");e(a).append(e(d)),e(s).append(h),e(s).append(a),e(l).append(s);var p=!1;return c.each(r,(function(i){var n=e("<tr>");if(p){var r=i.shift(),a=e("<td>").text(r);n.append(a);var s=i.shift(),l=t.exports.thumbnailUrlFromFilestackUrl(s,200),u=e("<td>"),h=e("<a>").attr("href",i[2]),d=e("<img>").attr("src",l);e(h).append(d),e(u).append(h),n.append(u),c.each(i,(function(i){var r=e("<td>");e(r).html(t.exports.linkifyUrls(i)),n.append(r)}))}else c.each(i,(function(t){var i=e("<th>").text(t);n.append(i)})),p=!0;o.append(n)})),"<!doctype html>"+e(l).html()},exportFile:function(t){var e=t.contentType,i=t.data,n=t.filename,r=new Blob([i],{type:e});if(navigator.msSaveBlob)navigator.msSaveBlob(r,n);else{var o=document.createElement("a");if(void 0!==o.download){var a=URL.createObjectURL(r);o.setAttribute("href",a),o.setAttribute("download",n),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}},findAnchorScreenPosition:function(t,e,i,n,r,o){t.updateMatrixWorld(),t.geometry.computeBoundingBox();var a=t.geometry.boundingBox.clone();a.applyMatrix4(t.matrixWorld),a.min.project(e),a.max.project(e);var s=w(a.min,i,n),l=w(a.max,i,n),c=(new h.Box2).makeEmpty();c.expandByPoint(new h.Vector2(s.x,s.y)),c.expandByPoint(new h.Vector2(s.x,l.y)),c.expandByPoint(new h.Vector2(l.x,s.y)),c.expandByPoint(new h.Vector2(l.x,l.y));var u=new h.Vector2(10,10),d=new h.Box2(new h.Vector2(0,0),new h.Vector2(i,n)),p=new h.Vector2(-1,-1),f=new h.Vector2(-1,-1);p=c.center().clone(),f=c.size().clone();var m=new h.Vector2(r,o),g=(new h.Box2).makeEmpty();g.setFromCenterAndSize(new h.Vector2(p.x,p.y-f.y/2-o/2-u.y),m);var v=(new h.Box2).makeEmpty();v.setFromCenterAndSize(new h.Vector2(p.x+f.x/2+r/2+u.x,p.y),m);var y=(new h.Box2).makeEmpty();y.setFromCenterAndSize(new h.Vector2(p.x,p.y+f.y/2+o/2+u.y),m);var _=(new h.Box2).makeEmpty();_.setFromCenterAndSize(new h.Vector2(p.x-f.x/2-r/2-u.x,p.y),m);for(var b=[y,g,v,_],x=b[0].min.clone(),M=0;M<b.length;++M){var S=b[M];if(d.containsBox(S))return S.min.clone()}return x},getEmbedUploadCollectionUrl:function(t){var e=t.annotationUuid,i=t.uploadCollectionUuid,n=t.uploadUuid,r=""!==location.port?":".concat(location.port):"";return"".concat(location.protocol,"//").concat(location.hostname).concat(r,"/e/uc/").concat(i,"?upload-key=").concat(n,"&annotation-key=").concat(e)},getEmbedUploadUrl:function(t){var e=t.annotationUuid,i=t.uploadUuid,n=""!==location.port?":".concat(location.port):"";return"".concat(location.protocol,"//").concat(location.hostname).concat(n,"/e/u/").concat(i,"?annotation-key=").concat(e)},getContentCropUrl:function(t,e){if(p.get(p.IS_EMBED,!1)){var i="uuid"in t?t.uuid:t.get("uuid");return"/e/u/".concat(encodeURI(i),"/sphere?crop=").concat(encodeURIComponent(e))}return function(t){for(var e=0,i=["photo","photo_sphere","video","video_sphere"];e<i.length;e++){var n=y(t,i[e]);if(n)return n}return null}(t)["".concat(e,"_url")]},navigateToUpload:function(t){var e=y(t,"uuid");if(p.get(p.IS_EMBED,!1)&&p.get(p.IS_COLLECTION_EMBED,!1)){var i=p.get(p.COLLECTION_VIEW);if(i&&i.collectionViewHasUpload(e))return void i.navigateToUpload(e)}var n=_(t);window.location.href=n},getUploadUrl:_,getExportFilename:function(t){var e=new Date,i=[e.getMonth()+1,e.getDate(),e.getFullYear(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];return"export_".concat(i.join("_"),".").concat(t)},getMarkerDataForState:function(t,e,i){return function(t,e){if(void 0!==e&&e){var i=e.get("annotation_marker"),n=null;return void 0===i?e.get("annotation_marker_uuid")&&(n=e.get("annotation_marker_uuid")):n=i.get("uuid"),t[n]}return t.default}(t,i)[e]},latLonDegreeToCartesian:function(t){var e=h.Math.degToRad(90-t.lat),i=h.Math.degToRad(t.lon),n=new h.Vector3;return n.x=Math.sin(e)*Math.cos(i),n.y=Math.cos(e),n.z=Math.sin(e)*Math.sin(i),n},linkifyUrls:function(t,e){return t?(e=e||{},u.link(t,e)):t},loadMarkerResourcesAsync:(s=regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.fetch({error:function(t){n(m)},success:function(e,r,o){var a={};0==e.models.length&&(console.error("DB is messed up you need at least one marker for annotations"),n("you need at least one marker")),c.each(e.models,(function(t){var e=t.get("source_url"),n=t.get("hover_source_url"),r=t.get("selected_source_url");n=n||e,r=r||e;for(var o=new h.Vector2(t.get("placement_offset_x"),t.get("placement_offset_y")),s=[e,n,r],l=["normal","hover","selected"],c={},u=0;u<3;++u){var d=i.load(s[u]),p={url:s[u],offset:o,texture:d,material:new h.MeshBasicMaterial({color:16777215,transparent:!0,map:d,depthTest:!1})};c[l[u]]=p}a[t.get("uuid")]=c})),a.default=a[e.models[0].get("uuid")],t(a)}})})));case 1:case"end":return t.stop()}}),t)})),l=function(){var t=this,e=arguments;return new Promise((function(i,n){var r=s.apply(t,e);function o(t){a(r,i,n,o,l,"next",t)}function l(t){a(r,i,n,o,l,"throw",t)}o(void 0)}))},function(t,e){return l.apply(this,arguments)}),renderAnnotationTargetRows:function(t){var e=t.container,i=t.annotationTargets,o=c.map(i,(function(t){var e,i,o=c.map(t.get("annotation").get("media").models,(function(t){return n.a({href:t.get("source_url"),target:"_blank"},t.get("filename"))})),a=n.span({class:"media-separator"},"|"),s=(e=[]).concat.apply(e,r(o.map((function(t){return[a,t]})))).slice(1);return n.div({class:"annotation-row"},n.div({class:"annotation-image-column"},n.img({class:"annotation-image",src:t.get("thumbnail_url")})),n.div({class:"annotation-details-column"},n.label({class:"annotation-title"},t.get("annotation").get("title")),n.p({class:"annotation-description"},t.get("annotation").get("description")),(i=n).div.apply(i,[{class:"annotation-media"}].concat(r(s)))))}));e.append.apply(e,r(o))},renderExportCompleteScreen:function(t){var i=t.container,r=t.filename,o=t.fileExtension,a=t.handler;e(".modal-title").text("EXPORTED"),e(i).empty();n.div({class:"export-complete-container"},n.label({class:"description-label",for:"export-type-select"},"Click to view the file or download."),n.div({class:"download-container"},n.div({class:"icon-label-table"},n.i({class:"download-icon ".concat({csv:"fas fa-file-csv",html:"fas fa-file-code",xlsx:"fas fa-file-excel"}[o])}),n.div({class:"label-container"},n.a({class:"download-link"},r))))).appendTo(i),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"export-annotations-list-close-btn"},"CLOSE")).appendTo(i),e(".download-icon, .download-link").click(a)},renderExportTypeScreen:function(t){var i=t.container,r=t.user;e(".modal-title").text("EXPORT ANNOTATIONS"),e(i).empty();var o=n.select({class:"form-control",id:"export-type-select"},n.option({},"CSV"),n.option({},"HTML"));return!0===window.M360FeatureFlags["excel-export"]&&o.append(n.option({},"XLSX")),n.div({class:"export-type-container"},n.label({class:"description-label",for:"export-type-select"},"Select the file format you want to export the annotation list to:"),o).appendTo(i),!0===window.M360FeatureFlags["excel-export"]&&(n.p({id:"export-type-xlsx-upgrade-message"},"Enable XLSX export with a ",n.a({href:"/billing/upgrade/",target:"_blank"},"Pro Account"),". ",n.a({href:"https://www.momento360.com/annotations/#export",target:"_blank"},"Learn more"),".").appendTo(i),e("#export-type-select").on("change",(function(){var t=r.get("account_tier")>d.constants.TIERS.PLUS,i="XLSX"===e("#export-type-select").val();!t&&i&&(e("#export-type-xlsx-upgrade-message").slideDown(d.constants.SLIDE_DURATION),e("#export-type-select").val("CSV"),analytics.track("Show XLSX Export Upsell",{account_tier:r.get("account_tier")}))}))),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"export-file-type-select-back-btn"},"BACK"),n.button({class:"pill-button",id:"export-file-type-select-export-btn"},"EXPORT")).appendTo(i),{select:o}},renderNoAnnotationsMessage:function(t){var i=t.container;e(i).empty(),n.div({class:"text-center all-annotations-empty"},n.label("No Annotations to Export"),n.a({href:"https://help.momento360.com/article/60-exporting-annotations",target:"_blank",class:"empty-annotations-export-link"},"Learn about exporting Annotations")).appendTo(i)},renderSpinner:function(t){var i=t.container;e(".modal-title").text("EXPORTING"),e(i).empty(),n.div({class:"spinner-cont row justify-content-center"},n.div({class:"spinner-icon mx-auto my-auto"},n.span({class:"icon icon-spinner icon-spin"}))).appendTo(i)},thumbnailUrlFromFilestackUrl:function(t,e,i){var n=t.split("/").pop(),r=d.constants.get("filestack_api_key"),o="resize=height:200";return e&&i?console.error("only w or h supported"):i?o="resize=height:".concat(i):e&&(o="resize=width:".concat(e)),"https://cdn.filestackcontent.com/".concat(r,"/").concat(o,"/").concat(n)},getRenderMode:function(t){return t.get("annotation").get("render_mode")},mimeTypesToRegEx:function(t){var e=t.map((function(t){return t.replace(/\*+/g,"@@").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/@@/g,".*")}));return new RegExp("^(?:"+e.join("|")+")","i")},getAttachmentOptions:function(t){return"attachments"in g[t]?g[t].attachments:null},markerOffsetToSelectValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=Object.entries(v).find((function(e){return e[1].placement_offset_x===t.get("placement_offset_x")&&e[1].placement_offset_y===t.get("placement_offset_y")}));return i?i[0]:e},notifyListeners:function(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){"trigger"in t&&"function"==typeof t.trigger?t.trigger.apply(t,[e].concat(n)):console.warn("Listener object is invalid",t)})))}}}).call(this,i(2),i(4))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n,r,o,a,s;function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=i(8).TIERS,u={ANNOTATION_AUTOPLAY_INTERVAL:3,ANNOTATION_DISPLAY_MODE:{HIDDEN:"HIDDEN",MARKER_AND_UI:"MARKER_AND_UI",MARKER_ONLY:"MARKER_ONLY"},ANNOTATION_MARKER_STATE:{HOVER:"hover",NORMAL:"normal",SELECTED:"selected"},ANNOTATION_MODE_CREATE:"create",ANNOTATION_MODE_EDIT:"edit",ANNOTATION_PANEL:"annotation-panel",ANNOTATION_SPINNER_DELAY:500,ANNOTATION_THUMBNAIL_HEIGHT:400,ANNOTATION_THUMBNAIL_WIDTH:400,ANNOTATION_MAX_ATTACHMENT_SIZE_IN_BYTES:104857600,ANNOTATION_HOTSPOT_PANEL:"hotspot-panel",RENDER_MODES:{DEFAULT:"default",HOTSPOT:"hotspot"},RENDER_MODES_LABELS:{DEFAULT:"Standard Annotation",HOTSPOT:"Hotspot"},RENDER_SIZES:{SMALL:{label:"small",width:250},MEDIUM:{label:"medium",width:450},LARGE:{label:"large",width:750,selected:!0},XLARGE:{label:"x-large",width:1090}},ANNOTATION_TYPES:{DEFAULT:"default",IMAGE:"image",EMBED:"embed",URL:"url",NAVIGATION:"navigation",AUDIO:"audio",VIDEO:"video",HTML:"html"},ANNOTATION_FORM_METADATA:{default:{label:"Default",titlePlaceholder:"Title",descriptionPlaceholder:"Description",attachments:{required:!1,multiple:!0,label:"Add attachment",maxFiles:5},supportsDescription:!0},image:{label:"Photo/Image",upsellLabel:"Photo/Image*",titlePlaceholder:"Preview & Title Text",descriptionPlaceholder:"Description (optional)",supportsRenderSizes:!0,attachments:{required:!0,multiple:!0,label:"Upload image(s)",accept:["image/*",".heic"],maxFiles:20},supportsDescription:!0},embed:{label:"Embed",upsellLabel:"Embed*",titlePlaceholder:"Preview Text",descriptionPlaceholder:"Embed code (e.g. <iframe>...)",supportsRenderSizes:!0,supportsPreviewImage:!0},url:{label:"Link",upsellLabel:"Link*",titlePlaceholder:"Preview Text",descriptionPlaceholder:"URL (e.g. https://...)"},navigation:{label:"Navigation",upsellLabel:"Navigation*",titlePlaceholder:"Preview Text",descriptionPlaceholder:"Description (optional)",supportsDescription:!0},audio:{label:"Audio",upsellLabel:"Audio*",titlePlaceholder:"Preview & Title Text",descriptionPlaceholder:"Description (optional)",attachments:{required:!0,multiple:!1,label:"Upload audio file",accept:["audio/*"],maxFiles:1},supportsDescription:!0},video:{label:"Video",upsellLabel:"Video*",titlePlaceholder:"Preview & Title Text",descriptionPlaceholder:"Description (optional)",supportsRenderSizes:!0,attachments:{required:!0,multiple:!1,label:"Upload video",accept:["video/*"],maxFiles:1},supportsDescription:!0},html:{label:"HTML",upsellLabel:"HTML*",titlePlaceholder:"Preview Text",descriptionPlaceholder:"HTML markup",supportsRenderSizes:!0,supportsPreviewImage:!0}},PREVIEW:{default:{thumbnail:!0,thumbnailMimeTypes:["image/png","image/jpeg"],iconClass:"fal fa-file"},image:{thumbnail:!0,thumbnailMimeTypes:["image/png","image/jpeg"],iconClass:"fal fa-file-image"},audio:{thumbnail:!1,iconClass:"fal fa-file-audio"},video:{thumbnail:!1,iconClass:"fal fa-file-video"},embed:{thumbnail:!1,iconClass:"fal fa-file-code"},html:{thumbnail:!1,iconClass:"fal fa-file-code"},url:{thumbnail:!1,iconClass:"fal fa-external-link"},navigation:{thumbnail:!0,iconClass:"fal fa-globe"}},FILE_SIZE_LIMITS:(n={},l(n,c.FREE,20971520),l(n,c.PLUS,209715200),l(n,c.PRO,524288e3),l(n,c.VIP,524288e3),n),SUPPORTED_ANNOTATION_TYPES:(r={},l(r,c.FREE,["default","image","embed","url","navigation"]),l(r,c.PLUS,["default","image","embed","url","navigation","audio","video","html"]),l(r,c.PRO,["default","image","embed","url","navigation","audio","video","html"]),l(r,c.VIP,["default","image","embed","url","navigation","audio","video","html"]),r),SUPPORTED_ATTACHMENT_TYPES:(o={},l(o,c.FREE,["image/*","application/*","text/*",".heic"]),l(o,c.PLUS,["image/*","application/*","text/*",".heic","video/*","audio/*","model/*"]),l(o,c.PRO,["image/*","application/*","text/*",".heic","video/*","audio/*","model/*"]),l(o,c.VIP,["image/*","application/*","text/*",".heic","video/*","audio/*","model/*"]),o),MARKER_DIMENSIONS:{width:512,height:512},MARKER_POSITION_TOP:"top",MARKER_POSITION_CENTER:"center",MARKER_POSITION_BOTTOM:"bottom",MARKER_DEFAULT_NAME:"Untitled Marker",MARKER_MAX_NAME_LENGTH:32};Object.assign(u,{MARKER_POSITION_LABELS:(a={},l(a,u.MARKER_POSITION_TOP,"Above"),l(a,u.MARKER_POSITION_CENTER,"Centered"),l(a,u.MARKER_POSITION_BOTTOM,"Below"),a),MARKER_POSITION_OFFSETS:(s={},l(s,u.MARKER_POSITION_TOP,{placement_offset_x:256,placement_offset_y:512}),l(s,u.MARKER_POSITION_CENTER,{placement_offset_x:256,placement_offset_y:256}),l(s,u.MARKER_POSITION_BOTTOM,{placement_offset_x:256,placement_offset_y:0}),s)}),t.exports=u},function(t,e,i){var n=i(17),r=i(58);t.exports=i(16)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(9),r=i(26),o=i(30),a=i(59)("src"),s=i(369),l=(""+s).split("toString");i(38).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var c="function"==typeof i;c&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(c&&(o(i,a)||r(i,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,i){var n=i(1),r=i(10),o=i(45),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},function(t,e){t.exports={ANNOTATION_CREATE:"annotation-create",ANNOTATION_CREATE_CANCELED:"annotation-create-canceled",ANNOTATION_EDIT_CANCELED:"annotation-edit-canceled",ANNOTATION_JUMP_TO_ANNOTATION:"annotation-jump-to-annotation",ANNOTATION_MARKER_ADDED:"annotation-marker-added",ANNOTATION_MARKER_UPDATED:"annotation-marker-updated",ANNOTATION_MARKER_DELETED:"annotation-marker-deleted",ANNOTATION_MARKER_CHANGED:"annotation-marker-changed",ANNOTATION_OPEN_EDIT_PANEL:"annotation-open-edit-panel",ANNOTATION_OPEN_SHARE_MODAL:"annotation-open-share-modal",ANNOTATION_OPEN_VIEW_PANEL:"annotation-open-view-panel",ANNOTATION_SAVED:"annotation-saved",ANNOTATION_SELECTED:"annotation-selected",ANNOTATION_TOGGLE_ANNOTATION_MODE:"annotation-toggle-annotation-mode",ANNOTATION_TOGGLE_SLIDESHOW:"annotation-toggle-slideshow",HOTSPOT_CLOSE_PANEL:"hotspot-close-panel",ANNOTATION_MEDIA_ADDED:"annotation-media-added",ANNOTATION_MEDIA_REMOVED:"annotation-media-removed",REFRESH_ANNOTATION_MEDIA_VIEW:"refresh-annotation-media-view",IMAGE_PICKER_CHANGE:"image-picker-change"}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(84),r=i(45);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(85),r=i(58),o=i(31),a=i(44),s=i(30),l=i(162),c=Object.getOwnPropertyDescriptor;e.f=i(16)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(30),r=i(19),o=i(119)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){(function(e,n,r){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=i(5),s=i(3),l=i(0),c=i(79),u={views:{},models:{}};u.views.GridBreakpoints={xs:0,sm:544,md:768,lg:992,xl:1200},u.views.ScreenIsWiderThan=function(t){return(screen.width||e(document).width())>t},u.models.waitForSync=function(){if(0===arguments.length)throw"waitForSync requires at least once model and a callback argument";if("function"!=typeof arguments[arguments.length-1])throw"waitForSync requires the last argument to be a function";for(var t=arguments[arguments.length-1],e=[],i=function(){for(var i=0;i<e.length;i++)if(!1===e[i].complete)return!1;return t(a.map(e,(function(t){return t.obj}))),!0},n=function(t){if(void 0!==t.new)return t.new;if("function"==typeof t.get)return void 0!==t.get("id")&&null!==t.get("id")||t.attributes.length>1;throw"Unable to check dataObject for completeness: "+t},r=0;r<arguments.length-1;r++){var o=e[r]={obj:arguments[r],complete:n(arguments[r])};!1===o.complete&&o.obj.listenToOnce(o.obj,"sync",function(){this.dataObjectInfo.complete=!0,this.checkForCompletion()}.bind({dataObjectInfo:o,checkForCompletion:i}))}i()},u.models.EventFeed=function(t){this.options=t||{},this.pollDelay=this.options.pollDelay||5e3,this.inactiveDelay=1e3,this.inactiveCount=0,this.inactiveCountMod=Math.round(2e4/this.inactiveDelay),this.polling=!1,this.active=!0,this.timeout=null,this.responseTime=null,this.construct(),this.initialize(this.options),document.addEventListener("visibilitychange",function(){this.setActive(!document.hidden)}.bind(this)),window.onfocus=function(){this.setActive(!0)}.bind(this),window.onblur=function(){this.setActive(!1)}.bind(this)},a.extend(u.models.EventFeed.prototype,s.Events,{construct:function(){a.bindAll(this,"initialize","url","start","stop","poll","handlePollSuccess","handlePollError")},initialize:function(t){},url:function(){throw"Not Implemented"},setActive:function(t){this.active=t,this.active&&(this.inactiveCount=0)},start:function(){this.polling||(this.polling=!0,this.poll())},stop:function(){this.polling&&(null!=this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),this.polling=!1)},poll:function(){if(this.polling)if(this.active||(this.inactiveCount+=1,this.inactiveCount%this.inactiveCountMod==0)){var t=this.url();null!=this.responseTime&&(t=c.helpers.joinURL(t,"timestamp="+c.helpers.fixedEncodeURIComponent(this.responseTime))),e.ajax({url:t,type:"GET",dataType:"json",success:this.handlePollSuccess,error:this.handlePollError})}else window.setTimeout(this.poll,this.inactiveDelay)},handlePollSuccess:function(t,e){if(this.polling){this.responseTime=t.response_time;for(var i=0;i<t.channel_names.length;i++)for(var n=t[t.channel_names[i]].modifications,r=0;r<n.length;r++)this.trigger(c.events.ChannelPrefix+t.channel_names[i],t.channel_names[i],"modification",n[r],this);this.polling&&(this.timeout=window.setTimeout(this.poll,this.pollDelay))}},handlePollError:function(t){console.error("Poll error",arguments),this.polling&&(this.trigger(c.events.PollingError,this,t),this.polling&&(this.timeout=window.setTimeout(this.poll,this.pollDelay)))}}),u.models.EventFeed.extend=s.Model.extend,e.urlVars=function(){for(var t,e=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t=i[n].split("="),e.push(t[0]),e[t[0]]=unescape(t[1]);return e},e.urlVar=function(t){return e.urlVars()[t]},e.ajaxSetup({beforeSend:function(t,e){/^(GET|HEAD|OPTIONS|TRACE)$/.test(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",c.helpers.getCsrfToken())}}),u.isMobile={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return u.isMobile.Windows()||u.isMobile.Android()||u.isMobile.BlackBerry()||u.isMobile.iOS()}},u.views.updateNavProfileImage=function(t){e(".nav-profile-image").removeClass("blank").attr("src",t)},u.views.validateEmail=function(t){if("string"!=typeof t)return!1;if(!t)return!1;var e=t[t.length-1];if(2!=t.split("@").length)return!1;var i=t.indexOf("@");return 0!=i&&"@"!=e&&(-1!=t.substring(i+1).indexOf(".")&&"."!=e)},u.views.hasReasonableWebGL=function(){return-1==navigator.userAgent.toLowerCase().indexOf("firefox/47")},u.views.isInPortraitOrientation=function(){return window.orientation%180==0},u.views.isFullScreen=!1,u.views.requestFullScreen=function(){if(!u.views.isFullScreen){var t=document.body;t.requestFullscreen?(t.requestFullscreen(),u.views.isFullScreen=!0):t.msRequestFullscreen?(t.msRequestFullscreen(),u.views.isFullScreen=!0):t.mozRequestFullScreen?(t.mozRequestFullScreen(),u.views.isFullScreen=!0):t.webkitRequestFullscreen&&(t.webkitRequestFullscreen(),u.views.isFullScreen=!0)}},u.views.exitFullScreen=function(){if(u.views.isFullScreen){var t=document;t.exitFullscreen?(t.exitFullscreen(),u.views.isFullScreen=!1):t.mozCancelFullScreen?(t.mozCancelFullScreen(),u.views.isFullScreen=!1):t.webkitExitFullscreen?(t.webkitExitFullscreen(),u.views.isFullScreen=!1):t.msExitFullscreen&&(t.msExitFullscreen(),u.views.isFullScreen=!1)}},u.views.countify=function(t,e,i){return 0==t?"0 "+i:1==t?"1 "+e:t+" "+i},u.views.listify=function(t){if(!t||0==t.length)return"";if(1==t.length)return t[0];if(2==t.length)return t[0]+" and "+t[1];for(var e="",i=0;i<t.length-1;i++)e+=t[i]+", ";return e+="and "+t[t.length-1]},u.views.pluralize=function(t,e){return void 0===e&&(e="s"),t<=1?"":e},u.views.limitStringLength=function(t,e,i){return void 0===t||null==t||t.length<=e?t:i?t.substring(0,e-3)+"...":t.substring(0,e)},u.views.mediaTypeString=function(t,e){return t>0&&e>0?"photos and videos":1==t?"photo":1==e?"video":t>1?"photos":"videos"},u.views.mediaCountsString=function(t,e){return t>0&&e>0?t+" photo"+u.views.pluralize(t)+" and "+e+" video"+u.views.pluralize(e):1==t?"1 photo":1==e?"1 video":t>1?t+" photos":e+" videos"},u.views.HistoryFrame=function(t,e){if(null==o(t))throw"HistoryFrame requires a mode";this.mode=t,this.context=e||{}},u.views.History=function(t){this.options=t||{},this.construct()},a.extend(u.views.History.prototype,s.Events,{construct:function(){a.bindAll(this,"push","pushFrame","pop","peekMode","peek","length"),this.stack=[]},pushFrame:function(t){this.stack.push(t)},push:function(t,e){this.pushFrame(new u.views.HistoryFrame(t,e))},pop:function(){return 0==this.stack.length?null:this.stack.pop()},peekMode:function(t){var e=this.peek(t);return null==e?null:e.mode},peek:function(t){return void 0===t&&(t=0),0==this.stack.length||t>=this.stack.length?null:this.stack[this.stack.length-1-t]},length:function(){return this.stack.length}}),u.views.ToggleView=s.View.extend({tagName:"a",className:"toggle-view",toggleOnClass:"icon icon-toggle-on",toggleOffClass:"icon icon-toggle-off",events:{click:"handleClick"},initialize:function(t){if(!t.model)throw"ToggleView requres a model option";if(!t.fieldName)throw"ToggleView requres a fieldName option";a.bindAll(this,"handleClick","handleFieldChange"),this.options=t,this.toggleEl=n.span().appendTo(this.el),this.options.label&&n.span({class:"toggle-label"},this.options.label).appendTo(this.el),this.updateToggleFromModel(),this.updateToggleDisplay(),this.listenTo(this.options.model,"change:"+this.options.fieldName,this.handleFieldChange)},handleFieldChange:function(){this.updateToggleFromModel(),this.updateToggleDisplay()},handleClick:function(){this.options.model.set(this.options.fieldName,!this.options.model.get(this.options.fieldName))},updateToggleDisplay:function(){var t=this.toggledOn?this.toggleOnClass:this.toggleOffClass;this.toggleEl.setAttribute("class",t)},updateToggleFromModel:function(){null!=this.options.model.get(this.options.fieldName)?this.toggledOn=!0===this.options.model.get(this.options.fieldName):!0===this.options.toggledOn?this.toggledOn=!0:this.toggledOn=!1}}),u.views.TextFieldItemView=s.View.extend({initialize:function(t){if(!t.model)throw"Requires a model option";if(!t.fieldName)throw"Requires a fieldName option";this.options=t,this.callback=u.views.bindText(t.model,t.fieldName,this.el)},remove:function(){s.View.prototype.remove.call(this),this.options.model.off(null,this.callback,this)}}),u.views.generateModelFieldComparator=function(t,e,i){if(i=!0===i,e=!!e)var n=-1,r=1;else n=1,r=-1;return function(e,o){if(e.isNew()&&o.isNew())return 0;if(e.isNew()&&!o.isNew())return n;if(!e.isNew()&&o.isNew())return r;if(e.id==o.id)return 0;var a=e.get(t),s=o.get(t);return i&&"string"==typeof a&&(a=a.toLowerCase()),i&&"string"==typeof s&&(s=s.toLowerCase()),a==s?0:a>s?n:r}},u.views.CollectionNextView=s.View.extend({initialize:function(t){if(a.bindAll(this,"handleNextClicked","handleRequest","handleSync","handleError","handleUpdate","handleWindowScroll"),!t.collection)throw"Requires a collection option";this.options=t,this.autofetch=this.options.autofetch||!1,this.autofetchVerticalBuffer=this.options.autofetchVerticalBuffer||window.innerHeight/2,this.container=n.div({class:"collection-next-view"}).appendTo(this.el),this.nextLink=n.a({class:"next-link"},"Fetch more").appendTo(this.container),e(this.nextLink).click(this.handleNextClicked),this.collection.next||e(this.nextLink).hide(),this.spinner=n.span({class:"icon icon-spinner icon-spin"}).appendTo(this.container),e(this.spinner).hide(),this.listenTo(this.options.collection,"request",this.handleRequest),this.listenTo(this.options.collection,"sync",this.handleSync),this.listenTo(this.options.collection,"error",this.handleError),this.listenTo(this.options.collection,"update",this.handleUpdate),!0===this.options.autofetch&&e(window).scroll(a.throttle(this.handleWindowScroll,2500,{leading:!0}))},handleWindowScroll:function(t){this.$el.is(":visible")&&(this.collection.isNew()||!this.collection.next||this.collection.fetching||this.nextLink.getBoundingClientRect().top<=window.innerHeight+this.autofetchVerticalBuffer&&this.collection.fetchNext())},handleNextClicked:function(){this.collection.fetching||this.collection.fetchNext()},handleRequest:function(){e(this.spinner).show(),e(this.nextLink).hide()},handleSync:function(){e(this.spinner).hide(),this.collection.next&&e(this.nextLink).show()},handleUpdate:function(){e(this.spinner).hide(),this.collection.next&&e(this.nextLink).show()},handleError:function(){e(this.spinner).hide(),this.collection.next&&e(this.nextLink).show()}}),u.views.GenericModal=s.View.extend({className:"generic-modal modal",events:{"click .cancel-button":"handleCancel","click .ok-button":"handleOk"},initialize:function(t){if(a.bindAll(this,"show","handleShown","handleHidden","handleCancel","handleOk"),this.options=t,a.isUndefined(this.options.hideOnOk)&&(this.options.hideOnOk=!0),this.$el.attr("role","dialog"),this.$el.attr("tabindex","-1"),this.oked=!1,this.dialog=n.div({class:"modal-dialog",role:"document"}).appendTo(this.el),this.content=n.div({class:"modal-content","aria-labelledby":"generic-modal-title"}).appendTo(this.dialog),this.header=n.div({class:"modal-header"}).appendTo(this.content),this.title=n.h4({class:"modal-title",id:"generic-modal-title"},this.options.titleText||"").appendTo(this.header),this.closeButton=n.button({type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).appendTo(this.header),this.closeSpan=n.span({"aria-hidden":"true"}).appendTo(this.closeButton),e(this.closeSpan).html("&times"),this.body=n.div({class:"modal-body"}).appendTo(this.content),this.body.appendChild(this.options.body),this.footer=n.div({class:"modal-footer"}).appendTo(this.content),this.cancelButton=n.button({type:"button",class:"btn btn-default cancel-button"},n.span({class:"glyphicon glyphicon-remove"}),this.options.cancelText||" Cancel"),0!=this.options.showCancel&&this.footer.appendChild(this.cancelButton),this.options.okBTNClass)var i=this.options.okBTNClass;else i="btn-primary";this.saveButton=n.button({type:"button",class:"btn "+i+" ok-button"},this.options.okText||"OK").appendTo(this.footer),this.$el.on("show.bs.modal",this.handleShown),this.$el.on("hide.bs.modal",this.handleHidden)},handleCancel:function(){this.$el.modal("hide")},handleOk:function(){this.oked||(this.oked=!0,this.options.okCallback&&this.options.okCallback(this),this.options.hideOnOk&&this.$el.modal("hide"))},handleShown:function(){},handleHidden:function(){this.remove()},show:function(){this.$el.modal({show:!0})}}),u.views.generateModal=function(t,i,r,o){var a=n.div({class:"modal fade"}),s=n.div({class:"modal-dialog"}).appendTo(a),l=n.div({class:"modal-content"}).appendTo(s),c=n.div({class:"modal-header"}).appendTo(l);o&&a.setAttribute("id",o),t&&n.h4({class:"modal-title"},t).appendTo(c);var u=n.button({type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).appendTo(c),h=n.span({"aria-hidden":"true"}).appendTo(u);e(h).html("&times");n.div({class:"modal-body"},i).appendTo(l);if(r&&r.length>0)for(var d=n.div({class:"modal-footer"}).appendTo(l),p=0;p<r.length;p++){var f=n.button({type:"button",class:"btn btn-default"},r[p].text).appendTo(d);e(f).click(function(){this.callback&&this.callback(this.text)}.bind(r[p]))}return a},u.views.generateConfirmationModal=function(t,e,i){return u.views.generateModal(t,e,[{text:"Cancel",callback:i},{text:"Ok",callback:i}])},u.views.showMessageModal=function(t,i){if(1===i.nodeType)var r=i;else r=n.div(i);var o=u.views.generateModal(t,r,[{text:"Ok",callback:function(){e(o).modal("hide")}}]);e(document.body).append(o),e(o).modal()},u.views.bindInput=function(t,i,n){var r=e(n);r.val(t.get(i)||""),r.keyup((function(e){27!==e.keyCode&&t.set(i,r.val())}))},u.views.bindText=function(t,i,n,r){void 0===r&&(r=function(t){return t});var o=e(n);o.text(r(t.get(i)));var a=function(){o.text(r(t.get(i)))};return t.on("change:"+i,a),a},u.views.getMomentForRestTimestamp=function(t,e){return t?(void 0===e&&(e=!0),e&&"Z"==t[t.length-1]&&(t=t.substring(0,t.length-1)),l(t,c.constants.REST_DATETIME_FORMAT)):null};var h;u.views.formatRestTimestamp=function(t,e){if(!t)return"";var i=u.views.getMomentForRestTimestamp(t,e);if(null==i)return"";var n,r=l();return i.valueOf()>r.valueOf()?i.format("MMM D, YYYY").toUpperCase()+" at "+i.format("h:mm a").toUpperCase():i.valueOf()<r.valueOf()-2592e5?i.format("MMM D, YYYY").toUpperCase():i.valueOf()<r.valueOf()-936e5?(n=Math.floor((r.valueOf()-i.valueOf())/936e5))+" day"+(1==n?"":"s")+" ago":i.valueOf()<r.valueOf()-36e5?(n=Math.floor((r.valueOf()-i.valueOf())/36e5))+" hour"+(1==n?"":"s")+" ago":i.valueOf()<r.valueOf()-6e4?(n=Math.floor((r.valueOf()-i.valueOf())/6e4))+" minute"+(1==n?"":"s")+" ago":i.valueOf()<r.valueOf()-1e3?(n=Math.floor((r.valueOf()-i.valueOf())/1e3))+" second"+(1==n?"":"s")+" ago":"Just now"},u.models.FilestackUpload=s.Model.extend({idAttribute:"handle",initialize:function(){if(!this.get("handle"))throw new Error("Filestack handle is required to instantiate base.models.FilestackUpload");this.set("file",new u.models.FilestackFile({handle:this.get("handle")}))}}),u.models.FilestackFile=s.Model.extend({idAttribute:"handle",_filestackClient:null,initialize:function(){if(!this.get("handle"))throw new Error("Filestack handle is required to instantiate base.models.FilestackFile")},getClient:function(){return this._filestackClient||(this._filestackClient=c.helpers.getFilestackClient()),this._filestackClient},transform:function(t){return this.getClient().transform(this.get("handle"),t)},url:function(){return this.getClient().transform(this.get("handle"))},preview:function(t){return t?this.getClient().preview(this.get("handle"),{id:t}):this.getClient().preview(this.get("handle"))}}),r.fn.sortElements=(h=[].sort,function(t,e){e=e||function(){return this};var i=this.map((function(){var t=e.call(this),i=t.parentNode,n=i.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(i===this)throw new Error("You can't sort elements if any one is a descendant of another.");i.insertBefore(this,n),i.removeChild(n)}}));return h.call(this,t).each((function(t){i[t].call(e.call(this))}))}),e("#my-media-nav > a").click((function(t){t.preventDefault();var e=window.user?window.user.get("my_media_view"):null;e||(e="photostream"),window.location.href="folders"===e?"/#folders/":"/#media/"})),t.exports=u}).call(this,i(2),i(4),i(2))},function(t,e){t.exports={FOLDER_CHANGED:"folder-changed",HANDLE_FILE_UPLOAD:"handle-file-upload",HANDLE_FILE_UPLOAD_ON_DROP:"handle-file-upload-on-drop",REFRESH_FOLDER_CONTEXT:"refresh-folder-context",SELECTION_CHANGED:"selection-change",SORT_CHANGED:"sort-changed",SEARCH_CHANGED:"search-changed",SHOW_ACCESS_CONTROL_VIEW:"show-access-control-view",SHOW_SHARE_VIEW:"show-share-view",VIEW_MODE_CHANGED:"view-mode-changed"}},function(t,e,i){(function(e,n){var r;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}var l=i(3),c=i(646),u=i(647),h=i(0),d=i(50),p=i(337),f=i(338),m=i(5),g=i(25),v=g.ANNOTATION_AUTOPLAY_INTERVAL,y=g.ANNOTATION_DISPLAY_MODE,_=g.ANNOTATION_MARKER_STATE,b=i(29),w=b.ANNOTATION_CREATE,x=b.ANNOTATION_CREATE_CANCELED,M=b.ANNOTATION_EDIT_CANCELED,S=b.ANNOTATION_JUMP_TO_ANNOTATION,k=b.ANNOTATION_MARKER_ADDED,T=b.ANNOTATION_MARKER_UPDATED,C=b.ANNOTATION_MARKER_DELETED,E=b.ANNOTATION_MARKER_CHANGED,A=b.ANNOTATION_OPEN_SHARE_MODAL,L=b.ANNOTATION_OPEN_VIEW_PANEL,D=b.ANNOTATION_SELECTED,P=b.ANNOTATION_TOGGLE_ANNOTATION_MODE,O=b.ANNOTATION_TOGGLE_SLIDESHOW,I=b.ANNOTATION_SAVED,N=b.HOTSPOT_CLOSE_PANEL,R=i(23),F=R.cartesianToLatLonDegree,j=R.findAnchorScreenPosition,U=R.getMarkerDataForState,Y=R.latLonDegreeToCartesian,V=R.loadMarkerResourcesAsync,H=i(108),B=i(111),z=i(341),W=i(648),q=i(342),G=i(350),$=i(668),X=i(35),K=i(351),J=i(71),Q=i(153),Z=i(13),tt=i(669),et=i(670),it=i(8),nt=it.ACCOUNT_UPLOAD_MAX,rt=it.API_ROOT,ot=it.PERMISSIONS,at=it.REST_DATETIME_FORMAT,st=it.TIERS,lt=i(71).ChannelPrefix,ct=i(12),ut=ct.fetchJson,ht=ct.fixedEncodeURIComponent,dt=ct.formatBytes,pt=ct.getFilestackClient,ft=ct.hasContentPermission,mt=ct.isContentOwner,gt=ct.isNil,vt=ct.truncateFloat,yt=i(90),_t=i(80),bt=i(112),wt=i(107),xt=i(158),Mt=xt.COLLECTION_AUTOPLAY_INTERVAL,St=xt.IMAGE_SIZE_MEDIUM,kt=xt.IMAGE_SIZE_LARGE,Tt=i(36),Ct=Tt.SHOW_ACCESS_CONTROL_VIEW,Et=Tt.SHOW_SHARE_VIEW,At=i(82),Lt=At.CardboardEffectStarted,Dt=At.CloseRequested,Pt=At.DeleteRequested,Ot=At.PeopleShareRequested,It=At.ShowedUploadDetail,Nt=At.UploadCollectionOpenRequested,Rt=At.UploadCollectionPositionItemSelected,Ft=At.UploadCollectionPositionThumbnailSelected,jt=At.UploadOpenRequested,Ut=At.UploadProgress,Yt=At.UploadsStarting,Vt=At.UserSelected,Ht=i(671).getTextureLoaderInstance,Bt=i(672),zt=Bt.CONTENT_FIELD_NAMES,Wt=Bt.PHOTO_FIELD_NAMES,qt=Bt.VIDEO_FIELD_NAMES,Gt=Bt.SPHERICAL_FIELD_NAMES,$t=Bt.CAPTION_SHORT_LENGTH,Xt=i(673),Kt=Xt.UPLOAD_COMMENTS_QUERY_LIMIT,Jt=Xt.ACCEPTED_UPLOAD_TYPES,Qt=Xt.ACCEPTED_IMAGE_TYPES,Zt=Xt.ACCEPTED_VIDEO_TYPES,te=Xt.CONCURRENT_UPLOADS,ee=i(43),ie=i(159),ne=i(674),re=i(675),oe=i(160),ae=i(677),se=i(353),le={};le.views=le.views||{},le.models=le.models||{};var ce,ue;new c(".copy-button");function he(t){Math.round;var e,i,n,r,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),p=new Array(64),f=new Array(64),m=[],g=0,v=7,y=new Array(64),_=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(t,e){for(var i=0,n=0,r=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)r[e[n]]=[],r[e[n]][0]=i,r[e[n]][1]=o,n++,i++;i*=2}return r}function O(t){for(var e=t[0],i=t[1]-1;i>=0;)e&1<<i&&(g|=1<<v),i--,--v<0&&(255==g?(I(255),I(0)):I(g),v=7,g=0)}function I(t){m.push(w[t])}function N(t){I(t>>8&255),I(255&t)}function R(t,e,i,n,r){for(var o,a=r[0],s=r[240],l=function(t,e){var i,n,r,o,a,s,l,c,u,h,d=0;for(u=0;u<8;++u){i=t[d],n=t[d+1],r=t[d+2],o=t[d+3],a=t[d+4],s=t[d+5],l=t[d+6];var f=i+(c=t[d+7]),m=i-c,g=n+l,v=n-l,y=r+s,_=r-s,b=o+a,w=o-a,x=f+b,M=f-b,S=g+y,k=g-y;t[d]=x+S,t[d+4]=x-S;var T=.707106781*(k+M);t[d+2]=M+T,t[d+6]=M-T;var C=.382683433*((x=w+_)-(k=v+m)),E=.5411961*x+C,A=1.306562965*k+C,L=.707106781*(S=_+v),D=m+L,P=m-L;t[d+5]=P+E,t[d+3]=P-E,t[d+1]=D+A,t[d+7]=D-A,d+=8}for(d=0,u=0;u<8;++u){i=t[d],n=t[d+8],r=t[d+16],o=t[d+24],a=t[d+32],s=t[d+40],l=t[d+48];var O=i+(c=t[d+56]),I=i-c,N=n+l,R=n-l,F=r+s,j=r-s,U=o+a,Y=o-a,V=O+U,H=O-U,B=N+F,z=N-F;t[d]=V+B,t[d+32]=V-B;var W=.707106781*(z+H);t[d+16]=H+W,t[d+48]=H-W;var q=.382683433*((V=Y+j)-(z=R+I)),G=.5411961*V+q,$=1.306562965*z+q,X=.707106781*(B=j+R),K=I+X,J=I-X;t[d+40]=J+G,t[d+24]=J-G,t[d+8]=K+$,t[d+56]=K-$,d++}for(u=0;u<64;++u)h=t[u]*e[u],p[u]=h>0?h+.5|0:h-.5|0;return p}(t,e),c=0;c<64;++c)f[M[c]]=l[c];var u=f[0]-i;i=f[0],0==u?O(n[0]):(O(n[d[o=32767+u]]),O(h[o]));for(var m=63;m>0&&0==f[m];m--);if(0==m)return O(a),i;for(var g,v=1;v<=m;){for(var y=v;0==f[v]&&v<=m;++v);var _=v-y;if(_>=16){g=_>>4;for(var b=1;b<=g;++b)O(s);_&=15}o=32767+f[v],O(r[(_<<4)+d[o]]),O(h[o]),v++}return 63!=m&&O(a),i}function F(t){if(t<=0&&(t=1),t>100&&(t=100),o!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=a((e[i]*t+50)/100);n<1?n=1:n>255&&(n=255),s[M[i]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=a((r[o]*t+50)/100);h<1?h=1:h>255&&(h=255),l[M[o]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)c[p]=1/(s[M[p]]*d[f]*d[m]*8),u[p]=1/(l[M[p]]*d[f]*d[m]*8),p++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t}}this.encode=function(t,o,a){(new Date).getTime();o&&F(o),m=new Array,g=0,v=7,N(65496),N(65504),N(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),N(1),N(1),I(0),I(0),function(){N(65499),N(132),I(0);for(var t=0;t<64;t++)I(s[t]);I(1);for(var e=0;e<64;e++)I(l[e])}(),function(t,e){N(65472),N(17),I(8),N(e),N(t),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(t.width,t.height),function(){N(65476),N(418),I(0);for(var t=0;t<16;t++)I(S[t+1]);for(var e=0;e<=11;e++)I(k[e]);I(16);for(var i=0;i<16;i++)I(T[i+1]);for(var n=0;n<=161;n++)I(C[n]);I(1);for(var r=0;r<16;r++)I(E[r+1]);for(var o=0;o<=11;o++)I(A[o]);I(17);for(var a=0;a<16;a++)I(L[a+1]);for(var s=0;s<=161;s++)I(D[s])}(),N(65498),N(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var h=0,d=0,p=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,w,M,P,j,U,Y,V,H,B=t.data,z=t.width,W=t.height,q=4*z,G=0;G<W;){for(f=0;f<q;){for(U=j=q*G+f,Y=-1,V=0,H=0;H<64;H++)U=j+(V=H>>3)*q+(Y=4*(7&H)),G+V>=W&&(U-=q*(G+1+V-W)),f+Y>=q&&(U-=f+Y-q+4),w=B[U++],M=B[U++],P=B[U++],y[H]=(x[w]+x[M+256>>0]+x[P+512>>0]>>16)-128,_[H]=(x[w+768>>0]+x[M+1024>>0]+x[P+1280>>0]>>16)-128,b[H]=(x[w+1280>>0]+x[M+1536>>0]+x[P+1792>>0]>>16)-128;h=R(y,c,h,e,n),d=R(_,u,d,i,r),p=R(b,u,p,i,r),f+=32}G+=8}if(v>=0){var $=[];$[1]=v+1,$[0]=(1<<v+1)-1,O($)}if(N(65497),a){for(var X=m.length,K=new Uint8Array(X),J=0;J<X;J++)K[J]=m[J].charCodeAt();return m=[],K}var Q="data:image/jpeg;base64,"+btoa(m.join(""));return m=[],Q},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=P(S,k),i=P(E,A),n=P(T,C),r=P(L,D),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)d[32767+n]=i,h[32767+n]=[],h[32767+n][1]=i,h[32767+n][0]=n;for(var r=-(e-1);r<=-t;r++)d[32767+r]=i,h[32767+r]=[],h[32767+r][1]=i,h[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),F(t),(new Date).getTime()}()}function de(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}le.models.UploadCollectionPosition=l.Model.extend({idAttribute:"uuid",getUpload:function(){return void 0!==this.upload||(this.upload=new le.models.Upload(this.get("upload")),this.listenTo(this,"change:upload reset",(function(){this.upload.reset(this.get("upload"))}))),this.upload},isVisibleBy:function(t){return null===this.get("withdrawn")&&this.getUpload().isVisibleBy(t)},isNew:function(){return void 0===this.get("uuid")},url:function(){var t=rt+"upload-collection-position/";return this.isNew()?t:t+this.get("uuid")}}),le.models.UploadCollectionPositions=yt.extend({model:le.models.UploadCollectionPosition,baseUrl:function(){return rt+"upload-collection/"+this.options.uploadCollectionUUID+"/positions/"},isNew:function(){return void 0===this.options.uploadCollectionUUID},getChannelName:function(){return"upload_collection_positions"},getVisibleCount:function(){return this.filter((function(t){return null===t.get("withdrawn")})).length}}),le.models.UploadCollection=l.Model.extend({isVisibleBy:function(t){return null===this.get("deleted")&&(this.getOwner().id===t.id||this.getRecipients().some((function(e){return e.id===t.id})))},listenToEvents:function(t){this.listenTo(t,lt+"upload_collections",this.handleEvent.bind(this))},handleEvent:function(t,e,i){this.get("uuid")===i.uuid&&this.set(i)},addUploads:function(t,i,n){var r={uploads:m.map(t,(function(t){return t.id})).join(",")};e.ajax({type:"POST",dataType:"json",url:this.url(),data:r,success:i,error:n})},getOwner:function(){return void 0!==this.owner||(this.owner=new ee.models.User(this.get("owner")),this.listenTo(this,"change:owner reset",function(){this.owner.set(this.get("owner"))}.bind(this))),this.owner},getRecipients:function(){return void 0!==this.recipients||(this.recipients=new ee.models.Users(this.get("recipients")),this.listenTo(this,"change:recipients reset",function(){this.recipients.set(this.get("recipients"))}.bind(this))),this.recipients},shareToRecipients:function(t,i,n,r){var o=m.filter(t,(function(t){return!0===t.isNew()})),a=m.filter(t,(function(t){return!1===t.isNew()})),s={invites:m.map(o,(function(t){return{first_name:t.get("first_name"),last_name:t.get("last_name"),email:t.get("email")}})),additions:m.map(a,(function(t){return t.id})).join(","),message:i},l=function(t){this.collection.getRecipients().reset(t),this.success&&this.success(t)}.bind({collection:this,success:n});e.ajax({type:"POST",dataType:"json",url:this.url()+"/recipients/",data:{jsonData:JSON.stringify(s)},success:l,error:r})},removeRecipients:function(t,i,n){var r={removals:m.map(t,(function(t){return t.id})).join(",")},o=function(t){this.collection.getRecipients().reset(t),this.success&&this.success(t)}.bind({collection:this,success:i});e.ajax({type:"POST",dataType:"json",url:this.url()+"/recipients/",data:r,success:o,error:n})},getPositions:function(){return void 0!==this.positions||(this.positions=new le.models.UploadCollectionPositions(this.get("positions"),{comparator:"position",uploadCollectionUUID:this.get("uuid")}),this.positions.count=this.positions.length,this.listenTo(this,"change:positions reset",function(){this.positions.reset(this.get("positions")),this.positions.count=this.positions.length}.bind(this))),this.positions},listUploads:function(){return this.getPositions().map((function(t){return t.getUpload()}))},isNew:function(){return void 0===this.get("uuid")},url:function(){var t=rt+"upload-collection/";return this.isNew()?t:t+this.get("uuid")}}),le.models.UploadCollections=yt.extend({model:le.models.UploadCollection,baseUrl:function(){return rt+"upload-collection/"},getChannelName:function(){return"upload_collections"}}),le.models.UploadUploadCollections=yt.extend({model:le.models.UploadCollection,baseUrl:function(){return rt+"upload/"+this.options.uploadUUID+"/collections"},getChannelName:function(){return"upload_upload_collections"}}),le.models.NotableAction=l.Model.extend({isVisibleBy:function(t){return null===this.get("deleted")&&(this.getFavorite()?this.getFavorite().isVisibleBy(t):this.getUploadComment()?this.getUploadComment().isVisibleBy(t):!this.getShareAction()||this.getShareAction().isVisibleBy(t))},getShareAction:function(){return void 0!==this.shareAction?this.shareAction:null==this.get("share_action")?null:(this.shareAction=new le.models.ShareAction(this.get("share_action")),this.shareAction.getUploads().each(function(t){this.listenTo(t,jt,function(t){this.trigger(jt,t)}.bind(this))}.bind(this)),this.shareAction)},getPublicShare:function(){return void 0!==this.publicShare?this.publicShare:null==this.get("public_share")?null:(this.publicShare=new le.models.Upload(this.get("public_share")),this.listenTo(this.publicShare,jt,function(t){this.trigger(jt,t)}.bind(this)),this.publicShare)},getUploadComment:function(){return void 0!==this.uploadComment?this.uploadComment:null==this.get("upload_comment")?null:(this.uploadComment=new le.models.UploadComment(this.get("upload_comment")),this.listenTo(this.uploadComment.getUpload(),jt,function(t){this.trigger(jt,t)}.bind(this)),this.uploadComment)},getFavorite:function(){return void 0!==this.favorite?this.favorite:null==this.get("favorite")?null:(this.favorite=new le.models.Favorite(this.get("favorite")),this.listenTo(this.favorite.getUpload(),jt,function(t){this.trigger(jt,t)}.bind(this)),this.favorite)}}),le.models.NotableActions=yt.extend({model:le.models.NotableAction,fetchNew:function(t){if(m.bindAll(this,"listenToEvents","handleUploadEvent"),this.fetching)return!1;if(0==this.length)return!1;this.removeQueryParameter("timestamp"),this.addQueryParameter("timestamp",this.at(0).get("created"));var e=this.next;return this.next=null,t=t||{},m.extend(t,{remove:!1,success:function(){this.next=e,this.removeQueryParameter("timestamp")}.bind(this),error:function(){this.next=e,this.removeQueryParameter("timestamp")}.bind(this)}),this.fetch(t),!0},baseUrl:function(){return rt+"notable-action/"},getChannelName:function(){return"notable_actions"},listenToEvents:function(t,e){this.listenTo(t,lt+"uploads",this.handleUploadEvent)},handleUploadEvent:function(t,e,i,n){var r=[];this.each((function(t){t.getShareAction()?t.getShareAction().getUploads().each((function(t){t.id==i.id&&(r[r.length]=t)})):t.getUploadComment()?t.getUploadComment().getUpload().id==i.id&&(r[r.length]=t.getUploadComment().getUpload()):t.getFavorite()&&t.getFavorite().getUpload().id==i.id&&(r[r.length]=t.getFavorite().getUpload())}));for(var o=0;o<r.length;o++)r[o].set(i),r[o].trigger(J.UpdatedByEvent)}}),le.models.ShareAction=l.Model.extend({isVisibleBy:function(t){var e=this.getUploadCollection();if(null!==e)return e.isVisibleBy(t);if(null===this.getFolders()&&0==this.getUploads().some((function(t){return null===t.get("deleted")&&!t.get("hidden")})))return!1;var i=this.getContentShares().filter((function(e){return e.getRecipient().id==t.id}));return 0!==i.length&&m.some(i,function(t){return null==t.get("withdrawn")}.bind(this))},getFolders:function(){var t=this.get("folders");return t.length>0?t:null},getUploadCollection:function(){return null===this.get("upload_collection")?null:(void 0!==this.uploadCollection||(this.uploadCollection=new le.models.UploadCollection(this.get("upload_collection")),this.listenTo(this,"change:upload_collection reset",function(){this.uploadCollection.set(this.get("upload_collection"))}.bind(this))),this.uploadCollection)},getSender:function(){return void 0!==this.sender||(this.sender=new ee.models.User(this.get("sender")),this.listenTo(this,"change:sender reset",function(){this.sender.set(this.get("sender"))}.bind(this))),this.sender},getRecipients:function(){return void 0!==this.recipients||(this.recipients=new ee.models.Users(this.get("recipients")),this.listenTo(this,"change:recipients reset",function(){this.recipients.set(this.get("recipients"),{remove:!1})}.bind(this))),this.recipients},getUploads:function(){return void 0!==this.uploads||(this.uploads=new le.models.Uploads(this.get("uploads")),this.listenTo(this,"change:uploads reset",function(){this.uploads.set(this.get("uploads"),{remove:!1})}.bind(this)),this.collection&&this.listenTo(this.uploads,jt,function(t){this.collection.trigger(jt,t)}.bind(this))),this.uploads},getContentShares:function(){return void 0!==this.contentShares||(this.contentShares=new le.models.ContentShares(this.get("content_shares")),this.listenTo(this,"change:content_shares reset",function(){this.contentShares.set(this.get("content_shares"),{remove:!1})}.bind(this))),this.contentShares},getCounts:function(){var t=this.getUploadCollection();if(null!==t)var e=t.listUploads();else e=this.getUploads().toArray();var i=0,n=0;return m.each(e,(function(t){null==t.get("deleted")&&1!=t.get("hidden")&&(t.isPhoto()?i+=1:n+=1)})),{photoCount:i,videoCount:n}}}),le.models.ShareActions=yt.extend({model:le.models.ShareAction,baseUrl:function(){return rt+"share-action/"},getChannelName:function(){return"share_actions"}}),le.models.ShareGroup=l.Model.extend({}),le.models.ShareGroups=yt.extend({model:le.models.ShareGroup,baseUrl:function(){return rt+"share-group/"},getChannelName:function(){return"share_groups"}}),le.models.ContentShareCounts=Q.extend({getSender:function(t){if(this.isNew())return null;var e=this.get("senders");if(!e)return null;for(var i=0;i<e.length;i++)if(e[i].sender.id==t)return e[i];return null},isNew:function(){return void 0===this.get("response_time")},url:function(){return rt+"content-share/count/"}}),le.models.FavoriteCounts=Q.extend({getOwner:function(t){if(this.isNew())return null;var e=this.get("owners");if(!e)return null;for(var i=0;i<e.length;i++)if(e[i].owner.id==t)return e[i];return null},isNew:function(){return void 0===this.get("response_time")},url:function(){return rt+"favorite/count/"}}),le.models.Favorite=l.Model.extend({isVisibleBy:function(t){return null==this.get("withdrawn")&&0!=this.getUpload().isVisibleBy(t)},getRecipient:function(){return void 0!==this.recipient||(this.recipient=new ee.models.User(this.get("recipient")),this.listenTo(this,"change:recipient",function(){this.recipient.set(this.get("recipient"))}.bind(this))),this.recipient},getUpload:function(){return null==this.upload&&(this.upload=new le.models.Upload(this.get("upload")),this.listenTo(this,"change:upload",function(){this.upload.set(this.get("upload"))}.bind(this)),this.listenTo(this.upload,jt,function(t){this.trigger(jt,t)}.bind(this))),this.upload},isNew:function(){return null==this.get("uuid")},url:function(){var t=rt+"favorite/";return this.isNew()?t:t+this.get("uuid")}}),le.models.Favorites=yt.extend({model:le.models.Favorite,isFavoriteOf:function(t){return this.some(function(t){return null==t.get("withdrawn")&&t.get("recipient").id==this.user.id}.bind({user:t}))},getChannelName:function(){return"favorites"},baseUrl:function(){return rt+"favorite/"}}),le.models.Upload=Q.extend({isNew:function(){return!this.get("uuid")},isVisibleBy:function(t){return null==this.get("deleted")&&(1!=this.get("hidden")&&(this.getOwner().id==t.id||(!!this.getContentShares().some((function(e){return null==e.get("withdrawn")&&e.getRecipient().id==t.id}))||!this.getContentShares().some((function(e){return null!==e.get("withdrawn")&&e.getRecipient().id==t.id})))))},getContent:function(){for(var t=0;t<zt.length;t++)if(this.get(zt[t]))return this.get(zt[t]);return null},getOwner:function(){return void 0!==this.owner||(this.owner=new ee.models.User(this.get("owner")),this.listenTo(this,"change:owner reset",function(){this.owner.set(this.get("owner"))}.bind(this))),this.owner},getContentShares:function(){return void 0!==this.contentShares||(this.contentShares=new le.models.ContentShares(this.get("content_shares")),this.listenTo(this,"change:content_shares reset",function(){this.contentShares.set(this.get("content_shares"),{remove:!1})}.bind(this))),this.contentShares},getContentShareForRecipient:function(t){return this.getContentShares().find((function(e){return null==e.get("withdrawn")&&e.getRecipient().id==t}))||null},getRecentComments:function(){return void 0!==this.recentComments||(this.recentComments=new le.models.UploadComments(this.get("recent_comments")),this.listenTo(this,"change:recent_comments reset",function(){this.recentComments.set(this.get("recent_comments"),{remove:!1})}.bind(this))),this.recentComments},getComments:function(t,e){return void 0!==this.comments||(this.comments=new le.models.UploadComments(null,{uploadUUID:this.get("uuid"),queryLimit:Kt}),this.comments.fetch(),void 0!==t&&this.comments.listenToEvents(t,e)),this.comments},getFavorites:function(){return void 0!==this.favorites||(this.favorites=new le.models.Favorites(this.get("favorites")),this.listenTo(this,"change:favorites reset",function(){this.favorites.set(this.get("favorites"),{remove:!1})}.bind(this))),this.favorites},getThumbnail:function(t){var e=this.isVideo()?this.get("video_sphere"):this.get("photo_sphere");if(e){var i=t+"_thumbnail_url";return i in e?e[i]:null}return null},getMoment:function(){var t=this.get("xmp_create_date");return t||(t=this.get("created")),h(t,at)},isPhoto:function(){for(var t=0;t<Wt.length;t++)if(this.get(Wt[t]))return!0;return!1},isVideo:function(){for(var t=0;t<qt.length;t++)if(this.get(qt[t]))return!0;return!1},isSpherical:function(){for(var t=0;t<Gt.length;t++)if(this.get(Gt[t]))return!0;return!1},url:function(){var t=rt+"upload/";return this.isNew()?t:t+this.get("uuid")},sync:function(t,i,n){var r=m.defaults({url:this.url(),success:function(t){n.success&&n.success(t)}},n);switch(t){case"create":r.type="POST",r.data=new FormData;for(var o=0;o<i.keys().length;o++)r.data.append(i.keys()[o],i.get(i.keys()[o]));r.processData=!1,r.contentType=!1;var a=function(t){this.trigger(Ut,this,t)}.bind(this);r.xhr=function(){var t=e.ajaxSettings.xhr();return t instanceof window.XMLHttpRequest&&t.addEventListener("progress",a,!1),t.upload&&t.upload.addEventListener("progress",a,!1),t};break;case"update":r.type="PUT",r.data=new FormData;for(o=0;o<i.keys().length;o++)r.data.append(i.keys()[o],i.get(i.keys()[o]));r.processData=!1,r.contentType=!1,r.xhr=function(){return e.ajaxSettings.xhr()};break;case"patch":for(var s in r.type="PATCH",r.data=new FormData,n.attrs)r.data.append(s,n.attrs[s]);r.processData=!1,r.contentType=!1,r.xhr=function(){return e.ajaxSettings.xhr()};break;case"delete":r.type="DELETE";break;default:r.type="GET"}return e.ajax(r)},getAnnotationMarkers:(ce=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.get("url")+"/annotation_markers",t.abrupt("return",ut(e));case 2:case"end":return t.stop()}}),t,this)})),ue=function(){var t=this,e=arguments;return new Promise((function(i,n){var r=ce.apply(t,e);function o(t){s(r,i,n,o,a,"next",t)}function a(t){s(r,i,n,o,a,"throw",t)}o(void 0)}))},function(){return ue.apply(this,arguments)})}),le.models.Uploads=yt.extend({model:le.models.Upload,baseUrl:function(){return rt+"upload/"},getChannelName:function(){return"uploads"},getVisibleCount:function(){return this.filter((function(t){return null==t.get("deleted")&&0==t.get("hidden")})).length}}),le.models.UploadComment=l.Model.extend({isVisibleBy:function(t){return null==this.get("deleted")&&0!=this.getUpload().isVisibleBy(t)},getCommenter:function(){return void 0!==this.commenter||(this.commenter=new ee.models.User(this.get("commenter")),this.listenTo(this,"change:commenter",function(){this.commenter.set(this.get("commenter"))}.bind(this))),this.commenter},getUpload:function(){return void 0!==this.upload||(this.upload=new le.models.Upload(this.get("upload")),this.listenTo(this,"change:upload",function(){this.upload.set(this.get("upload"))}.bind(this))),this.upload},url:function(){return this.isNew()?rt+"upload-comment/":rt+"upload-comment/"+this.get("uuid")}}),le.models.UploadComments=yt.extend({model:le.models.UploadComment,baseUrl:function(){return void 0!==this.options.uploadUUID?rt+"upload-comment/?upload="+this.options.uploadUUID:rt+"upload-comment/"},getChannelName:function(){return"upload_comments"}}),le.models.ContentShare=l.Model.extend({isVisibleBy:function(t){return t.id==this.getRecipient().id&&(null==this.get("withdrawn")&&(null==this.getUpload().get("deleted")&&!this.getUpload().get("hidden")))},url:function(){return this.isNew()?rt+"content-share/":rt+"content-share/"+this.get("uuid")},getSender:function(){return void 0!==this.sender||(this.sender=new ee.models.User(this.get("sender"))),this.sender},getRecipient:function(){return void 0!==this.recipient||(this.recipient=new ee.models.User(this.get("recipient"))),this.recipient},getUpload:function(){return void 0!==this.upload||(this.upload=new le.models.Upload(this.get("upload")),this.listenTo(this,"change:upload",function(){this.upload.set(this.get("upload"))}.bind(this)),this.listenTo(this.upload,jt,function(t){this.trigger(jt,t)}.bind(this))),this.upload}}),le.models.ContentShares=yt.extend({model:le.models.ContentShare,getChannelName:function(){return"content_shares"},baseUrl:function(){return rt+"content-share/"},getNonWithdrawnCount:function(){return this.filter((function(t){return null==t.get("withdrawn")})).length}}),le.models.UploadContentShares=yt.extend({model:le.models.ContentShare,initialize:function(t,e){if(this.options=e,void 0===this.options.uploadUUID)throw"UploadContentShares require an uploadUUID option";l.Collection.prototype.initialize.apply(this,arguments)},baseUrl:function(){return rt+"upload/"+this.options.uploadUUID+"/shares"}}),le.models.withdrawMultipleContentShares=function(t,i,n,r){var o={recipients:m.map(i,(function(t){return t.id})).join(","),uploads:m.map(t,(function(t){return t.id})).join(",")},a=rt+"multiple-content-share/?";a+="recipients="+ht(o.recipients),a+="&",a+="uploads="+ht(o.uploads),e.ajax({type:"DELETE",dataType:"json",url:a,success:function(){n&&n.apply(this,arguments)},error:function(){r&&r.apply(this,arguments)}})},le.models.postMultipleContentShares=function(t,i,n,r,o){var a=m.filter(i,(function(t){return!t.isNew()})),s=m.filter(i,(function(t){return t.isNew()})),l={recipients:m.map(a,(function(t){return t.id})).join(","),invites:m.map(s,(function(t){return{first_name:t.get("first_name"),last_name:t.get("last_name"),email:t.get("email")}})),uploads:m.map(t,(function(t){return t.id})).join(",")};n&&n.trim()&&(l.message=n.trim());e.ajax({type:"POST",dataType:"json",url:rt+"multiple-content-share/",data:{jsonData:JSON.stringify(l)},success:function(){r&&r.apply(this,arguments)},error:function(){o&&o.apply(this,arguments)}})},le.models.AcceptedSenders=yt.extend({model:ee.models.User,baseUrl:function(){return rt+"accepted-sender/"}}),le.models.ContentAcceptance=l.Model.extend({isNew:function(){return null==this.get("uuid")},getSender:function(){return void 0!==this.sender||(this.sender=new ee.models.User(this.get("sender")),this.listenTo(this,"change:sender reset",function(){this.sender.set(this.get("sender"))}.bind(this))),this.sender},getRecipient:function(){return void 0!==this.recipient||(this.recipient=new ee.models.User(this.get("recipient")),this.listenTo(this,"change:recipient reset",function(){this.recipient.set(this.get("recipient"))}.bind(this))),this.recipient},baseURL:function(){return rt+"content-acceptance/"},destroyBothDirections:function(t){var e=this.url.bind(this),i=this.collection;this.url=function(){return e()+"?bidirectional=true"};var n=this.destroy(t);return i&&i.add(this),this.url=e,n},url:function(){return this.isNew()?this.baseURL():this.baseURL()+this.get("uuid")}}),le.models.ContentAcceptances=yt.extend({model:le.models.ContentAcceptance,baseUrl:function(){return rt+"content-acceptance/"}}),le.models.AbstractUploadStream=function(t){this.options=t||{},this.construct(),this.initialize(this.options)},m.extend(le.models.AbstractUploadStream.prototype,l.Events,{construct:function(){m.bindAll(this,"initialize","indexOf","next","hasNext","previous","hasPrevious","getUpload","isViewable","comparator")},initialize:function(t){},getSpacePath:function(){throw"Not implemented"},getName:function(){throw"Not implemented"},getUpload:function(t){throw"Not implemented"},comparator:function(t,e){throw"Not implemented"},isViewable:function(t){throw"Not implemented"},indexOf:function(t){throw"Not implemented"},next:function(t){throw"Not implemented"},hasNext:function(t){throw"Not implemented"},previous:function(t){throw"Not implemented"},hasPrevious:function(t){throw"Not implemented"}}),le.models.AbstractUploadStream.extend=l.Model.extend,le.models.UploadStream=le.models.AbstractUploadStream.extend({initialize:function(t){if(!t.collection)throw"Requires a PaginatedCollection option";if(!t.name)throw"Requires a name option"},getSpacePath:function(){switch(this.options.name){case"activity":return"/s/#a";case"my media":return"/s/#media";case"share":return"/s/#share";case"friends and family":return"/s/#faf";case"favorites":return"/s/#fav";case"upload collection":return"/s/#uc/"+this.options.uploadCollectionUUID;case"upload page":return"/s/#u";default:return this.options.name.match(/^uploads\s+from\s+folder\s+/i)?"/s/#media":(console.error("Unknown stream name:",this.options.name),"/s/#u")}},getName:function(){return this.options.name},getUpload:function(t){return this.options.collection.at(t)},comparator:function(t,e){return t.id==e.id?0:t.id<e.id?-1:1},isViewable:function(t){var e=this.getUpload(t);return null==e.get("deleted")&&0==e.get("hidden")},uploadCount:function(){return this.options.collection.length},indexOf:function(t){for(var e=0;e<this.uploadCount();e++)if(0==this.comparator(this.options.collection.at(e),t))return e;return null},next:function(t){for(var e=t+1;e<this.uploadCount();e++)if(this.isViewable(e))return this.getUpload(e);return null},hasNext:function(t){for(var e=t+1;e<this.uploadCount();e++)if(this.isViewable(e))return!0;return!1},previous:function(t){for(var e=t-1;e>=0;e--)if(this.isViewable(e))return this.getUpload(e);return null},hasPrevious:function(t){for(var e=t-1;e>=0;e--)if(this.isViewable(e))return!0;return!1}}),le.models.NotableActionStream=le.models.UploadStream.extend({initialize:function(t){if(le.models.UploadStream.prototype.initialize.call(this,t),!t.user)throw"NotableActionStream requires a user option"},getShareAction:function(t){for(var e=0,i=0;i<this.options.collection.length;i++){var n=this.options.collection.at(i).getShareAction();if(null!=n){var r=n.getUploads();if(!(e+r.length<=t)){if(t-e>r.length)break;return n}e+=r.length}}return null},getUpload:function(t){for(var e=0,i=0;i<this.options.collection.length;i++){var n=this.options.collection.at(i).getShareAction();if(null!=n){var r=n.getUploads();if(!(e+r.length<=t)){var o=t-e;if(o>r.length)break;return r.at(o)}e+=r.length}}return null},uploadCount:function(){var t=0;return this.options.collection.each((function(e){var i=e.getShareAction();null!=i&&(t+=i.getUploads().length)})),t},indexOf:function(t){for(var e=0,i=0;i<this.options.collection.length;i++){var n=this.options.collection.at(i).getShareAction();if(null!=n){var r=n.getUploads();if(r==t.collection)for(var o=0;o<r.length;o++){if(r.at(o).id==t.id)return e;e+=1}else e+=r.length}}return null},isViewable:function(t){var e=this.getShareAction(t);if(null==e||0==e.isVisibleBy(this.options.user))return!1;var i=this.getUpload(t);return null==i.get("deleted")&&0==i.get("hidden")}}),le.models.ContentShareStream=le.models.UploadStream.extend({getUpload:function(t){return this.options.collection.at(t).getUpload()},isViewable:function(t){var e=this.options.collection.at(t);if(null!=e.get("withdrawn"))return!1;var i=e.getUpload();return null==i.get("deleted")&&0==i.get("hidden")},comparator:function(t,e){return t.getUpload().id==e.id?0:t.getUpload().id<e.id?-1:1}}),le.models.UploadCollectionPositionStream=le.models.UploadStream.extend({getUpload:function(t){return this.options.collection.at(t).getUpload()},isViewable:function(t){var e=this.options.collection.at(t);return!!e&&(null===e.get("withdrawn")&&null===e.getUpload().get("deleted"))},comparator:function(t,e){var i=this.options.collection.find((function(t){return t.getUpload().id===e.id}));return t.id===i.id?0:t.get("position")===i.get("position")?t.get("modified")===i.get("modified")?0:t.get("modified")<i.get("modified")?-1:1:t.get("position")===i.get("position")?0:t.get("position")<i.get("position")?-1:1}}),le.models.FavoriteStream=le.models.UploadStream.extend({isViewable:function(t){var e=this.options.collection.at(t);if(null!=e.get("withdrawn"))return!1;var i=e.getUpload();return null==i.get("deleted")&&0==i.get("hidden")},getUpload:function(t){return this.options.collection.at(t).getUpload()},comparator:function(t,e){return t.getUpload().id==e.id?0:t.getUpload().id<e.id?-1:1}}),le.models.HelperCard=l.Model.extend({}),le.models.HelperCards=l.Collection.extend({model:le.models.HelperCard}),le.views.HelperCardView=l.View.extend({className:"helper-card-view",initialize:function(t){this.options=t,this.$el.addClass(this.model.get("classes")),this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.row=n.div({class:"row"}).appendTo(this.cardWrapper),this.leftCol=n.div({class:"left-col"}).appendTo(this.row),this.rightCol=n.div({class:"right-col"}).appendTo(this.row),this.iconEl=n.span({class:"image"},n.img({src:this.model.get("icon")})).appendTo(this.leftCol),this.titleEl=n.div({class:"title"},this.model.get("title")).appendTo(this.rightCol),e(this.model.get("content")).addClass("content"),this.model.get("content").appendTo(this.rightCol),e(this.model.get("outLink")).addClass("out-link"),this.model.get("outLink").appendTo(this.rightCol);var i=this.model.get("outLink");analytics.trackLink(i,"Click Helper Card Link",{link:i.href,title:this.model.get("title"),clicked_from:this.model.get("page")})}}),le.views.NotableActionItemView=l.View.extend({className:"notable-action-item-view",initialize:function(t){if(!t.model)throw"Requires a NotableAction model option";if(!t.user)throw"NotableActionItemView requires a User user option";this.options=t,this.$el.addClass(t.model.get("type_name")+"-action"),this.shareActionItemView=null,this.senderShareActionItemView=null,this.favoriteActionItemView=null,this.uploadCommentActionItemView=null,this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.model.getShareAction()?this.model.getShareAction().getSender().id==t.user.id?(this.senderShareActionItemView=new le.views.SenderShareActionItemView({model:this.model.getShareAction(),user:t.user}),this.cardWrapper.appendChild(this.senderShareActionItemView.el)):(this.shareActionItemView=new le.views.ShareActionItemView({model:this.model.getShareAction(),user:t.user}),this.listenTo(this.shareActionItemView,Nt,function(t){this.model.trigger(Nt,t)}.bind(this)),this.cardWrapper.appendChild(this.shareActionItemView.el)):this.model.getFavorite()?(this.favoriteActionItemView=new le.views.FavoriteActionItemView({model:this.model.getFavorite(),user:t.user}),this.cardWrapper.appendChild(this.favoriteActionItemView.el)):this.model.getUploadComment()?(this.uploadCommentActionItemView=new le.views.UploadCommentActionItemView({model:this.model.getUploadComment(),user:t.user}),this.cardWrapper.appendChild(this.uploadCommentActionItemView.el)):this.model.getPublicShare()?(this.uploadPublicShareItemView=new le.views.PublicShareActionItemView({model:this.model.getPublicShare(),user:t.user}),this.cardWrapper.appendChild(this.uploadPublicShareItemView.el)):console.error("Not yet handling this type of NotableAction")}}),le.views.FavoriteActionItemView=l.View.extend({className:"favorite-action-item-view",initialize:function(t){if(!t.model)throw"Requires a Favorite model option";if(!t.user)throw"FavoriteActionItemView requires a User user option";this.options=t,this.topWrapper=n.div({class:"top-wrapper"}).appendTo(this.el),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:t.model.getUpload(),square:!0}),this.topWrapper.appendChild(this.uploadThumbnailView.el),this.recipientView=new ee.views.UserItemView({model:t.model.getRecipient(),showFullName:!0}),this.topWrapper.appendChild(this.recipientView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.topWrapper);var e=t.model.getRecipient().id==t.user.id?"You":t.model.getRecipient().get("display_name");this.displayName=n.h3({class:"display-name"},e).appendTo(this.infoWrapper),this.headlineEl=n.h3({class:"headline"},n.span({class:"icon icon-heart"}),"Liked").appendTo(this.infoWrapper),this.timestampEl=n.div({class:"metadata"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(this.infoWrapper)}}),le.views.UploadCommentActionItemView=l.View.extend({className:"upload-comment-action-item-view",initialize:function(t){if(!t.model)throw"Requires a UploadComment model option";if(!t.user)throw"UploadCommentActionItemView requires a User user option";this.options=t,this.topWrapper=n.div({class:"top-wrapper"}).appendTo(this.el),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:t.model.getUpload(),square:!0}),this.topWrapper.appendChild(this.uploadThumbnailView.el),this.commenterView=new ee.views.UserItemView({model:t.model.getCommenter()}),this.topWrapper.appendChild(this.commenterView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.topWrapper);var e=t.model.getCommenter().id==t.user.id?"You":t.model.getCommenter().get("display_name");this.displayName=n.h3({class:"display-name"},e).appendTo(this.infoWrapper),this.headlineEl=n.h3({class:"headline"},n.span({class:"icon icon-comment-full"}),"Commented").appendTo(this.infoWrapper),this.timestampEl=n.div({class:"metadata"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(this.infoWrapper),this.messageEl=n.div({class:"message"},'"'+t.model.get("message")+'"').appendTo(this.el)}}),le.views.PublicShareActionItemView=l.View.extend({className:"public-share-action-item-view",initialize:function(t){if(!t.model)throw"Requires an Upload model option";if(!t.user)throw"PublicShareActionItemView requires a User user option";this.options=t,this.topWrapper=n.div({class:"top-wrapper"}).appendTo(this.el),this.topWrapper.appendChild(n.h2("Welcome to Momento360")),this.topWrapper.appendChild(n.p({class:"welcome-description"},"Welcome to the fastest, easiest way to view, share, and work with 360-degree imagery. Momento360 works on any web browser, on any device.")),this.topWrapper.appendChild(n.p("Here's a 360 photo to get you started. Click the image to try it out, then go to My Media to upload your 360s.")),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:t.model}),this.topWrapper.appendChild(this.uploadThumbnailView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.topWrapper)}}),le.views.UploadThumbnailGrid=l.View.extend({className:"upload-thumbnail-grid",initialize:function(t){if(m.bindAll(this,"handleMaxCountClick","updateCount"),!t.collection)throw"Requires an Upload or UploadCollectionPosition collection option";if(!t.user)throw"Requires a user option";void 0===t.itemView&&(t.itemView=le.views.UploadThumbnailView),this.options=t,this.maxCount=void 0===this.options.maxCount?8:this.options.maxCount,this.maxCountEl=n.span(),this.maxCountThumbnailEl=n.div(n.div({class:"wrapper"},n.img({src:STATIC_FILE_TO_URL["front/images/tiny-equirectangular-placeholder.png"]}),this.maxCountEl)),e(this.maxCountThumbnailEl).on("click",this.handleMaxCountClick),this.uploadThumbnailsView=new _t({itemView:t.itemView,collection:t.collection,maxCount:this.maxCount,maxCountEl:this.maxCountThumbnailEl,filter:function(e){return e.isVisibleBy(t.user)},emptyEl:t.emptyEl}),this.updateCount(),this.uploadThumbnailsView.$el.addClass("upload-thumbnails-view"),this.el.appendChild(this.uploadThumbnailsView.el),this.listenTo(t.collection,"reset sync",this.updateCount)},updateCount:function(){for(var t=0;t<12;t++)this.uploadThumbnailsView.$el.removeClass("count-"+t);this.uploadThumbnailsView.$el.addClass("count-"+this.uploadThumbnailsView.itemCount()),e(this.maxCountEl).text("+"+(this.options.collection.getVisibleCount()-this.maxCount+1)),this.uploadThumbnailsView.toggleEmpty()},refilterItems:function(){this.uploadThumbnailsView.refilterItems()},handleMaxCountClick:function(t){t&&t.preventDefault();var e=this.uploadThumbnailsView.modelAt(this.maxCount-1);null!=e?e.trigger(jt,e):console.error("Error finding first model beyond the max count element",this.maxCount,this)}}),le.views.SenderShareActionItemView=l.View.extend({className:"sender-share-action-item-view",initialize:function(t){if(!t.model)throw"Requires a ShareAction model option";if(!t.user)throw"UploadCommentActionItemView requires a User user option";this.options=t,this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.el),this.headline=n.h3({class:"headline"},"Shared with").appendTo(this.infoWrapper),this.recipientsView=new _t({collection:t.model.getRecipients(),itemView:ee.views.UserItemView,itemOptions:{showTooltips:!0}}),this.recipientsView.$el.addClass("recipients"),this.infoWrapper.appendChild(this.recipientsView.el);var i=n.div({class:"metadata"}).appendTo(this.infoWrapper),r=this.model.getCounts();this.countsEl=n.span({class:"counts"},n.span({class:"counts-text"},X.views.mediaCountsString(r.photoCount,r.videoCount)),n.span({class:"counts-pipe"},"|")).appendTo(i),this.timestampEl=n.span({class:"timestamp"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(i),this.messageEl=n.div({class:"message"},'"'+t.model.get("message")+'"').appendTo(this.el),t.model.get("message")?this.$el.addClass("with-message"):e(this.messageEl).hide(),this.uploadThumbnailGrid=new le.views.UploadThumbnailGrid({user:t.user,collection:t.model.getUploads()}),this.el.appendChild(this.uploadThumbnailGrid.el)},remove:function(){l.View.prototype.remove.call(this),this.recipientsView.remove(),this.uploadThumbnailGrid.remove()}}),le.views.ShareActionItemView=l.View.extend({className:"share-action-item-view",initialize:function(t){if(!t.model)throw"Requires a ShareAction model option";if(!t.user)throw"UploadCommentActionItemView requires a User user option";if(this.options=t,this.isUploadCollectionShare=null!==t.model.getUploadCollection(),this.isFolderShare=null!==t.model.getFolders(),this.topWrapper=n.div({class:"top-wrapper"}).appendTo(this.el),this.isFolderShare){var i=t.model.getFolders();i.length>0&&(this.folderLogo=n.a({class:"folder-logo-wrapper",href:"#faf/".concat(i[0].uuid)},n.span({class:"icon fal fa-folder"})),this.topWrapper.appendChild(this.folderLogo))}this.senderView=new ee.views.UserItemView({model:t.model.getSender()}),this.topWrapper.appendChild(this.senderView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.topWrapper);var r=t.model.getSender().id==t.user.id?"You":t.model.getSender().get("display_name");if(this.displayName=n.h3({class:"display-name"},r).appendTo(this.infoWrapper),this.isUploadCollectionShare)var o=n.span("Shared a Collection: ",n.a({href:"#uc/"+this.model.getUploadCollection().get("uuid")},this.model.getUploadCollection().get("name")||"Unnamed Collection"));else if(this.isFolderShare)for(var a=t.model.getFolders(),s=a.length,l=(o=1==s?n.span("Shared a Folder: "):n.span("Shared the Folders: "),0);l<s;l++)l>0&&n.span(", ").appendTo(o),n.a({href:"#faf/"+a[l].uuid},a[l].name).appendTo(o);else o="Shared";this.headline=n.h3({class:"headline"},n.span({class:"icon icon-nodes"}),o).appendTo(this.infoWrapper);var c=n.div({class:"metadata"}).appendTo(this.infoWrapper);if(this.isFolderShare){var u=t.model.getFolders();this.countsEl=n.span({class:"counts"},n.span({class:"counts-text"},u.length>1?u.length+" Folders":"1 Folder"),n.span({class:"counts-pipe"},"|")).appendTo(c)}else{var h=this.model.getCounts();this.countsEl=n.span({class:"counts"},n.span({class:"counts-text"},X.views.mediaCountsString(h.photoCount,h.videoCount)),n.span({class:"counts-pipe"},"|")).appendTo(c)}this.timestampEl=n.span({class:"timestamp"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(c),this.messageEl=n.div({class:"message"},'"'+t.model.get("message")+'"').appendTo(this.el),t.model.get("message")?this.$el.addClass("with-message"):e(this.messageEl).hide(),this.isUploadCollectionShare?(this.uploadThumbnailGrid=new le.views.UploadThumbnailGrid({user:t.user,itemView:le.views.UploadCollectionPositionThumbnailView,collection:t.model.getUploadCollection().getPositions()}),this.uploadThumbnailGrid.$el.on("click",function(){this.trigger(Nt,this.model.getUploadCollection())}.bind(this))):this.uploadThumbnailGrid=new le.views.UploadThumbnailGrid({user:t.user,collection:t.model.getUploads()}),this.el.appendChild(this.uploadThumbnailGrid.el)}}),le.views.UploadCollectionItemView=l.View.extend({className:"upload-collection-item-view",initialize:function(t){if(!t.model)throw"Requires an UploadCollection model option";if(!t.user)throw"UploadCollectionItemView requires a User user option";if(void 0===t.linksAreHot&&(t.linksAreHot=!0),this.options=t,this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.topWrapper=n.div({class:"top-wrapper"}).appendTo(this.cardWrapper),this.senderView=new ee.views.UserItemView({model:t.model.getOwner()}),this.topWrapper.appendChild(this.senderView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.topWrapper),t.linksAreHot?this.displayNameEl=n.a({href:"#uc/"+t.model.get("uuid")},t.model.get("name")):this.displayNameEl=n.a(t.model.get("name")),X.views.bindText(t.model,"name",this.displayNameEl),this.displayName=n.h3({class:"display-name"},this.displayNameEl).appendTo(this.infoWrapper),this.messageEl=n.div({class:"message"},t.model.get("caption")).appendTo(this.infoWrapper),X.views.bindText(t.model,"caption",this.messageEl),t.model.get("caption")?this.$el.addClass("with-message"):e(this.messageEl).hide(),t.user.id===t.model.getOwner().id&&t.linksAreHot){var i=n.div(n.button({class:"btn thin-light-button empty-add-button"},"ADD 360s"));e(i).on("click",function(){this.options.model.trigger(J.SelectionModeRequested,this.options.model)}.bind(this))}else i=null;this.uploadThumbnailGrid=new le.views.UploadThumbnailGrid({user:t.user,itemView:le.views.UploadCollectionPositionThumbnailView,collection:t.model.getPositions(),emptyEl:i}),this.cardWrapper.appendChild(this.uploadThumbnailGrid.el);var r=n.div({class:"metadata"}).appendTo(this.cardWrapper);this.timestampEl=n.span({class:"timestamp"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(r),t.linksAreHot&&this.uploadThumbnailGrid.$el.on("click",function(){this.model.trigger(Nt,this.model)}.bind(this)),this.listenTo(t.model,J.UpdatedByEvent,function(){this.uploadThumbnailGrid.refilterItems()}.bind(this))}}),le.views.UploadCollectionPositionThumbnailView=l.View.extend({initialize:function(t){this.options=t,this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.options.model.getUpload()}),this.el.appendChild(this.uploadThumbnailView.el),this.el.addEventListener("click",function(){this.options.model.trigger(Ft,this.options.model)}.bind(this))}}),le.views.UploadCollectionPositionItemView=l.View.extend({className:"upload-collection-position-item-view",events:{"click .edit-trigger":"handleEditTrigger","click .caption":"handleEditTrigger","click .stop-edit-trigger":"handleStopEditTrigger","click .remove":"handleRemoveClick"},initialize:function(t){if(m.bindAll(this,"handleEditTrigger","handleStopEditTrigger","handleRemoveClick"),!t.model)throw"UploadCollectionPositionItemView requires an UploadCollectionPosition model option";if(!t.user)throw"UploadCollectionPositionItemView requires a user option";this.options=t,this.editing=!1,this.leftCol=n.div({class:"left-col"}).appendTo(this.el),this.rightCol=n.div({class:"right-col"}).appendTo(this.el),this.editTrigger=n.span({class:"edit-trigger icon icon-edit"}).appendTo(this.leftCol),this.timestampEl=n.span({class:"timestamp"},X.views.formatRestTimestamp(t.model.getUpload().get("created"),!1)).appendTo(this.leftCol),this.uploadFavoriteAndCommentCountsView=new le.views.UploadFavoriteAndCommentCountsView({model:t.model.getUpload(),user:t.user}),this.leftCol.appendChild(this.uploadFavoriteAndCommentCountsView.el),this.captionEl=n.div({class:"caption"}).appendTo(this.leftCol),X.views.bindText(this.model.getUpload(),"caption",this.captionEl,(function(t){return X.views.limitStringLength(t,120,!0)})),this.captionForm=n.form({class:"form"}).appendTo(this.leftCol);var i=n.div({class:"form-group"}).appendTo(this.captionForm);this.captionInputEl=n.textarea({class:"caption-input",type:"text"}).appendTo(i),e(this.captionInputEl).keydown(function(t){return 13===t.originalEvent.keyCode?(t.preventDefault(),this.handleStopEditTrigger(),!1):27!==t.originalEvent.keyCode||(e(this.captionInputEl).val(this.model.getUpload().get("caption")),this.handleStopEditTrigger(),!1)}.bind(this)),e(this.captionForm).hide(),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.model.getUpload(),square:!0}),this.rightCol.appendChild(this.uploadThumbnailView.el),this.uploadThumbnailView.el.addEventListener("click",function(){this.model.trigger(Rt,this.model)}.bind(this)),this.stopEditTrigger=n.span({class:"stop-edit-trigger icon icon-check-circle"}),e(this.stopEditTrigger).hide(),this.dragBars=n.span({class:"drag-icon icon icon-bars"}),this.menuTriggerEl=n.div({class:"menu-trigger"},this.stopEditTrigger,this.dragBars).appendTo(this.rightCol),t.model.getUpload().getOwner().id!==t.user.id&&e(this.menuTriggerEl).hide(),this.controlPanel=n.div({class:"control-panel"}).appendTo(this.el),e(this.controlPanel).hide(),this.removeEl=n.a({class:"remove"},n.span({class:"icon icon-trash"}),"REMOVE FROM COLLECTION").appendTo(this.controlPanel)},handleRemoveClick:function(){if(this.model.collection)(t=this.model.collection.count)>0&&(t-=1);else var t=0;this.model.destroy(),analytics.track("Remove Collection Item",{collection_size:t})},handleStopEditTrigger:function(){this.editing=!1;var t=e(this.captionInputEl).val()||"";t!==this.model.getUpload().get("caption")&&this.model.getUpload().save({caption:t},{patch:!0}),e(this.editTrigger).show(),e(this.stopEditTrigger).hide(),e(this.captionEl).show(),e(this.captionForm).hide(),e(this.controlPanel).hide(),e(this.dragBars).show()},handleEditTrigger:function(){this.model.getUpload().getOwner().id===this.options.user.id&&(this.editing=!0,e(this.editTrigger).hide(),e(this.stopEditTrigger).show(),e(this.captionEl).hide(),e(this.captionInputEl).val(this.model.getUpload().get("caption")),e(this.captionForm).show(),e(this.controlPanel).show(),e(this.captionInputEl).focus(),e(this.dragBars).hide())}}),le.views.RecipientUploadItemView=l.View.extend({className:"recipient-upload-item-view",initialize:function(t){if(m.bindAll(this,"setMessage"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"RecipientUploadItemView requires a user option";this.messageEl=null,this.cardWrapper=n.div({class:"card-wrapper "}).appendTo(this.el),this.senderView=new ee.views.UserItemView({model:t.model.getOwner(),showFullName:!0}),this.senderView.$el.hide(),this.cardWrapper.appendChild(this.senderView.el),this.metadataEl=n.div({class:"metadata"}).appendTo(this.cardWrapper),e(this.metadataEl).hide(),this.countsEl=n.span({class:"counts"},n.span({class:"counts-text"}),n.span({class:"counts-pipe"},"|")).appendTo(this.metadataEl),e(this.countsEl).hide(),this.timestampEl=n.span({class:"timestamp"},X.views.formatRestTimestamp(t.model.get("created"),!1)).appendTo(this.metadataEl),this.messageEl=n.div({class:"message"}).appendTo(this.cardWrapper),e(this.messageEl).hide(),this.thumbWrapper=n.div({class:"upload-thumbnail-wrapper"}).appendTo(this.cardWrapper),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.model}),this.thumbWrapper.appendChild(this.uploadThumbnailView.el),this.buttonWrapper=n.div({class:"button-wrapper row"}).appendTo(this.cardWrapper),this.favoriteIconView=new le.views.FavoriteIconView({user:t.user,model:this.model,screenName:"friends and family"}),this.buttonWrapper.appendChild(this.favoriteIconView.el),this.model.isNew()&&this.favoriteIconView.$el.hide(),this.commentIconView=new le.views.CommentIconView({model:this.model}),this.buttonWrapper.appendChild(this.commentIconView.el),this.model.isNew()&&this.commentIconView.$el.hide(),this.timeDisplay=n.div({class:"item-timestamp"},X.views.formatRestTimestamp(this.model.get("xmp_create_date"))).appendTo(this.cardWrapper),this.captionDisplay=n.div({class:"caption-display"},this.model.get("caption")).appendTo(this.cardWrapper),this.uploadCommentsTeaserView=new le.views.UploadCommentsTeaserView({model:this.model,user:t.user}),this.cardWrapper.appendChild(this.uploadCommentsTeaserView.el)},showTopMetadata:function(){this.$el.addClass("top-item"),this.senderView.$el.css("display",""),e(this.metadataEl).css("display","")},setMessage:function(t){e(this.messageEl).text('"'+t+'"').show()},setCounts:function(t,i){e(this.countsEl).find(".counts-text").text(X.views.mediaCountsString(t,i)),e(this.countsEl).css("display","")}}),le.views.RecipientShareActionItemView=l.View.extend({className:"recipient-share-action-item-view",initialize:function(t){if(m.bindAll(this,"updateMetadata"),!t.model)throw"Requires a ShareAction model option";if(!t.user)throw"RecipientShareActionItemView requires a user option";this.options=t,this.uploadsView=new _t({collection:t.model.getUploads(),itemView:le.views.RecipientUploadItemView,itemOptions:{user:t.user},filter:function(t){return null==t.get("deleted")&&!t.get("hidden")}}),this.listenTo(t.model,J.UpdatedByEvent,this.updateMetadata),this.updateMetadata(),this.el.appendChild(this.uploadsView.el)},updateMetadata:function(){if(this.model.getUploads().length>0){var t=this.uploadsView.viewAt(0);if(null==t)return;t.showTopMetadata(),this.model.get("message")&&t.setMessage(this.model.get("message"));var e=this.model.getCounts();e.photoCount+e.videoCount>1&&t.setCounts(e.photoCount,e.videoCount)}}}),le.views.UploadStreamView=l.View.extend({className:"content-stream-view",events:{"click .previous-button":"handlePreviousRequest","click .next-button":"handleNextRequest","click .close-button":"handleCloseRequest","click .full-screen-button":"handleFullScreenRequest","click .annotation-export-list-button":"handleAnnotationExportListRequest","click .indexview-popover-button":"handleIndexViewPopoverRequest"},initialize:function(t){if(m.bindAll(this,"handlePreviousRequest","handleNextRequest","handleCloseRequest","handleFullScreenRequest","logViewContent"),!t.user)throw"Requires a user option";if(!t.eventFeed)throw"Requires a base.models.EventFeed eventFeed option";if(!t.uploadStream)throw"Requires an AbstractUploadStream uploadStream option";if(!t.history)throw"Requires a history option";void 0===t.recentCollection&&(t.recentCollection=null),this.options=t,this.index=null,this.contentView=null,this.detailView=null,this.mode=null,this.savedMode=null,void 0===this.options.showWebGL&&(this.options.showWebGL=!0),this.contentViewWrapper=n.div({class:"content-view-wrapper"}).appendTo(this.el),this.detailViewWrapper=n.div({class:"detail-view-wrapper"}).appendTo(this.el),this.setMode(le.views.UploadStreamView.DetailMode)},setMode:function(t){if(this.mode!=t){switch(this.mode=t,this.mode){case le.views.UploadStreamView.DetailMode:e("#full-body-container").addClass("contained"),this.$el.removeClass("content-mode").addClass("detail-mode");break;case le.views.UploadStreamView.ContentMode:this.$el.addClass("content-mode").removeClass("detail-mode"),e("#full-body-container").removeClass("contained"),analytics.track("Enter Fullscreen Mode"),this.logViewContent();break;default:console.error("Unknown UploadStreamView mode",this.mode)}this.contentView&&"function"==typeof this.contentView.resizeCanvas&&this.contentView.resizeCanvas(),this.toggleMoveButtons()}},saveCurrentMode:function(){this.savedMode=this.mode==le.views.UploadStreamView.ContentMode?le.views.UploadStreamView.ContentMode:le.views.UploadStreamView.DetailMode},restoreSavedMode:function(){this.savedMode&&(this.setMode(this.savedMode),this.savedMode=null)},initializeRenderer:function(){var t=this.options.uploadStream.getUpload(this.options.startIndex||0);null!=t?this.showUpload(t):console.error("Error, no upload with which to initialize.")},remove:function(){l.View.prototype.remove.call(this),this.contentView&&this.contentView.remove(),this.detailView&&this.detailView.remove()},getViewParameters:function(){return this.contentView&&"function"==typeof this.contentView.getViewParameters?this.contentView.getViewParameters():{}},generateAndUploadThumbnail:function(t,e){return this.contentView&&"function"==typeof this.contentView.getViewParameters?this.contentView.generateAndUploadThumbnail(t,e):Promise.reject(new Error("missing content view"))},generateThumbnailAndBlob:function(t,e){return this.contentView&&"function"==typeof this.contentView.getViewParameters?this.contentView.generateThumbnailAndBlob(t,e):null},handleAnnotationExportListRequest:function(t){t&&t.preventDefault(),this.contentView&&"function"==typeof this.contentView.getViewParameters&&this.contentView.handleAnnotationExportListRequest()},handleIndexViewPopoverRequest:function(t){t&&t.preventDefault(),this.contentView&&"function"==typeof this.contentView.getViewParameters&&this.contentView.handleIndexViewPopoverRequest()},handleFullScreenRequest:function(t){t&&t.preventDefault(),X.views.hasReasonableWebGL()?(this.setMode(le.views.UploadStreamView.ContentMode),X.views.requestFullScreen()):(this.handleCloseRequest(),window.open("/upload/"+this.upload.get("uuid")))},handleCloseRequest:function(){switch(X.views.exitFullScreen(),this.mode){case le.views.UploadStreamView.DetailMode:this.trigger(Dt);break;case le.views.UploadStreamView.ContentMode:this.contentView&&this.contentView.showCardboardEffect&&this.contentView.handlePortraitBackButtonClick(),this.setMode(le.views.UploadStreamView.DetailMode),X.views.exitFullScreen(),analytics.track("Exit Fullscreen Mode");break;default:console.error("I don't know how to close from this mode",this.mode)}},handlePreviousRequest:function(){if(this.options.uploadStream.hasPrevious(this.index)){var t=this.options.uploadStream.previous(this.index);this.showUpload(t)}},handleNextRequest:function(){if(this.options.uploadStream.hasNext(this.index)){var t=this.options.uploadStream.next(this.index);this.showUpload(t)}},showUpload:function(t){if(null!=t){var e=this.options.uploadStream.indexOf(t);if(null!=e){this.index=e,this.upload=t;var i=!1;if(null!=this.contentView&&(i=!!this.contentView.showCardboardEffect,this.contentView.remove()),this.annotationTargetCollection=new B({uuid:this.upload.get("uuid")}),this.upload.isSpherical()?(this.contentView=new le.views.SphericalContentView({model:this.upload,user:this.options.user,showWebGL:this.options.showWebGL,uploadStream:this.options.uploadStream,parent:this,history:this.options.history,annotationTargetCollection:this.annotationTargetCollection}),this.contentViewWrapper.appendChild(this.contentView.el),this.contentView.initializeGL(),i&&this.contentView.showCardboard(),this.contentView.listenTo(this.contentView,Lt,function(){this.handleFullScreenRequest()}.bind(this))):(this.contentView=new le.views.FlatContentView({model:this.upload}),this.contentViewWrapper.appendChild(this.contentView.el)),this.toggleMoveButtons(),this.detailView&&this.detailView.remove(),this.detailView=new le.views.UploadDetailView({model:this.upload,user:this.options.user,eventFeed:this.options.eventFeed,recentCollection:this.options.recentCollection,screenName:this.options.uploadStream.options.name,parent:this,contentView:this.contentView,annotationTargetCollection:this.annotationTargetCollection}),this.detailViewWrapper.appendChild(this.detailView.el),this.detailView.listenTo(this.detailView,Ot,function(t){this.trigger(Ot,t,this.options.uploadStream)}.bind(this)),this.detailView.listenTo(this.detailView,J.AddToNewCollectionRequested,function(t){this.trigger(J.AddToNewCollectionRequested,[t])}.bind(this)),this.detailView.listenTo(this.detailView,Pt,function(t){this.trigger(Pt,t)}.bind(this)),this.detailView.listenTo(this.detailView,J.AddToExistingCollectionSelected,function(t){this.trigger(J.AddToExistingCollectionSelected,t)}.bind(this)),this.detailView.listenTo(this.detailView,J.AddToRecentCollectionSelected,function(t,e){this.trigger(J.AddToRecentCollectionSelected,t,e)}.bind(this)),this.detailView.listenTo(this.detailView,Nt,function(t){this.trigger(Nt,t)}.bind(this)),this.trigger(It,t,this.options.uploadStream),this.mode==le.views.UploadStreamView.ContentMode)this.logViewContent();else if(this.mode==le.views.UploadStreamView.DetailMode){view_mode="details_view",view_prop="detail_views",this.contentView.showCardboardEffect&&(view_mode="vr_view",view_prop="vr_views"),analytics.track("View Media",{screen_width:window.innerWidth,screen_height:window.innerHeight,resolution:window.innerWidth+"x"+window.innerHeight,media_type:this.upload.isPhoto()?"photo":"video",uuid:this.upload.get("uuid"),view_mode:view_mode,own_media:this.options.user.attributes.uuid===this.upload.owner.attributes.uuid});var n={media_views:1};n[view_prop]=1,this.upload.isPhoto()?n.photo_views=1:n.video_views=1,analytics.identify(n)}}else console.error("No such upload at index",e)}},logViewContent:function(){view_mode="fullscreen",view_prop="fullscreen_views",this.contentView.showCardboardEffect&&(view_mode="vr_view",view_prop="vr_views"),analytics.track("View Media",{screen_width:window.innerWidth,screen_height:window.innerHeight,resolution:window.innerWidth+"x"+window.innerHeight,media_type:this.upload.isPhoto()?"photo":"video",uuid:this.upload.get("uuid"),view_mode:view_mode,own_media:this.options.user.attributes.uuid===this.upload.owner.attributes.uuid});var t={media_views:1};t[view_prop]=1,this.upload.isPhoto()?t.photo_views=1:t.video_views=1,analytics.identify(t)},toggleMoveButtons:function(){this.$el.find(".previous-button").toggle(this.options.uploadStream.hasPrevious(this.index)),this.$el.find(".next-button").toggle(this.options.uploadStream.hasNext(this.index))}}),le.views.UploadStreamView.DetailMode="detail",le.views.UploadStreamView.ContentMode="content",le.views.UploadFavoriteAndCommentCountsView=l.View.extend({className:"upload-favorite-and-comment-counts-view",initialize:function(t){if(m.bindAll(this,"render"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"UploadFavoriteAndCommentCountsView requires a user option";this.options=t,this.heartIcon=n.span({class:"icon icon-heart"}).appendTo(this.el),this.favoriteCountEl=n.span({class:"favorite-count"}).appendTo(this.el),this.commentIcon=n.span({class:"icon icon-comment-full"}).appendTo(this.el),this.commentCountEl=n.span({class:"comment-count"}).appendTo(this.el),this.listenTo(this.options.model.getFavorites(),"update reset",this.render),this.listenTo(this.options.model,"change:comment_count",this.render),this.render()},render:function(){this.model.isNew()||(e(this.favoriteCountEl).text(this.options.model.getFavorites().filter((function(t){return null==t.get("withdrawn")})).length),e(this.commentCountEl).text(this.options.model.get("comment_count")),this.options.model.getFavorites().isFavoriteOf(this.options.user)?e(this.heartIcon).css("color","red"):e(this.heartIcon).css("color",""))}}),le.views.UploadFavoriteNamesView=l.View.extend({className:"upload-favorite-names-view",initialize:function(t){if(m.bindAll(this,"render"),!t.model)throw"Requires an Upload model options";if(!t.user)throw"UploadFavoriteNamesView requires a User user option";this.options=t,this.heartIcon=n.span({class:"icon icon-heart"}).appendTo(this.el),this.namesEl=n.span({class:"names"}).appendTo(this.el),this.listenTo(this.options.model.getFavorites(),"update change:withdrawn reset",this.render),this.render()},render:function(){var t=this.options.model.getFavorites().filter(function(t){return 0==t.isNew()&&null==t.get("withdrawn")}.bind(this)),i=m.map(t,function(t){return t.get("recipient").id==this.options.user.id?"You":t.get("recipient").display_name}.bind(this));i=m.sortBy(i,(function(t){return t}));var n=X.views.listify(i);return this.options.maxChactersCount&&n.length>this.options.maxChactersCount?e(this.namesEl).text(i.length):e(this.namesEl).text(n),e(this.el).toggle(this.options.model.getFavorites().some(function(t){return!t.isNew()&&null==t.get("withdrawn")&&t.getRecipient().id!=this.options.user.id}.bind(this))),this.el}}),le.views.UploadDetailView=l.View.extend({className:"share-upload-detail-view",events:{"click .outgo-button":"handleShareClick","click .embed-button-social":"handleEmbedClickSocial","click .embed-button-link":"handleEmbedClickLink","click .copy-button":"handleCopyClick","click .delete-button":"handleDeleteClick","click .outgo-toggle-button":"toggleOutgoBar","click .annotation-toggle-button":"toggleAnnotationBar","click .import-annotations-button":"handleImportAnnotationsClick","click .annotation-export-list-button":"handleExportAnnotationsClick","click .add-button":"handleAddClick","click .add-to-recent-collection-button":"handleAddToRecentCollectionClick","click .add-to-collection-button":"handleAddToCollectionClick","click .create-collection-button":"handleCreateCollectionClick","click .image-details-link":"handleImageDetailsLinkClick"},initialize:function(t){if(m.bindAll(this,"handleCommentFormSubmit","handleCommentError","handleCommentSuccess","handleShareClick","toggleOutgoBar","handleEmbedClickSocial","handleEmbedClickLink","handleEmbedOk","handleAddClick","handleAddToRecentCollectionClick","handleAddToCollectionClick","handleCopyClick","handleDeleteClick","handleDeleteModelAction","isOnlyPublicShare","toggleAnnotationBar","handleImportAnnotationsClick","handleExportAnnotationsClick"),!t.user)throw"Requires an User option";if(!t.model)throw"Requires an Upload model option";if(!t.eventFeed)throw"Requires a base.models.EventFeed eventFeed option";if(!t.screenName)throw"UploadDetailView requires a screenName option";if(!t.annotationTargetCollection)throw new Error("UploadDetailView requires option annotationTargetCollection");if(this.annotationTargetCollection=t.annotationTargetCollection,this.options=t,this.actionsEl=n.div({class:"actions-el row"}).appendTo(this.el),this.favoriteIconView=new le.views.FavoriteIconView({user:this.options.user,model:this.model,screenName:"details",useOutline:!0}),this.favoriteIconView.$el.addClass("action-button"),this.favoriteIconView.$el.prop("title","Add/Remove Favorite"),this.actionsEl.appendChild(this.favoriteIconView.el),this.addButton=n.div({class:"add-button action-button",title:"Add to Collection"},n.span({class:"icon icon-collection"})).appendTo(this.actionsEl),this.model.getOwner().id!==t.user.id&&e(this.addButton).hide(),this.outgoToggleButton=n.div({class:"outgo-toggle-button action-button",title:"Share 360"},n.span({class:"icon icon-nodes"})).appendTo(this.actionsEl),this.collectionBar=n.div({class:"collection-bar"}).appendTo(this.el),e(this.collectionBar).hide(),this.addToCollectionButton=n.div({class:"create-collection-button"},"ADD TO NEW COLLECTION").appendTo(this.collectionBar),this.options.recentCollection)var i=X.views.limitStringLength(this.options.recentCollection.get("name"),30,!0);else i="";if(this.addToRecentCollectionButton=n.div({class:"add-to-recent-collection-button"},"ADD TO: "+i),this.options.recentCollection){this.addToRecentCollectionButton.appendTo(this.collectionBar);var r="ADD TO OTHER COLLECTION"}else r="ADD TO EXISTING COLLECTION";this.addToCollectionButton=n.div({class:"add-to-collection-button"},r).appendTo(this.collectionBar),this.shareBar=n.div({class:"outgo-bar"}).appendTo(this.el),e(this.shareBar).hide(),this.shareButton=n.div({class:"outgo-button"},n.span({class:"icons"},n.span({class:"icon icon-momento360-logo"})),"SHARE ON MOMENTO360...").appendTo(this.shareBar),this.embedButtonSocial=n.div({class:"embed-button-social"},n.span({class:"icons"},n.span({class:"icon icon-facebook-square"}),n.span({class:"icon icon-twitter-square"})),"POST TO SOCIAL MEDIA...").appendTo(this.shareBar),this.embedButtonLink=n.div({class:"embed-button-link"},n.span({class:"icons"},n.span({class:"icon icon-link"}),n.span({class:"icon icon-envelope"}),n.span({class:"icon icon-medium"})),"SHARE OR EMBED A LINK...").appendTo(this.shareBar),this.annotationBar=n.div({class:"annotation-bar"}).appendTo(this.el),e(this.annotationBar).hide(),this.importAnnotationsButton=n.div({class:"import-annotations-button"},n.span({class:"icons"},n.span({class:"icon far fa-file-import"})),"MOVE/COPY ANNOTATIONS").appendTo(this.annotationBar),this.exportAnnotationsButton=n.div({class:"annotation-export-list-button"},n.span({class:"icons"},n.span({class:"icon far fa-file-export"})),"EXPORT ANNOTATIONS").appendTo(this.annotationBar),this.model.getOwner().id==t.user.id&&t.user.get("allow_embeds")?this.$el.addClass("allow-embeds"):this.$el.addClass("disallow-embeds");var o=this.options,a=o.model,s=o.user;mt({upload:a,user:s})||n.div({class:"copy-button action-button",title:"Copy to Account"},n.span({class:"icon fal fa-arrow-circle-down"})).appendTo(this.actionsEl),!0===window.M360FeatureFlags["annotation-creation"]&&(this.annotationToggleButton=n.div({class:"annotation-toggle-button action-button",title:"Import/Export Annotations"},n.span({class:"icon fal fa-map-marker-alt"})).appendTo(this.actionsEl)),this.deleteButton=n.div({class:"delete-button action-button",title:"Delete 360"},n.span({class:"icon icon-trash"})).appendTo(this.actionsEl);var l=n.div({class:"row"}).appendTo(this.el),c=n.div({class:"col-12"}).appendTo(l);this.contentSharesView=new _t({collection:this.model.getContentShares(),user:t.user,itemView:le.views.ContentShareRecipientView,itemOptions:{showTooltips:!0},filter:function(t){return null==t.get("withdrawn")},comparator:function(t,e){return t.getRecipient().get("display_name")==e.getRecipient().get("display_name")?0:t.getRecipient().get("display_name")<e.getRecipient().get("display_name")?-1:1}}),this.contentSharesView.$el.toggle(this.contentSharesView.itemCount()>0),this.contentSharesView.$el.addClass("content-shares-recipients-list"),c.appendChild(this.contentSharesView.el),this.listenTo(this.model,J.UpdatedByEvent,function(){this.contentSharesView.refilterItems(),this.contentSharesView.$el.toggle(this.contentSharesView.itemCount()>0)}.bind(this)),this.timeDisplay=n.span({class:"timestamp"}),this.timeDisplayDiv=n.div(this.timeDisplay,n.a({class:"timestamp image-details-link"},"View Image Details")).appendTo(c),this.timeCallback=X.views.bindText(this.model,"xmp_create_date",this.timeDisplay,X.views.formatRestTimestamp),this.uploadCaptionView=new le.views.UploadCaptionView({model:t.model,editable:t.model.getOwner().id==t.user.id}),c.appendChild(this.uploadCaptionView.el),this.uploadCollections=new le.models.UploadUploadCollections([],{uploadUUID:this.model.get("uuid")}),this.uploadCollectionsSection=n.div({class:"upload-collections-section"}).appendTo(c),e(this.uploadCollectionsSection).hide(),this.uploadCollectionsView=new _t({collection:this.uploadCollections,itemView:le.views.UploadCollectionNameItemView,click:function(t){this.trigger(Nt,t)}.bind(this)}),this.uploadCollectionsSection.appendChild(this.uploadCollectionsView.el),this.listenTo(this.uploadCollections,"add remove sync",function(){this.uploadCollections.length>0?e(this.uploadCollectionsSection).show():e(this.uploadCollectionsSection).hide()}.bind(this)),this.uploadCollections.fetch(),this.uploadFavoriteNamesView=new le.views.UploadFavoriteNamesView({model:this.options.model,user:this.options.user}),c.appendChild(this.uploadFavoriteNamesView.el),this.model.getComments(eventFeed,function(t){return t.upload==this.model.id}.bind(this)).fetch(),this.commentsView=new _t({collection:this.model.getComments(),itemView:le.views.UploadCommentItemView,itemOptions:{user:this.options.user,upload:this.model,showEditingActions:!0},filter:function(t){return null==t.get("deleted")},comparator:X.views.generateModelFieldComparator("created",!1)}),this.commentsView.$el.addClass("upload-comments"),c.appendChild(this.commentsView.el),this.commentForm=n.form({class:"form comment-form"}).appendTo(c),e(this.commentForm).submit(this.handleCommentFormSubmit);var u=n.div({class:"form-group"}).appendTo(this.commentForm);this.commentSubmitButton=n.button({type:"submit",class:"btn btn-primary"},"Send").appendTo(u);var h=n.div({class:"input-wrapper"}).appendTo(u);this.commentInput=n.input({class:"comment-input",placeholder:"Enter a comment"}).appendTo(h),this.isOnlyPublicShare()&&e(this.commentForm).hide()},handleAddClick:function(){e(this.shareBar).hide(),e(this.annotationBar).hide();var t=e(this.addButton).position().top+e(this.addButton).outerHeight()+1,i=e(this.addButton).position().left;e(this.collectionBar).css({top:t,left:i}),e(this.collectionBar).toggle()},handleCreateCollectionClick:function(){this.trigger(J.AddToNewCollectionRequested,this.model,this.model),this.hideBars()},normalizeLongitude:function(t){var e=t%360;return e<0&&(e+=360),e},handleImageDetailsLinkClick:function(){this.showImageDetailsView()},showAccessControlView:function(t){var i=t.folder,n=t.upload;this.accessControlViewModal&&e(this.accessControlViewModal).remove(),e("#access-control-modal").remove(),analytics.track("Open Access Control Panel",{account_tier:window.user.attributes.account_tier,launch_view:"details_page"});var r=new ie({folder:i,upload:n});this.accessControlViewModal=X.views.generateModal("ACCESS CONTROL",r.el,[],"access-control-modal"),this.listenTo(r,Et,this.showShareView),e("body").append(this.accessControlViewModal),e(this.accessControlViewModal).modal()},showShareView:function(t){var i=t.uploads;this.shareViewModal&&e(this.shareViewModal).remove(),e("#share-modal").remove();var n=new oe({uploads:i});this.shareViewModal=X.views.generateModal("SHARE WITH OTHERS",n.el,[],"share-modal"),this.listenTo(n,Ct,this.showAccessControlView),e("body").append(this.shareViewModal),analytics.track("Start Share",{type:"360",share_type:"v2",launch_view:"details_page",upload_count:1}),e(this.shareViewModal).modal()},showImageDetailsView:function(){var t=this.options.contentView,i=this.normalizeLongitude(t.lon),n=vt(i,2),r=vt(t.lat,2),o=vt(t.fov,2);e(".modal").remove();var a=new re({fov:o,heading:n,model:this.model,pitch:r,user:this.options.user});this.imageDetailsModal=X.views.generateModal("IMAGE DETAILS",a.el,[],"image-details-modal"),this.listenTo(a,Ct,this.showAccessControlView),e("body").append(this.imageDetailsModal),e(this.imageDetailsModal).modal(),analytics.track("Open Image Details Panel")},handleAddToRecentCollectionClick:function(){this.trigger(J.AddToRecentCollectionSelected,this.options.recentCollection,this.model),this.hideBars()},handleAddToCollectionClick:function(){this.trigger(J.AddToExistingCollectionSelected,this.model),this.hideBars()},hideBars:function(){e(this.collectionBar).hide(),e(this.shareBar).hide(),e(this.annotationBar).hide()},toggleOutgoBar:function(){if(this.model.getOwner().id!==this.options.user.id)return X.views.showMessageModal("No Permission","You can not share other people's 360s."),void analytics.track("Attempt Item Share");e(this.collectionBar).hide(),e(this.annotationBar).hide();var t=e(this.outgoToggleButton).position().top+e(this.outgoToggleButton).outerHeight()+1,i=e(this.outgoToggleButton).position().left;e(this.shareBar).css({top:t,left:i}),e(this.shareBar).toggle()},toggleAnnotationBar:function(){if(this.model.getOwner().id!==this.options.user.id)return X.views.showMessageModal("No Permission","You can't import or export annotations from other people's 360s."),void analytics.track("Attempt Annotation Import/Export");e(this.collectionBar).hide(),e(this.shareBar).hide();var t=e(this.annotationToggleButton).position().top+e(this.annotationToggleButton).outerHeight()+1,i=e(this.annotationToggleButton).position().left;e(this.annotationBar).css({top:t,left:i}),e(this.annotationBar).toggle()},handleImportAnnotationsClick:function(t){t.preventDefault(),e(this.annotationBar).hide(),new ae({user:this.options.user,model:this.model,disableFade:!0,annotationTargetCollection:this.annotationTargetCollection}).open()},handleExportAnnotationsClick:function(t){e(this.annotationBar).hide()},isOnlyPublicShare:function(){if(this.model.getOwner().id==this.options.user.id)return!1;var t=this.model.getContentShareForRecipient(this.options.user.id);return(null==t||null!=t.get("withdrawn"))&&!0===this.model.get("is_public")},handleShareClick:function(t){t&&t.preventDefault(),this.hideBars(),this.model.getOwner().id==this.options.user.id?this.showShareView({uploads:[this.model]}):this.isOnlyPublicShare()?X.views.showMessageModal("Sharing","When you upload your own 360 then this button will share it with other people."):(X.views.showMessageModal("No Permission","You can not share other people's 360s."),analytics.track("Attempt Item Share"))},handleEmbedClickLink:function(t){t&&t.preventDefault(),this.showEmbedModal(!1)},handleEmbedClickSocial:function(t){t&&t.preventDefault(),this.showEmbedModal(!0)},showEmbedModal:function(t){e(".modal").remove(),this.hideBars(),this.embedView=new le.views.EmbedView({upload:this.model,user:this.options.user,socialMediaFocus:t,parent:this}),this.embedModal=X.views.generateModal("",this.embedView.el,[]),e("body").append(this.embedModal),e(this.embedModal).modal()},handleEmbedOk:function(){e(this.embedModal).modal("hide"),this.embedModal=null,this.embedView.remove(),this.embedView=null},handleCopyClick:function(t){t&&t.preventDefault();var e=this.options,i=e.model,n=e.user;ft({permission:ot.COPY,upload:i,user:n})?this.showCopyUploadView():(analytics.track("Attempted Copy No Permission",{account_tier:n.attributes.account_tier,owner_account_tier:i.owner.attributes.account_tier,owner_email:i.owner.attributes.email,owner_uuid:i.owner.attributes.uuid}),this.showAlertView("You dont have permission to copy this 360. Contact the owner to change your access level."))},showAlertView:function(t){this.alertView&&e(this.alertView).remove();var i=new et({message:t});this.alertView=X.views.generateModal("PERMISSIONS",i.el,[],"alert-modal"),e("body").append(this.alertView),e(this.alertView).modal()},showCopyUploadView:function(){this.copyUploadView&&e(this.copyUploadView).remove();var t=this.options.model,i=new ne({upload:t});this.copyUploadView=X.views.generateModal("COPY TO YOUR ACCOUNT",i.el,[],"copy-upload-modal"),e("body").append(this.copyUploadView),e(this.copyUploadView).modal()},handleDeleteClick:function(t){t&&t.preventDefault(),this.model.getOwner().id==this.options.user.id?(this.deleteModal=X.views.generateConfirmationModal("Are you sure?",n.div("Are you certain that you want to permanently delete this 360?"),this.handleDeleteModelAction),e(document.body).append(this.deleteModal),e(this.deleteModal).modal()):this.isOnlyPublicShare()?X.views.showMessageModal("Deleting","When you upload your own 360 then this button will delete it."):X.views.showMessageModal("Delete","You can not delete other people's 360s.")},handleDeleteModelAction:function(t){e(this.deleteModal).modal("hide"),this.deleteModal=null,"Ok"==t&&(this.trigger(Pt,this.model),analytics.track("Delete Item",{media_type:this.model.isPhoto()?"photo":"video"}))},handleCommentFormSubmit:function(t){t&&t.preventDefault();var i=e(this.commentInput).val().trim();if(""!=i)return e(this.commentInput).val(""),this.model.getComments().create({message:i,upload:this.model.id},{wait:!0,error:this.handleCommentError,success:this.handleCommentSuccess}),!1},handleCommentError:function(t){console.error("Comment error",arguments),e(this.commentInput).val(t.get("message")),t.destroy()},handleCommentSuccess:function(){analytics.track("Add Comment",{account_tier:this.options.user.account_tier,owner_account_tier:this.options.model.getOwner.account_tier,own_media:this.options.model.getOwner().id==this.options.user.id})},remove:function(){l.View.prototype.remove.call(this),this.model.off(null,this.timeCallback,this),this.contentSharesView.remove(),this.uploadCaptionView.remove(),this.commentsView.remove(),this.uploadFavoriteNamesView.remove(),this.uploadCollectionsView.remove(),this.options=null}}),le.views.UploadCollectionNameItemView=l.View.extend({className:"upload-collection-name-item-view",initialize:function(t){this.options=t,this.icon=n.span({class:"icon icon-collection"}).appendTo(this.el),this.nameEl=n.span(this.options.model.get("name")).appendTo(this.el)}}),le.views.EmbedView=l.View.extend({className:"embed-dialog-view",events:{"click .enable-sharing-button":"handleEnableSharingButtonClick","click .disable-sharing-button":"handleDisableSharingButtonClick","click .protect-sharing-button":"handleProtectSharingButtonClick","click .clear-password-anchor":"handleClearPasswordClick","click .toggle-password-i":"handleTogglePasswordClick"},initialize:function(t){if(m.bindAll(this,"handleClearPasswordClick","handleDisableSharingButtonClick","handleEnableSharingButtonClick","handleFetchError","handleFetchSuccess","handlePasswordProtectedChangeRequest","handleProtectSharingButtonClick","handleQualityChange","handleTogglePasswordClick","remove","updateActive","updateEmbedURLs","updatePasswordUI","updateUpsellMessage"),void 0===t.upload&&void 0===t.uploadCollection)throw"EmbedView requires an upload or uploadCollection option";if(void 0===t.socialMediaFocus)throw"EmbedView requires socialMediaFocus options";if(void 0===t.user)throw"EmbedView requires user option";if(this.options=t,t.upload?this.model=new bt({upload:t.upload.get("uuid")}):this.model=new wt({collection:t.uploadCollection.get("uuid")}),this.inactiveSection=n.div({class:"inactive-section settings-section"}).appendTo(this.el),e(this.inactiveSection).hide(),this.options.socialMediaFocus){if(n.h3("Enable Posting to Social Media").appendTo(this.inactiveSection),this.logosEl=n.div({class:"logos"}).appendTo(this.inactiveSection),this.logosEl.appendChild(n.span({class:"icon icon-facebook-square"})),this.logosEl.appendChild(n.span({class:"icon icon-twitter-square"})),t.upload)var i="360";else i="collection";this.introMessage=n.p({class:"intro-message"},"Click the button below to create a version of your ",i," that can be shared on Facebook or Twitter.").appendTo(this.inactiveSection),this.enableSharingButton=n.button({class:"enable-sharing-button btn-primary thin-button"},"ENABLE POSTING").appendTo(this.inactiveSection)}else n.h3("Create a Share / Embed Link").appendTo(this.inactiveSection),this.logosEl=n.div({class:"logos"}).appendTo(this.inactiveSection),this.logosEl.appendChild(n.span({class:"icon icon-link"})),this.logosEl.appendChild(n.span({class:"icon icon-medium"})),this.logosEl.appendChild(n.span({class:"icon icon-envelope"})),this.introMessage=n.p({class:"intro-message"},"Click the button below to create a version of your 360 that can be shared or embedded as a link.").appendTo(this.inactiveSection),this.enableSharingButton=n.button({class:"enable-sharing-button btn-primary thin-button"},"CREATE LINK").appendTo(this.inactiveSection);if(this.activeSection=n.div({class:"active-section settings-section"}).appendTo(this.el),e(this.activeSection).hide(),this.options.socialMediaFocus)n.h3({class:"social-media-active-title"},"Post to Social Media").appendTo(this.activeSection),this.facebookButton=n.a({class:"bookbook-button btn btn-primary thin-button",target:"_blank"},"POST TO FACEBOOK",n.span({class:"icon icon-facebook-square"})),e(this.facebookButton).on("click",function(t){return t.preventDefault(),window.open(e(this.facebookButton).attr("data-href"),"_blank"),analytics.track("Share Embed",{share_type:"social media",platform:"facebook"}),analytics.identify({social_media_shares:1}),!1}.bind(this)),null!=window.FacebookAppID&&(this.activeSection.appendChild(this.facebookButton),this.activeSection.appendChild(n.p({class:"or-separator"},"or"))),e(this.twitterAnchor).hide(),this.twitterButton=n.a({class:"bird-button btn btn-primary thin-button",target:"_blank"},"POST TO TWITTER",n.span({class:"icon icon-twitter-square"})).appendTo(this.activeSection),e(this.twitterButton).on("click",function(t){return t.preventDefault(),window.open(e(this.twitterButton).attr("data-href"),"_blank"),analytics.track("Share Embed",{share_type:"social media",platform:"twitter"}),analytics.identify({social_media_shares:1}),!1}.bind(this)),this.disableMessage=n.p({class:"disable-message"},"Posting is enabled.",n.button({class:"disable-sharing-button btn btn-sm-round"},"DISABLE POSTING")).appendTo(this.activeSection);else{n.h3("Share / Embed Link").appendTo(this.activeSection),this.embedURLElLink=n.a({class:"embed-url",target:"_blank"},"this link"),this.activeSection.appendChild(n.p("Copy ",this.embedURLElLink," to send as text, as email, or to embed on your website.")),e("#embed-url-textarea").remove(),this.embedURLElTextarea=n.textarea({class:"embed-url",id:"embed-url-textarea"}),n.form({class:"form",id:"embed-url-form"},this.embedURLElTextarea).appendTo(this.activeSection),this.copyLinkButton=n.button({class:"copy-button btn thin-light-button","data-clipboard-target":"#embed-url-textarea"},"COPY").appendTo(this.activeSection),this.disableMessage=n.p({class:"disable-message"},"Status: Share link is enabled",n.button({class:"disable-sharing-button btn btn-sm-round"},"DISABLE LINK")).appendTo(this.activeSection),this.linkOptionsEl=n.div({class:"link-options"}).appendTo(this.activeSection),n.h2("Link options").appendTo(this.linkOptionsEl),!0!==window.M360FeatureFlags["password-protected-share-links"]&&e(this.linkOptionsEl).hide(),this.passwordProtectedInput=n.select(n.option({value:!1},"Anyone with the link"),n.option({value:!0},"Password protected")),this.passwordProtectedInput.addEventListener("change",this.handlePasswordProtectedChangeRequest),n.div({class:"dropdown-table"},n.div({class:"left-cell"},n.label("Visibility:")),n.div({class:"right-cell"},this.passwordProtectedInput)).appendTo(this.linkOptionsEl),this.passwordInput=n.input({id:"protect-password",type:"password",placeholder:"password"});var r=n.div({id:"protect-password-container"},this.passwordInput,n.i({class:"far fa-eye toggle-password-i",title:"Reveal Password"}));this.passwordForm=n.form({class:"embed-password-form"},r,n.button({class:"protect-sharing-button btn btn-sm-round"},"SAVE")).appendTo(this.linkOptionsEl),e(this.passwordForm).hide(),this.clearPasswordAnchor=n.a({class:"clear-password-anchor"},"Clear Password"),this.clearPasswordMessage=n.div({class:"password-reset"},"Password ******** ",this.clearPasswordAnchor).appendTo(this.linkOptionsEl),e(this.clearPasswordMessage).hide(),this.passwordUpgradeMessage=n.p({class:"upgrade-message"},"Enable password-protected links with a ",n.a({href:"/billing/upgrade/",target:"_blank"},"Paid Account"),". ",n.a({href:"/billing/upgrade/",target:"_blank"},"Learn more"),".").appendTo(this.linkOptionsEl),e(this.passwordUpgradeMessage).hide(),window.M360FeatureFlags&&!0===window.M360FeatureFlags["high-quality-images"]&&(this.qualitySelect=n.select({onChange:this.handleQualityChange}),n.div({class:"dropdown-table"},n.div({class:"left-cell"},n.label("Quality:")),n.div({class:"right-cell"},this.qualitySelect)).appendTo(this.linkOptionsEl),this.qualityUpgradeMessage=n.p({class:"upgrade-message"},"Enable higher quality links with a ",n.a({href:"/billing/upgrade/",target:"_blank"},"Paid Account"),". ",n.a({href:"/billing/upgrade/",target:"_blank"},"Learn more"),".").appendTo(this.linkOptionsEl),e(this.qualityUpgradeMessage).hide());var o=n.div({class:"embed-options-container"}).appendTo(this.activeSection),a=n.div({class:"embed-options-table"}).appendTo(o);this.options.uploadCollection&&(this.autoplayCollectionCheckbox=n.input({id:"autoplay-collection-checkbox",type:"checkbox"}),e(this.autoplayCollectionCheckbox).on("click",function(){this.updateEmbedURLs(),e(this.autoplayIntervalRow).toggle()}.bind(this)),n.div({class:"embed-options-row"},n.label({for:"autoplay-collection-checkbox"},"Autoplay (Slideshow mode):"),n.div({class:"container-cell"},this.autoplayCollectionCheckbox)).appendTo(a),this.autoplayCollectionIntervalInput=n.input({id:"autoplay-collection-interval",min:0,placeholder:Mt.toFixed(1),step:.5,type:"number",value:Mt.toFixed(1)}),e(this.autoplayCollectionIntervalInput).on("input",function(){this.updateEmbedURLs()}.bind(this)),this.autoplayIntervalRow=n.div({id:"autoplay-collection-interval-row",class:"embed-options-row"},n.label({for:"autoplay-collection-interval"},"Delay (seconds):"),n.div({class:"container-cell"},this.autoplayCollectionIntervalInput)).appendTo(a),e(this.autoplayIntervalRow).hide(),this.resetHeadingCheckbox=n.input({id:"reset-heading-checkbox",type:"checkbox"}),e(this.resetHeadingCheckbox).on("click",function(){this.updateEmbedURLs()}.bind(this)),n.div({class:"embed-options-row"},n.label({for:"reset-heading-checkbox"},"Reset Heading:"),n.div({class:"container-cell"},this.resetHeadingCheckbox)).appendTo(a)),this.autoplayAnnotationsCheckbox=n.input({id:"autoplay-annotations-checkbox",type:"checkbox"}),e(this.autoplayAnnotationsCheckbox).on("click",function(){this.updateEmbedURLs()}.bind(this)),n.div({class:"embed-options-row"},n.label({for:"autoplay-annotations-checkbox"},"Autoplay Annotations:"),n.div({class:"container-cell"},this.autoplayAnnotationsCheckbox)).appendTo(a),this.upsellMessage=n.p({class:"upsell-message"},n.a({class:"upsell-link out-link",target:"_blank",href:"/billing/upgrade/"},"Upgrade to a Pro Account")," to add your own logo. ",n.a({class:"upsell-link out-link",target:"_blank",href:"/billing/upgrade/"},"Learn more.")).appendTo(this.activeSection),e(this.upsellMessage).hide(),!1===this.options.user.has("account_tier")&&this.listenToOnce(this.options.user,"change:account_tier",this.handleFetchSuccess)}this.options.uploadCollection&&!1===this.options.uploadCollection.has("id")?this.options.uploadCollection.fetch({success:function(){this.model.fetch({success:this.handleFetchSuccess,error:this.handleFetchError})}.bind(this)}):this.model.fetch({success:this.handleFetchSuccess,error:this.handleFetchError}),this.listenTo(this.model,"sync",this.updateActive),analytics.track("Open Embed Dialog",this.getTrackValues())},getTrackValues:function(){var t={share_type:this.options.socialMediaFocus?"social media":"share link",category:"activation"};return this.options.uploadCollection?t.is_collection=!0:(t.is_collection=!1,t.media_type=this.options.upload.isVideo()?"video":"photo"),t},handleEnableSharingButtonClick:function(t){t&&t.preventDefault(),this.model.save({active:!0},{success:function(){if(analytics.track("Enable Embed",this.getTrackValues()),analytics.identify({embeds_enabled:1}),this.options.uploadCollection&&analytics.identify({collection_embeds_enabled:1}),window.M360FeatureFlags["shared-link-thumbnails"]&&this.options.parent&&this.options.parent.options.parent){var t=this.options.parent.options.parent,e=this;t.generateAndUploadThumbnail(800,600).then((function(t){e.model.save("embed_thumbnail_url",t.url)}),(function(t){console.error("error from filestack",t)}))}}.bind(this),error:function(t,i,n){409===i.status?(this.options.parent&&e(this.options.parent.embedModal).modal("hide"),new K({user:this.options.user}).open(),analytics.track("Show Link Limit Upsell",{account_tier:window.user.attributes.account_tier,upsell_point:this.options.uploadCollection?"Collection share":"360 share"}),analytics.track("Exceeded Embed Limit",{account_tier:window.user.attributes.account_tier}),analytics.identify({exceeded_link_limit:!0})):(console.error("Failed to mark the UploadEmbed as active."),console.log(i))}.bind(this)})},handleDisableSharingButtonClick:function(t){t&&t.preventDefault(),this.model.save({active:!1}),analytics.track("Disable Embed",this.getTrackValues())},handlePasswordProtectedChangeRequest:function(t){var i="true"===this.passwordProtectedInput.value;if(this.options.user.get("account_tier")<st.PLUS){if(!1===i)return;return this.passwordProtectedInput.value="false",this.updatePasswordUI(),e(this.passwordUpgradeMessage).show(),void analytics.track("Show Password Upsell")}this.model.get("password_protected")!==i&&(i?analytics.track("Set Embed Protection"):analytics.track("Clear Embed Protection"),this.model.save({password_protected:i},{success:this.updatePasswordUI,error:this.updatePasswordUI}))},handleClearPasswordClick:function(t){t&&t.preventDefault(),e(this.passwordForm).hide(),e(this.clearPasswordMessage).hide(),this.model.save({password:null},{success:function(){this.updatePasswordUI()}.bind(this)})},handleTogglePasswordClick:function(t){var i="password"===e(this.passwordInput).attr("type");e(this.passwordInput).attr("type",i?"text":"password"),e(".toggle-password-i").toggleClass(["fa-eye","fa-eye-slash"])},handleProtectSharingButtonClick:function(t){t&&t.preventDefault(),this.model.save({password:e(this.passwordInput).val()}),analytics.track("Update Embed Password"),this.updatePasswordUI()},handleQualityChange:function(){var t=this.options.user.get("account_tier"),i=t<st.PLUS,n=e(this.qualitySelect).val()===kt;analytics.track("Change Embed Quality",{account_tier:t,image_quality:n?"large":"medium"}),i&&n&&(e(this.qualityUpgradeMessage).show(),e(this.qualitySelect).val(St),analytics.track("Show Quality Upsell")),this.updateEmbedURLs()},updateQualityUI:function(){if(window.M360FeatureFlags&&!0===window.M360FeatureFlags["high-quality-images"]&&this.qualitySelect){if(!1===this.options.user.has("account_tier"))return e(this.qualitySelect).hide(),void e(this.qualityUpgradeMessage).hide();e(this.qualitySelect).empty(),e(this.qualitySelect).show();var t=this.options.user.get("account_tier")<st.PLUS;n.option({selected:t?"selected":null,value:St},"Good (4K)").appendTo(this.qualitySelect),n.option({selected:t?null:"selected",value:kt},"Excellent (8K)").appendTo(this.qualitySelect)}},updatePasswordUI:function(){if(!this.options.socialMediaFocus){if(!1===this.options.user.has("account_tier")||!1===this.model.has("password_protected"))return e(this.passwordProtectedInput).hide(),e(this.clearPasswordMessage).hide(),void e(this.passwordForm).hide();if(this.options.user.get("account_tier")<st.PLUS)return this.passwordProtectedInput.value="false",e(this.passwordProtectedInput).show(),e(this.clearPasswordMessage).hide(),void e(this.passwordForm).hide();var t=this.model.get("password_protected")||!1,i=this.model.has("password")||this.model.get("has_password")||!1;this.passwordProtectedInput.value=""+t,e(this.passwordProtectedInput).show(),t?(e(this.clearPasswordMessage).toggle(i),e(this.passwordForm).toggle(!1===i)):(e(this.clearPasswordMessage).hide(),e(this.passwordForm).hide())}},getEmbedUrl:function(t){var i=t.autoplayAnnotations,n=t.autoplayCollection,r=t.autoplayCollectionInterval,o=t.resetHeading,a=t.size,s=t.source,l=this.model.get("embed_url"),c="".concat(l,"?utm_campaign=embed&utm_source=").concat(s),u=e.param(this.options.parent?this.options.parent.options.parent.getViewParameters():"");return u&&(c+="&".concat(u)),o&&(c+="&reset-heading=true"),a&&(c+="&size=".concat(a)),i&&(c+="&autoplay-annotations=true"),n&&(c+="&autoplay-collection=true",m.isNumber(r)&&r!=Mt&&(c+="&ap-interval-coll=".concat(r))),c},updateEmbedURLs:function(){if(!1===this.model.has("embed_url"))return null;var t=e(this.resetHeadingCheckbox).is(":checked"),i=e(this.autoplayAnnotationsCheckbox).is(":checked"),n={autoplayAnnotations:i,autoplayCollection:e(this.autoplayCollectionCheckbox).is(":checked"),autoplayCollectionInterval:r,resetHeading:t,size:e(this.qualitySelect).val(),source:"other"},r=parseFloat(e(this.autoplayCollectionIntervalInput).val(),10);m.isNaN(r)||(n.autoplayCollectionInterval=r);var o=this.getEmbedUrl(n);e(this.embedURLElTextarea).text(o),e(this.embedURLElLink).attr("href",o);var a=this.options.upload?this.options.upload.get("caption"):this.options.uploadCollection.get("name"),s={text:a=a?"".concat(a," via @Momento360"):"My 360 via @Momento360",url:this.getEmbedUrl({autoplayAnnotations:i,resetHeading:t,source:"twitter"})},l=[];for(var c in s)l.push(c+"="+encodeURIComponent(s[c]));var u="https://twitter.com/intent/tweet?tw_p=tweetbutton&"+l.join("&");e(this.twitterButton).attr("data-href",u);var h=this.getEmbedUrl({autoplayAnnotations:i,resetHeading:t,source:"facebook"}),d="https://www.facebook.com/dialog/share?app_id="+window.FacebookAppID+"&display=popup&href="+encodeURIComponent(h);e(this.facebookButton).attr("data-href",d)},updateActive:function(){if(!1!==this.model.has("active")){var t=!0===this.model.get("active");e(this.activeSection).toggle(t),e(this.inactiveSection).toggle(0==t)}},updateUpsellMessage:function(){!1!==this.options.user.has("account_tier")&&e(this.upsellMessage).toggle(this.options.user.get("account_tier")<st.PRO)},handleFetchSuccess:function(){this.updateActive(),this.updatePasswordUI(),this.updateQualityUI(),this.updateUpsellMessage(),this.updateEmbedURLs()},handleFetchError:function(){console.error("Fetch error",arguments)},remove:function(){l.View.prototype.remove.call(this),this.options=null}}),le.views.FlatContentView=l.View.extend({className:"flat-content-view",initialize:function(t){if(!t.model)throw"Requires an Upload model option";this.options=t;var e=this.options.model.getContent();if(null!=e&&e.full_size_url){if(this.options.model.isPhoto())var i=e.full_size_url;else i=e.large_thumbnail_url;this.image=n.img({class:"flat-image",src:i}).appendTo(this.el),this.bottomButtonWrapper=n.div({class:"bottom-button-wrapper"}).appendTo(this.el),this.previousButton=n.div({class:"move-button previous-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-chevron-left-circle"})).appendTo(this.bottomButtonWrapper),this.nextButton=n.div({class:"move-button next-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-chevron-right-circle"})).appendTo(this.bottomButtonWrapper),this.rightButtonWrapper=n.div({class:"right-button-wrapper"}).appendTo(this.el),!0===window.M360FeatureFlags["annotation-creation"]&&(this.indexViewPopoverButton=n.div({class:"indexview-popover-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-vertical-ellipsis-circle"})).appendTo(this.el)),this.closeButton=n.div({class:"close-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-close-circle"})).appendTo(this.rightButtonWrapper),this.fullScreenButton=n.div({class:"full-screen-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-full-screen-circle"})).appendTo(this.rightButtonWrapper)}else this.el.appendChild(n.h3("Can not display this content"))}}),"function"!=typeof Number.isFinite&&(Number.isFinite=function(t){return"number"==typeof t&&(t==t&&t!==1/0&&t!==-1/0)}),function(){try{new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(t){window.ImageData=function(){var t,e=Array.prototype.slice.call(arguments);if(e.length<2)throw new TypeError("\n          Failed to construct 'ImageData': 2 arguments required, but only ".concat(e.length," present.\n        "));if(e.length>2){if(!de(t=e.shift(),Uint8ClampedArray))throw new TypeError("\n            Failed to construct 'ImageData': parameter 1 is not of type 'Uint8ClampedArray'\n          ");if(t.length!==4*e[0]*e[1])throw new Error("\n            Failed to construct 'ImageData': The input data byte length is not a multiple of (4 * width * height)\n          ")}var i=e[0],n=e[1],r=document.createElement("canvas"),o=r.getContext("2d"),a=o.createImageData(i,n);return t&&a.data.set(t),a}}}(),function(t){t.Spring=function(e){var i=arguments;"object"!=a(e)&&(e={initial:i.length&&"number"==typeof i[0]?i[0]:void 0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5}),e.exponential&&(this._exponential=!0,delete e.exponential),t.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:t.now()},this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(e){this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var e,i;this.current.time=t.now(),this._exponential?(e=this.start._logValue,i=this.target._logValue):(e=this.start.value,i=this.target.value);var n,r,o=this.current.time>=this.target.time?i:e+(i-e)*(n=this.springStiffness,r=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(n*-r))/(1-Math.exp(-n))),a=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,a!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(e),le.views.SphericalContentView=l.View.extend((o(r={className:"spherical-content-view",events:{"click .cardboard-toggle":"handleCardboardToggleClick","click .play-icon":"handlePlayIconClick","click .rotate-cancel-button":"handleRotateCancelRequest","click .save-image-button":"handleSaveImageClick"},_setIsAnnotateAllowed:function(){this.isAnnotateAllowed=ft({permission:ot.ANNOTATE,upload:this.model,user:this.user})},initialize:function(t){var i=this;if(m.bindAll(this,"initializeGL","handleCardboardToggleClick","handlePortraitBackButtonClick","onFirstDeviceOrientationChange","onDeviceOrientationChange","onWindowResize","onDblClick","onWheel","onTouchStart","onTouchMove","onTouchEnd","onDocumentMouseDown","onDocumentMouseMove","onDocumentMouseUp","animate","handlePlayIconClick","handleVideoAbort","handleVideoError","handleVideoPlaying","handleVideoWaiting","handleVideoTimeUpdate","handleVideoPlay","handleVideoPause","handleVideoLoadStart","handleVideoLoadedMetadata","handleVideoStalled","handleVideoLoadedData","handleVideoCanPlay","handleVideoCanPlayThrough","handleVideoEnded","handleStillTextureLoaded","handleStillTextureError","resizeCanvas","remove","onDocumentDragOver","logDragStarted","logDragMove","showCardboard","handleSaveImageClick","onContextMenu","onClick"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"SphericalContentView requires a User user option";if(!t.history)throw"Requires history option";if(!t.annotationTargetCollection)throw new Error("SphericalContentView requires option annotationTargetCollection");this.annotationTargetCollection=t.annotationTargetCollection,this.options=t,this.user=t.user,void 0===this.options.showWebGL&&(this.options.showWebGL=!0),this._setIsAnnotateAllowed(),this.user.on("sync",this._setIsAnnotateAllowed.bind(this)),this.model.on("sync",this._setIsAnnotateAllowed.bind(this)),this.cleanedUp=!1,this.camera=null,this.scene=null,this.renderer=null,this.raycaster=null,this.currentTargetAnnotationIdx=-1,this.playSlideshow=!1,this.effect=null,this.orientationControls=null,this.mesh=null,this.sphereGeometry=null,this.showCardboardEffect=!1,this.isUserInteracting=!1,this.annotations=[],this.annotationMarkerCollection=new H(null,{context:{uploadUuid:this.model.get("uuid")}}),this.annotationMarkerData={},this.loadAnnotationMarkerData(function(){this.loadData(),this.deselectAllAnnotationsForSidebar(!0)}.bind(this)),this.onMouseDownMouseX=0,this.onMouseDownMouseY=0;var r=this.options.model.get("photo_sphere")||this.options.model.get("video_sphere"),o=gt(r)||gt(r.heading)?0:r.heading,a=gt(r)||gt(r.pitch)?0:r.pitch,s=gt(r)||gt(r.display_fov)?75:r.display_fov;if(this.lon=o,this.lonSpring=new e.Spring({initial:this.lon,springStiffness:5.5,animationTime:.7,exponential:!1}),this.lat=a,this.latSpring=new e.Spring({initial:this.lat,springStiffness:5.5,animationTime:.7,exponential:!1}),this.defaultFov=s,this.minFov=20,this.maxFov=100,this.fov=s,this.fovSpring=new e.Spring({initial:this.fov,springStiffness:5.5,animationTime:.7,exponential:!1}),this.onMouseDownLon=0,this.onMouseDownLat=0,this.phi=0,this.theta=0,this.isInPortraitOrientation=X.views.isInPortraitOrientation(),this.setOrientationClasses(),this.previewEl=n.div({class:"preview"}).appendTo(this.el),this.previewEl.appendChild(n.img({src:this.options.model.getContent().large_thumbnail_url})),this.glContainer=n.div({class:"gl-container"}).appendTo(this.el),e(this.glContainer).hide(),this.stillSpinnerIcon=n.div({class:"still-spinner-icon"},n.span({class:"icon icon-spinner icon-spin"})).appendTo(this.el),e(this.stillSpinnerIcon).hide(),this.stillErrorIcon=n.div({class:"still-spinner-icon"},n.span({class:"icon icon-exclamation-circle"})).appendTo(this.el),e(this.stillErrorIcon).hide(),this.videoControls=n.div({class:"video-controls"}).appendTo(this.el),this.$videoControls=e(this.videoControls),this.$videoControls.hide(),this.playIcon=n.div({class:"play-icon "},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-play-circle"})).appendTo(this.videoControls),this.spinnerIcon=n.div({class:"spinner-icon"},n.span({class:"icon icon-spinner icon-spin"})).appendTo(this.videoControls),e(this.spinnerIcon).hide(),this.errorIcon=n.div({class:"error-icon icon icon-exclamation-circle"}).appendTo(this.videoControls),e(this.errorIcon).hide(),this.bottomButtonWrapper=n.div({class:"bottom-button-wrapper"}).appendTo(this.el),this.previousButton=n.div({class:"move-button previous-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-chevron-left-circle"})).appendTo(this.bottomButtonWrapper),window.M360FeatureFlags["create-flat-photo"]&&(this.saveImageButton=n.div({class:"move-button save-image-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-file-image-circle"})).appendTo(this.bottomButtonWrapper)),this.nextButton=n.div({class:"move-button next-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-chevron-right-circle"})).appendTo(this.bottomButtonWrapper),this.rightButtonWrapper=n.div({class:"right-button-wrapper"}).appendTo(this.el),!0===window.M360FeatureFlags["annotation-creation"]&&(this.indexViewPopoverButton=n.div({class:"indexview-popover-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-vertical-ellipsis-circle"})).appendTo(this.el)),this.closeButton=n.div({class:"close-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-close-circle"})).appendTo(this.rightButtonWrapper),this.fullScreenButton=n.div({class:"full-screen-button"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-full-screen-circle"})).appendTo(this.rightButtonWrapper),this.cardboardToggle=n.div({class:"cardboard-toggle"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-cardboard-circle"})).appendTo(this.rightButtonWrapper),e(this.cardboardToggle).hide(),this.options.uploadStream)var l=this.options.uploadStream.getSpacePath()+"/"+this.model.get("uuid");else l="/s/#u/"+this.model.get("uuid");this.vrButton=n.a({target:"_blank",class:"vr-button",href:l},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-vr"})).appendTo(this.rightButtonWrapper),e(this.vrButton).hide(),this.vrButton.addEventListener("click",(function(t){navigator.getVRDisplays().then((function(t){for(var e=0;e<t.length;e++)if(t[e].capabilities.canPresent){analytics.track("webvr dialog triggered",{isEmbed:!1,"vr device":t[e].displayName||""}),analytics.identify({"has webvr":!0,"vr device":[t[e].displayName||" "]});break}}))})),this.rotateScreenIcon=n.div({class:"rotate-screen-icon"},n.div({class:"icons"},n.span({class:"icon icon-rotate-new"}),n.span({class:"icon icon-arrow-right"}),n.span({class:"icon icon-cardboard-device"})),n.br(),n.span("ROTATE AND INSERT INTO CARDBOARD"),n.br(),n.br(),n.a({class:"rotate-cancel-button",href:"#"},"Click here to cancel")).appendTo(this.el),this.glContainer.addEventListener("mousedown",this.onDocumentMouseDown,!1),this.glContainer.addEventListener("mousemove",this.onDocumentMouseMove,!1),this.glContainer.addEventListener("mouseup",this.onDocumentMouseUp,!1),this.glContainer.addEventListener("dragover",this.onDocumentDragOver,!1),this.glContainer.addEventListener("touchend",this.onTouchEnd,!1),this.glContainer.addEventListener("touchmove",this.onTouchMove,!1),this.glContainer.addEventListener("touchstart",this.onTouchStart,!1),this.glContainer.addEventListener("wheel",this.onWheel,!1),this.glContainer.addEventListener("dblclick",this.onDblClick,!1),this.glContainer.addEventListener("contextmenu",this.onContextMenu,!1),this.glContainer.addEventListener("click",this.onClick,!1),"undefined"!=typeof DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){"granted"==t&&window.addEventListener("deviceorientation",i.onFirstDeviceOrientationChange,!1)})):window.addEventListener("deviceorientation",this.onFirstDeviceOrientationChange,!1),window.addEventListener("resize",this.onWindowResize,!1),"function"==typeof navigator.getVRDisplays&&navigator.getVRDisplays().then(function(t){for(var i=0;i<t.length;i++)if(t[i].capabilities.canPresent){e(this.vrButton).css("display","");break}}.bind(this))},loadData:function(){var t=function(t){var e=t.get("annotation");return{heading:t.get("heading"),pitch:t.get("pitch"),text:e.get("title"),model:e,key:e.cid,state:_.NORMAL}}.bind(this);!0===window.M360FeatureFlags["annotation-creation"]&&this.annotationTargetCollection.fetch({error:function(t,e,i){console.error("Error")}.bind(this),success:function(t,e,i){}.bind(this)}),this.annotationTargetCollection.on("add",function(e){var i=m.filter(this.annotations,(function(t){return null==t.key})),n=t(e);i.length>0&&(n.state=_.SELECTED),this.updateAnnotationsInScene([n]),this.findAnnotationInScene(n.key)||this.annotations.push(n)}.bind(this)),this.annotationTargetCollection.on("remove",function(e){if(m.isObject(e.get("annotation"))){var i=t(e),n=this.findAnnotationInScene(i.key);n&&this.removeDeletedAnnotationsFromScene([n])}}.bind(this)),this.annotationTargetCollection.on("change:annotation_marker",function(t){var e=t.get("annotation").cid,i=this.findAnnotationInScene(e);i&&(i.mesh&&(this.scene.remove(i.mesh),i.mesh=null),this.createMeshForAnnotation(i))}.bind(this)),this.annotationPanel=new q({annotationsDate:!0,annotationsPanelControls:!0,annotationTargetCollection:this.annotationTargetCollection,history:this.options.history,readOnly:!this.isAnnotateAllowed,standAlonePlayer:!1,user:this.user,upload:this.options.model}),this.annotationPanel.on(S,function(t){if(t.attributes.targets)t.attributes.targets[0].attributes?(markerModel=t.attributes.targets[0].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id):(markerModel=t.attributes.targets[0].annotation_marker,markerName=markerModel.name,markerId=markerModel.uuid,markerOwnerID=markerModel.owner_id);else for(var e=0;e<this.annotationTargetCollection.models.length;e++)if(this.annotationTargetCollection.models[e].attributes.annotation.id==t.id){markerModel=this.annotationTargetCollection.models[e].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id;break}analytics.track("Select Annotation",{selection_method:"panel_button",target_uuid:this.model.attributes.uuid,annotation_type:t.attributes.annotation_type,render_mode:t.attributes.render_mode,marker_type:markerOwnerID?"Custom Marker":"System Marker",marker_name:markerName,marker_uuid:markerId}),this.jumpToAnnotationByKey(t.cid)}.bind(this)),this.annotationPanel.on(A,function(t){this.showAnnotationShareOverlay(t)}.bind(this)),this.annotationPanel.on(x,function(){for(var t=[],e=0;e<this.annotations.length;++e)null===this.annotations[e].model&&t.push(this.annotations[e]);this.removeDeletedAnnotationsFromScene(t)}.bind(this)),this.annotationPanel.on(M,function(){var t=function(t){t.mesh&&(this.scene.remove(t.mesh),t.mesh=null),this.createMeshForAnnotation(t)}.bind(this);m.each(this.annotations,t)}.bind(this)),this.annotationPanel.on(E,function(t){var e=m.filter(this.annotations,(function(t){return null==t.key})),i=function(e){e.mesh&&(this.scene.remove(e.mesh),e.mesh=null),this.createMeshForAnnotation(e,this.annotationMarkerData[t].selected),e.state=_.SELECTED}.bind(this);if(1===e.length)m.each(e,i);else{var n=m.filter(this.annotations,function(t){return t.state===_.SELECTED}.bind(this));m.each(n,i)}}.bind(this)),this.annotationPanel.on(k,function(t){this.loadAnnotationMarkerData(function(){this.annotationPanel.trigger(E,t.get("uuid"))}.bind(this))}.bind(this)),this.annotationPanel.on(T,function(t){this.loadAnnotationMarkerData()}.bind(this)),this.annotationPanel.on(C,function(t){this.annotationTargetCollection.fetch({success:function(t){this.loadAnnotationMarkerData()}.bind(this),error:function(){console.error("Error while fetching annotation target collection")}.bind(this)})}.bind(this)),this.$el.append(this.annotationPanel.el),this.hotspotPanel=new se({annotationsDate:!0,annotationsPanelControls:!0,annotationTargetCollection:this.annotationTargetCollection,mainAnnotationPanel:this.annotationPanel,readOnly:!1,history:this.options.history}),this.$el.append(this.hotspotPanel.el),this.on(D,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.annotationPanel.checkTypeAndSetVisibility(t)?(this.hotspotPanel.trigger(N),this.annotationPanel.trigger(L,t)):this.hotspotPanel.trigger(L,t,e)}.bind(this)),this.on(w,function(t){this.annotationPanel.openCreate(t)}.bind(this)),this.annotationPanel.on(I,function(t){this.annotationPanel.checkTypeAndSetVisibility(t)?this.annotationPanel.trigger(L,t):this.hotspotPanel.trigger(L,t)}.bind(this)),this.annotationPanel.on(M,function(t){this.annotationPanel.checkTypeAndSetVisibility(t)?this.annotationPanel.trigger(L,t):this.hotspotPanel.trigger(L,t)}.bind(this)),this.annotationDisplayMode=y.MARKER_AND_UI},loadAnnotationMarkerData:function(t){V(this.annotationMarkerCollection,Ht()).then(function(e){this.annotationMarkerData=e,"function"==typeof t&&t.call(this)}.bind(this)).catch(function(t){console.error(t)}.bind(this))},initializeGL:function(){if(!this.cleanedUp&&this.options.showWebGL){var t=this.model.getContent();if(null!=t){this.camera=new d.PerspectiveCamera(this.fov,this.$el.width()/this.$el.height(),1,1100),this.camera.target=new d.Vector3(0,0,0),this.orientationControls=new f(this.camera,!0),this.orientationControls.disconnect(),this.scene=new d.Scene;var e=new d.AmbientLight(16777215,1);if(this.scene.add(e),this.raycaster=new d.Raycaster,this.renderer=new d.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$el.width(),this.$el.height()),this.glContainer.appendChild(this.renderer.domElement),this.effect=new p(this.renderer),this.effect.setSize(this.$el.width(),this.$el.height()),this.model.isVideo()&&!X.isMobile.iOS())this.video=document.createElement("video"),this.video.src=t.full_size_url,this.video.addEventListener("loadstart",this.handleVideoLoadStart,!1),this.video.addEventListener("abort",this.handleVideoAbort,!1),this.video.addEventListener("error",this.handleVideoError,!1),this.video.addEventListener("stalled",this.handleVideoStalled,!1),this.video.addEventListener("loadedmetadata",this.handleVideoLoadedMetadata,!1),this.video.addEventListener("loadeddata",this.handleVideoLoadedData,!1),this.video.addEventListener("canplay",this.handleVideoCanPlay,!1),this.video.addEventListener("canplaythrough",this.handleVideoCanPlayThrough,!1),this.video.addEventListener("playing",this.handleVideoPlaying,!1),this.video.addEventListener("waiting",this.handleVideoWaiting,!1),this.video.addEventListener("play",this.handleVideoPlay,!1),this.video.addEventListener("timeupdate",this.handleVideoTimeUpdate,!1),this.video.addEventListener("pause",this.handleVideoPause,!1),this.video.addEventListener("ended",this.handleVideoEnded,!1),this.video.load();else{this.showStillSpinner();var i=window.M360FeatureFlags&&!0===window.M360FeatureFlags["high-quality-images"]?t.detect_scaled_image_url:t.medium_scaled_image_url;Ht().load(i,this.handleStillTextureLoaded,null,this.handleStillTextureError)}}else console.error("Error, no content",this.model)}},remove:function(){if(l.View.prototype.remove.call(this),this.cleanedUp=!0,this.removeAllAnnotations(),this.stopSlideshow(),this.glContainer.removeEventListener("mousedown",this.onDocumentMouseDown,!1),this.glContainer.removeEventListener("mousemove",this.onDocumentMouseMove,!1),this.glContainer.removeEventListener("mouseup",this.onDocumentMouseUp,!1),this.glContainer.removeEventListener("dragover",this.onDocumentDragOver,!1),this.glContainer.removeEventListener("touchend",this.onTouchEnd,!1),this.glContainer.removeEventListener("touchmove",this.onTouchMove,!1),this.glContainer.removeEventListener("touchstart",this.onTouchStart,!1),this.glContainer.removeEventListener("wheel",this.onWheel,!1),this.glContainer.removeEventListener("dblclick",this.onDblClick,!1),this.glContainer.removeEventListener("contextmenu",this.onContextMenu,!1),this.glContainer.removeEventListener("click",this.onClick,!1),window.removeEventListener("deviceorientation",this.onFirstDeviceOrientationChange,!1),window.removeEventListener("resize",this.onWindowResize,!1),this.video&&(this.video.paused||(analytics.track("video watched",{"video length":this.video.duration,"watched duration":this.video.currentTime,"own media":this.model.getOwner().id==this.options.user.id}),this.video.pause()),this.video.removeEventListener("loadstart",this.handleVideoLoadStart,!1),this.video.removeEventListener("abort",this.handleVideoAbort,!1),this.video.removeEventListener("error",this.handleVideoError,!1),this.video.removeEventListener("stalled",this.handleVideoStalled,!1),this.video.removeEventListener("loadedmetadata",this.handleVideoLoadedMetadata,!1),this.video.removeEventListener("loadeddata",this.handleVideoLoadedData,!1),this.video.removeEventListener("canplay",this.handleVideoCanPlay,!1),this.video.removeEventListener("canplaythrough",this.handleVideoCanPlayThrough,!1),this.video.removeEventListener("playing",this.handleVideoPlaying,!1),this.video.removeEventListener("waiting",this.handleVideoWaiting,!1),this.video.removeEventListener("play",this.handleVideoPlay,!1),this.video.removeEventListener("timeupdate",this.handleVideoTimeUpdate,!1),this.video.removeEventListener("pause",this.handleVideoPause,!1),this.video.removeEventListener("ended",this.handleVideoEnded,!1)),this.mesh&&this.scene&&this.scene.remove(this.mesh),this.mesh&&(this.disposeThreeObject(this.mesh),this.mesh=null),this.sphereGeometry&&(this.sphereGeometry.dispose(),this.sphereGeometry=null),this.videoMaterial&&(this.videoMaterial.dispose(),this.videoMaterial=null),this.stillMaterial&&(this.stillMaterial.dispose(),this.stillMaterial=null),this.stillTexture&&(this.stillTexture.dispose(),this.stillTexture=null),this.scene&&(this.disposeThreeObject(this.scene),this.scene=null),this.renderer){var t=this.renderer.extensions.get("WEBGL_lose_context");t&&"function"==typeof t.loseContext?this.renderer.forceContextLoss():console.error("WEBGL_lose_context is not supported, so this texture will leak."),this.renderer.context=null,this.renderer.domElement=null,this.renderer=null}},disposeThreeObject:function(t){if(null!==t){for(var e=0;e<t.children.length;e++)this.disposeThreeObject(t.children[e]);if(t.geometry&&(t.geometry.dispose(),t.geometry=void 0),t.material){if(t.material.materials)for(e=0;e<t.material.materials.length;e++)t.material.materials[e].dispose();t.material.dispose(),t.material=void 0}t.texture&&(t.texture.dispose(),t.texture=void 0)}t=void 0},handleStillTextureLoaded:function(t){this.cleanedUp||(e(this.previewEl).hide(),e(this.glContainer).show(),this.hideStillSpinner(),t.generateMipmaps=!1,t.minFilter=d.LinearFilter,t.magFilter=d.LinearFilter,this.stillMaterial&&(this.stillMaterial.dispose(),this.stillMaterial=null),this.stillMaterial=new d.MeshBasicMaterial({map:t}),this.stillTexture&&(this.stillTexture.dispose(),this.stillTexture=null),this.stillTexture=t,this.initializeWithMaterial(this.stillMaterial))},handleStillTextureError:function(){console.error("Error loading still texture",arguments),this.showStillError()},initializeWithMaterial:function(t){this.cleanedUp||(window.M360FeatureFlags&&window.M360FeatureFlags["high-poly-sphere"]?this.sphereGeometry=new d.SphereGeometry(500,100,80):this.sphereGeometry=new d.SphereGeometry(500,60,40),this.sphereGeometry.scale(-1,1,1),this.mesh=new d.Mesh(this.sphereGeometry,t),this.scene.add(this.mesh),this.mesh.rotateOnAxis(new d.Vector3(0,1,0),Math.PI),this.materialInitialized=!0,this.animate())},showCardboard:function(){e(this.cardboardToggle).hide(),this.showCardboardEffect=!0,this.$el.addClass("showing-cardboard"),this.orientationControls.connect(),this.resizeCanvas(),this.trigger(Lt)},showStillSpinner:function(){e(this.stillErrorIcon).hide(),e(this.stillSpinnerIcon).show()},hideStillSpinner:function(){e(this.stillErrorIcon).hide(),e(this.stillSpinnerIcon).hide()},showStillError:function(){e(this.stillErrorIcon).show(),e(this.stillSpinnerIcon).hide()},hideStillError:function(){e(this.stillErrorIcon).hide(),e(this.stillSpinnerIcon).hide()},showVideoSpinner:function(){e(this.playIcon).hide(),e(this.spinnerIcon).show(),e(this.errorIcon).hide()},showVideoPlay:function(){e(this.playIcon).show(),e(this.spinnerIcon).hide(),e(this.errorIcon).hide()},showVideoError:function(){e(this.playIcon).hide(),e(this.spinnerIcon).hide(),e(this.errorIcon).show()},handleVideoLoadStart:function(t){this.showVideoSpinner(),this.$videoControls.show()},handleVideoAbort:function(t){this.showVideoError(),this.$videoControls.show()},handleVideoError:function(t){this.showVideoError(),this.$videoControls.show()},handleVideoStalled:function(t){},handleVideoLoadedMetadata:function(t){this.cleanedUp||(e(this.previewEl).hide(),e(this.glContainer).show(),this.videoImage=document.createElement("canvas"),this.videoImage.width=this.video.videoWidth,this.videoImage.height=this.video.videoHeight,this.videoImageContext=this.videoImage.getContext("2d"),this.videoImageContext.fillStyle="#000000",this.videoImageContext.fillRect(0,0,this.videoImage.width,this.videoImage.height),this.videoTexture=new d.VideoTexture(this.videoImage),this.videoTexture.minFilter=d.LinearFilter,this.videoTexture.magFilter=d.LinearFilter,this.videoTexture.format=d.RGBFormat,this.videoMaterial=new d.MeshLambertMaterial({map:this.videoTexture}),this.initializeWithMaterial(this.videoMaterial),this.$videoControls.show())},handleVideoLoadedData:function(t){},handleVideoCanPlay:function(t){this.video.paused&&(this.showVideoPlay(),this.$videoControls.show())},handleVideoCanPlayThrough:function(t){this.video.paused&&(this.showVideoPlay(),this.$videoControls.show())},handleVideoPlaying:function(t){this.showVideoSpinner(),this.$videoControls.show()},handleVideoTimeUpdate:function(t){this.video.paused||this.$videoControls.hide()},handleVideoWaiting:function(t){this.showVideoSpinner(),this.$videoControls.show()},handleVideoPlay:function(t){},handleVideoPause:function(t){this.showVideoPlay(),this.$videoControls.show()},handleVideoEnded:function(t){this.showVideoPlay(),this.$videoControls.show(),analytics.track("video completed",{"video length":this.video.duration,"watched duration":this.video.duration,"own media":this.model.getOwner().id==this.options.user.id})},showSaveImageModal:function(){e(".modal").remove();var t=n.div();this.saveImageModalText=n.p({class:"intro-message"},"Create a normal (non-360) photo of the current view and save it to your device. ").appendTo(t),helpLinkCopy="(click here for more info)",this.helpLink=n.a({class:"out-link",target:"_blank",href:"https://help.momento360.com/article/39-creating-photos-from-a-360-degree-image"},helpLinkCopy).appendTo(this.saveImageModalText),this.saveImageModalSaveButton=n.button({class:"enable-sharing-button btn-primary thin-button"},"CREATE AND SAVE TO DEVICE").appendTo(t);var i=this;e(this.saveImageModalSaveButton).on("click",(function(t){if(i.options.parent){var n=i.options.parent,r=Math.round(e(".gl-container").width()),o=Math.round(e(".gl-container").height()),a=r>0?r:800,s=o>0?o:600,l=n.generateThumbnailAndBlob(a,s);l&&(u.saveAs(l.blob,"momento-360-image.jpg"),i.dismissSaveImageModal()),analytics.track("Create Virtual Photo"),analytics.identify({virtual_photos_count:1})}})),this.saveImageModalView=n.div({class:"embed-dialog-view"},t);this.saveImageModal=X.views.generateModal("Create a Photo",this.saveImageModalView,[]),e("body").append(this.saveImageModal),e(this.saveImageModal).modal()},dismissSaveImageModal:function(){e(this.saveImageModal).modal("hide"),this.saveImageModal=null,this.saveImageModalView=null},handleSaveImageClick:function(t){t&&t.preventDefault(),this.showSaveImageModal()},handlePlayIconClick:function(t){this.cleanedUp||(t&&t.preventDefault(),this.video&&this.video.play())},handleCardboardToggleClick:function(t){t&&t.preventDefault(),this.cleanedUp||(this.options.parent.saveCurrentMode(),this.showCardboard(),analytics.track("Enter VR Mode",{is_embed:!1,media_type:this.model.isVideo()?"video":"photo",vr_device_type:"cardboard"}),analytics.identify({vr_views:1}))},handlePortraitBackButtonClick:function(t){t&&t.preventDefault(),this.showCardboardEffect=!1,this.$el.removeClass("showing-cardboard"),analytics.track("Exit VR Mode",{is_embed:!1,media_type:this.model.isVideo()?"video":"photo",vr_device_type:"cardboard"}),0==X.views.ScreenIsWiderThan(X.views.GridBreakpoints.md-1)&&e(this.cardboardToggle).css("display","")},handleRotateCancelRequest:function(t){this.handlePortraitBackButtonClick(t),this.options.parent.restoreSavedMode()},onFirstDeviceOrientationChange:function(t){this.cleanedUp||(window.removeEventListener("deviceorientation",this.onFirstDeviceOrientationChange,!1),!this.orientationControls.enabled&&X.isMobile.any()&&(0==X.views.ScreenIsWiderThan(X.views.GridBreakpoints.md-1)&&e(this.cardboardToggle).css("display",""),this.orientationControls.connect()),this.isInPortraitOrientation=X.views.isInPortraitOrientation(),window.addEventListener("deviceorientation",this.onDeviceOrientationChange,!1))},onDeviceOrientationChange:function(t){this.cleanedUp||this.isInPortraitOrientation!=X.views.isInPortraitOrientation()&&(this.isInPortraitOrientation=!this.isInPortraitOrientation,this.setOrientationClasses(),this.isInPortraitOrientation&&this.showCardboardEffect&&this.handlePortraitBackButtonClick(),this.resizeCanvas())},setOrientationClasses:function(){this.isInPortraitOrientation?this.$el.addClass("portrait").removeClass("landscape"):this.$el.removeClass("portrait").addClass("landscape")},onWindowResize:function(){this.cleanedUp||this.resizeCanvas()},resizeViewport3D:function(t,e){this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e),this.effect.setSize(t,e)},resizeCanvas:function(){if(!this.cleanedUp&&this.options.showWebGL){var t=this.$el.width(),e=this.$el.height();this.resizeViewport3D(t,e)}},getZoomFactor:function(){return this.fovSpring.current.value/this.defaultFov},getViewParameters:function(){return{heading:parseFloat(this.lon.toFixed(2),10),pitch:parseFloat(this.lat.toFixed(2),10),"field-of-view":parseFloat(this.fov.toFixed(2),10)}},hitTestAnnotation:function(t,e){var i=this.glContainer.getBoundingClientRect();if(t<i.left||e<i.top||t>i.left+i.width||e>i.top+i.height)return null;var n=t-i.left,r=e-i.top,o=this.$el.width(),a=this.$el.height(),s={};s.x=n/o*2-1,s.y=-r/a*2+1,this.raycaster.setFromCamera(s,this.camera);var l=this.raycaster.intersectObjects(this.scene.children),c=null;if(l&&l.length>0)for(var u=0;u<l.length;++u)for(var h=0;h<this.annotations.length;++h){var d=this.annotations[h];if(d.mesh===l[u].object){c=d;break}}return c},onClick:function(t){if(!this.cleanedUp&&!this.showCardboardEffect&&this.annotationDisplayMode===y.MARKER_AND_UI){var e=this.onPointerDownPointerX-t.clientX,i=this.onPointerDownPointerY-t.clientY;if(!(Math.sqrt(e*e+i*i)>3)){this.stopSlideshow(),t.preventDefault(),t.stopPropagation();var n=this.hitTestAnnotation(this.onPointerDownPointerX,this.onPointerDownPointerY),r=m.filter(this.annotations,(function(t){return null==t.key}));if(r.length>0&&null!=n&&null!=n.key&&this.removeDeletedAnnotationsFromScene(r),null!=n&&null!=n.key){if(this.selectAnnotationForSidebar(n,!0),n.model.attributes.targets)n.model.attributes.targets[0].attributes?(markerModel=n.model.attributes.targets[0].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id):(markerModel=n.model.attributes.targets[0].annotation_marker,markerName=markerModel.name,markerId=markerModel.uuid,markerOwnerID=markerModel.owner_id);else for(var o=0;o<this.annotationTargetCollection.models.length;o++)if(this.annotationTargetCollection.models[o].attributes.annotation.id==n.model.id){markerModel=this.annotationTargetCollection.models[o].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id;break}analytics.track("Select Annotation",{selection_method:"direct",target_uuid:this.model.attributes.uuid,annotation_type:n.model.attributes.annotation_type,render_mode:n.model.attributes.render_mode,marker_type:markerOwnerID?"Custom Marker":"System Marker",marker_name:markerName,marker_uuid:markerId})}}}},markerDataForAnnotations:function(t){return t.model?U(this.annotationMarkerData,t.state,this.annotationTargetCollection.getTargetForAnnotation(t.model)):U(this.annotationMarkerData,t.state,null)},materialForAnnotation:function(t){return markerData=this.markerDataForAnnotations(t),markerData.material},deselectAllAnnotationsForSidebar:function(t){for(var e=0;e<this.annotations.length;++e){var i=this.annotations[e];i.state=_.NORMAL,i.mesh&&(i.mesh.material=this.materialForAnnotation(i),i.mesh.visible=t)}},selectAnnotationForSidebar:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===t&&console.error("unexpected null annotation"),this.annotationDisplayMode===y.HIDDEN?this.deselectAllAnnotationsForSidebar(!1):this.deselectAllAnnotationsForSidebar(!0),t.state=_.SELECTED,t.mesh&&(t.mesh.material=this.materialForAnnotation(t));var i=this.annotationTargetCollection.getTargetForAnnotation(t.model);this.trigger(D,i,e)},updateAnnotationHoverStateForSidebar:function(t){for(var i=0;i<this.annotations.length;++i){var n=this.annotations[i];n.mesh&&n.state===_.HOVER&&(n.state=_.NORMAL,n.mesh&&(n.mesh.material=this.materialForAnnotation(n)))}if(null!==t&&t.state!=_.SELECTED&&(t.state=_.HOVER),null!==t&&t.mesh&&t.state==_.HOVER&&(t.mesh.material=this.materialForAnnotation(t)),null===t||t.preview)null===t&&this.removeHoverStateOverlays();else if(this.removeHoverStateOverlays(),t.model){var r=new G({anchor:new d.Vector2(0,0),model:t.model,standAlonePlayer:this.annotationPanel.standAlonePlayer});e(r.$el).css({visibility:"hidden"}),e("body").append(r.$el);var o=r.$el.children().get(0).offsetHeight,a=r.$el.children().get(0).offsetWidth;e(r.$el).remove();var s=j(t.mesh,this.camera,e(this.glContainer).innerWidth(),e(this.glContainer).innerHeight(),a,o);t.preview=new G({anchor:s,model:t.model,standAlonePlayer:this.annotationPanel.standAlonePlayer}),t.preview.$el.appendTo(this.glContainer)}},onDblClick:function(t){if(!this.cleanedUp){for(var e=(this.defaultFov-this.minFov)/2,i=[[this.maxFov,this.defaultFov,this.defaultFov],[this.defaultFov,this.defaultFov-e,this.defaultFov-e],[this.defaultFov-e,this.defaultFov-2*e,this.defaultFov-2*e],[this.defaultFov-2*e,0,this.defaultFov]],n=0;n<i.length;++n)if(this.fov<=i[n][0]&&this.fov>i[n][1]){this.fov=i[n][2];break}this.fovSpring.springTo(this.fov)}},onWheel:function(t){if(!this.cleanedUp){t.preventDefault();var e=function(t){var e=0,i=0,n=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=10*e,r=10*i,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||r)&&t.deltaMode&&(1==t.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!e&&(e=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:r}}(t);this.fov+=2*e.spinY,this.fovSpring.springTo(this.fov)}},onTouchStart:function(t){if(!this.cleanedUp)if(this.showCardboardEffect)t.touches[0].clientX<.25*this.$el.width()?e(this.previousButton).trigger("click"):e(this.nextButton).trigger("click");else if(this.orientationControls.disconnect(),this.startedTouchDrag=!1,1==t.touches.length)this.onPointerDownPointerX=t.changedTouches[0].clientX,this.onPointerDownPointerY=t.changedTouches[0].clientY,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat,this.logDragStarted(),this.startedTouchDrag=!0;else if(2==t.touches.length){var i=new d.Vector2(t.touches[0].clientX,t.touches[0].clientY),n=new d.Vector2(t.touches[1].clientX,t.touches[1].clientY);this.touchDelta=i.distanceTo(n),this.touchCenter=i.lerp(n,.5),this.lastTouchDelta=this.touchDelta,this.lastTouchCenter=this.touchCenter}},onTouchMove:function(t){if(t&&t.preventDefault(),!this.cleanedUp&&!this.showCardboardEffect)if(1==t.touches.length&&this.startedTouchDrag){var e=.1*this.getZoomFactor();this.lonSpring.springTo(3*(this.onPointerDownPointerX-t.changedTouches[0].clientX)*e+this.onPointerDownLon),this.latSpring.springTo((t.changedTouches[0].clientY-this.onPointerDownPointerY)*e+this.onPointerDownLat),this.logDragMove()}else if(2==t.touches.length){var i=new d.Vector2(t.touches[0].clientX,t.touches[0].clientY),n=new d.Vector2(t.touches[1].clientX,t.touches[1].clientY),r=i.distanceTo(n);if(r!=this.touchDelta){this.lastTouchDelta=this.touchDelta,this.lastTouchCenter=this.touchCenter,this.touchDelta=r,this.touchCenter=i.lerp(n,.5);var o=this.lastTouchDelta-this.touchDelta;o=d.Math.clamp(o,-1.75,1.75),this.fov+=1*o,this.fovSpring.springTo(this.fov)}}},onTouchEnd:function(t){if(t&&t.preventDefault(),!this.cleanedUp&&!this.showCardboardEffect){var e=(new Date).getTime(),i=e-(this.lastTouchEnd?this.lastTouchEnd:e);if(1==t.changedTouches.length){var n=new d.Vector2(t.changedTouches[0].clientX,t.changedTouches[0].clientY),r=new d.Vector2(this.onPointerDownPointerX,this.onPointerDownPointerY),o=n.distanceTo(r);i<250&&i>30?this.onDblClick(t):o<3&&this.onClick(t)}this.lastTouchEnd=e}},removeAllAnnotations:function(){var t=Array.from(this.annotations);this.removeDeletedAnnotationsFromScene(t),this.annotations=[]},removeDeletedAnnotationsFromScene:function(t){for(var e=0;e<t.length;++e){(i=t[e]).mesh&&this.scene.remove(i.mesh),i.mesh=null,i.preview&&(i.preview.remove(),i.preview=null)}for(e=0;e<t.length;++e){var i=t[e],n=this.findAnnotationInScene(i.key),r=this.annotations.indexOf(n);this.annotations.splice(r,1)}},findAnnotationInScene:function(t){for(var e=0;e<this.annotations.length;++e)if(null!=this.annotations[e].key&&this.annotations[e].key==t)return this.annotations[e];return null},updateAnnotationsInScene:function(t){for(var e=0;e<t.length;++e){var i=t[e],n=this.findAnnotationInScene(i.key);n?(n.heading=i.heading,n.pitch=i.pitch,n.text=i.text,n.model=i.model,n.state=i.state,n.mesh?n.mesh.material=this.materialForAnnotation(n):this.createMeshForAnnotation(n)):(this.createMeshForAnnotation(i),this.annotations.push(i))}var r=m.filter(this.annotations,(function(t){return null==t.key}));m.each(r,function(t){t.mesh&&(this.scene.remove(t.mesh),t.mesh=null)}.bind(this)),this.annotations=m.filter(this.annotations,(function(t){return null!=t.key})),this.annotations.sort((function(t,e){return t.key&&e.key?t.key.localeCompare(e.key):-1}))},handleAnnotationExportListRequest:function(t){this.showAnnotationListExportModal()},setAnnotationDisplayMode:function(t){this.annotationDisplayMode=t,this.annotationDisplayMode===y.HIDDEN?this.deselectAllAnnotationsForSidebar(!1):(this.annotationDisplayMode===y.MARKER_AND_UI||this.annotationDisplayMode===y.MARKER_ONLY)&&this.deselectAllAnnotationsForSidebar(!0),analytics.track("Change Annotation Display",{ANNOTATION_DISPLAY_MODE:this.annotationDisplayMode,annotation_count:this.annotations.length})},handleIndexViewPopoverRequest:function(t){if(this.idxView)this.idxView.remove(),this.idxView=null;else{var e=this.annotationDisplayMode!=y.HIDDEN,i=new z({collection:this.annotationTargetCollection,annotationVisible:e});i.$el.appendTo(this.el),i.on(O,function(){this.playSlideshow?this.stopSlideshow():this.startSlideshow()}.bind(this)),i.on(P,function(){this.annotationDisplayMode!=y.HIDDEN?this.setAnnotationDisplayMode(y.HIDDEN):this.setAnnotationDisplayMode(y.MARKER_AND_UI)}.bind(this)),i.on(S,function(t){if(this.playSlideshow&&this.stopSlideshow(),this.jumpToAnnotationByKey(t.cid),t.attributes.targets)t.attributes.targets[0].attributes?(markerModel=t.attributes.targets[0].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id):(markerModel=t.attributes.targets[0].annotation_marker,markerName=markerModel.name,markerId=markerModel.uuid,markerOwnerID=markerModel.owner_id);else for(var e=0;e<this.annotationTargetCollection.models.length;e++)if(this.annotationTargetCollection.models[e].attributes.annotation.id==t.id){markerModel=this.annotationTargetCollection.models[e].attributes.annotation_marker,markerName=markerModel.attributes.name,markerId=markerModel.attributes.uuid,markerOwnerID=markerModel.attributes.owner_id;break}analytics.track("Select Annotation",{selection_method:"popover_link",target_uuid:this.model.attributes.uuid,annotation_type:t.attributes.annotation_type,render_mode:t.attributes.render_mode,marker_type:markerOwnerID?"Custom Marker":"System Marker",marker_name:markerName,marker_uuid:markerId})}.bind(this)),this.idxView=i}},startSlideshow:function(){if(0!=this.annotations.length){-1===this.currentTargetAnnotationIdx&&(this.currentTargetAnnotationIdx=0),this.jumpToAnnotation(this.currentTargetAnnotationIdx);var t=this,e=1e3*v;this.slideshowTimer=setInterval((function(){t.jumpToNextAnnotation()}),e),this.playSlideshow=!0,analytics.track("Start Autotour",{ANNOTATION_DISPLAY_MODE:this.annotationDisplayMode,annotation_count:this.annotations.length})}},stopSlideshow:function(){clearInterval(this.slideshowTimer),this.currentTargetAnnotationIdx=-1,this.playSlideshow=!1,this.idxView&&this.idxView.autoplayStopped()},jumpToNextAnnotation:function(){var t=this.currentTargetAnnotationIdx+1;t%=this.annotations.length,this.jumpToAnnotation(t)},jumpToAnnotation:function(t){this.currentTargetAnnotationIdx=t;var e=this.annotations[t];this.latSpring.springTo(e.pitch),this.lonSpring.springTo(e.heading),this.fovSpring.springTo(50),this.selectAnnotationForSidebar(e)},jumpToAnnotationByKey:function(t){for(var e=-1,i=0;i<this.annotations.length;++i)if(null!=this.annotations[i].key&&t===this.annotations[i].key){e=i;break}-1!=e?this.jumpToAnnotation(e):console.log("Error, bad key")},createMeshForAnnotation:function(t,e){var i={lat:t.pitch,lon:t.heading},n=Y(i).clone().multiplyScalar(475),r=this.markerDataForAnnotations(t);void 0!==e&&(r=e);var o=r.offset.clone().divide(new d.Vector2(512,512)),a=new d.Vector2(.5,.5),s=o.clone().sub(a).clone().clone().multiplyScalar(75),l=new d.Mesh(new d.PlaneBufferGeometry(75,75),r.material);n.x+=s.x,n.y+=s.y;var c=F(n);n=Y(c).clone().multiplyScalar(475),l.position.set(n.x,n.y,n.z);var u=n.clone().normalize().multiplyScalar(-1),h=new d.Vector3(0,1,0).clone().cross(u).normalize(),p=u.clone().cross(h).normalize(),f=new d.Matrix4;f.makeBasis(h,p,u),l.setRotationFromMatrix(f),t.mesh=l,this.scene&&this.scene.add(t.mesh)},onDocumentMouseDown:function(t){t&&t.preventDefault(),this.cleanedUp||this.showCardboardEffect||(this.stopSlideshow(),this.orientationControls.disconnect(),this.isUserInteracting=!0,this.onPointerDownPointerX=t.clientX,this.onPointerDownPointerY=t.clientY,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat,this.logDragStarted())},onDocumentMouseMove:function(t){if(!this.cleanedUp){if(!0===this.isUserInteracting){var e=.1*this.getZoomFactor();this.lonSpring.springTo((this.onPointerDownPointerX-t.clientX)*e+this.onPointerDownLon),this.latSpring.springTo((t.clientY-this.onPointerDownPointerY)*e+this.onPointerDownLat),this.logDragMove()}if(this.annotationDisplayMode===y.MARKER_AND_UI){var i=this.hitTestAnnotation(t.clientX,t.clientY);this.updateAnnotationHoverStateForSidebar(i)}}},removeHoverStateOverlays:function(){m.each(this.annotations,function(t){t.preview&&(t.preview.remove(),t.preview=null)}.bind(this))},onDocumentDragOver:function(t){t&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},onDocumentMouseUp:function(t){this.isUserInteracting=!1,this.cleanedUp||this.showCardboardEffect&&this.videoImage&&this.video.paused&&this.video.play()},logDragStarted:function(){this.dragStartedTime=(new Date).getTime()},logDragMove:function(){!this.dragStartedTime||this.dragStartedTime-(new Date).getTime()>500||(this.dragStartedTime=null,analytics.track("Drag"),window.m360HasLoggedDrag||(window.m360HasLoggedDrag=!0,analytics.identify({has_dragged:!0})))},updateCameraFromViewParameters:function(){this.fovSpring.update(),this.fov=d.Math.clamp(this.fov,this.minFov,this.maxFov);var t=d.Math.clamp(this.fovSpring.current.value,this.minFov,this.maxFov);this.camera.fov=t,this.camera.updateProjectionMatrix(),this.lonSpring.update(),this.latSpring.update();var e=this.lonSpring.current.value,i=this.latSpring.current.value;this.lon=e,this.lat=d.Math.clamp(i,-85,85),this.phi=d.Math.degToRad(90-this.lat),this.theta=d.Math.degToRad(this.lon),this.camera.target.x=500*Math.sin(this.phi)*Math.cos(this.theta),this.camera.target.y=500*Math.cos(this.phi),this.camera.target.z=500*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.camera.target)},animate:function(){this.cleanedUp||(requestAnimationFrame(this.animate),this.orientationControls.update(),this.orientationControls.enabled||this.updateCameraFromViewParameters(),this.materialInitialized&&this.video&&this.videoImageContext&&this.videoTexture&&this.video.readyState>=this.video.HAVE_FUTURE_DATA&&(this.videoImageContext.drawImage(this.video,0,0),this.videoTexture.needsUpdate=!0),this.showCardboardEffect?this.effect.render(this.scene,this.camera):(this.renderer.clear(!0,!0,!0),this.renderer.render(this.scene,this.camera)))},renderThumbnail:function(t,e){var i=new d.WebGLRenderTarget(t,e,{minFilter:d.LinearFilter,magFilter:d.NearestFilter,format:d.RGBAFormat});i.scissorTest=!1,i.depthBuffer=!1,i.stencilBuffer=!1,i.texture.name="offscreenTexture",this.resizeViewport3D(t,e),this.renderer.render(this.scene,this.camera,i,!0),this.renderer.context.flush(),this.renderer.context.finish();var n=new Uint8Array(t*e*4);return this.renderer.readRenderTargetPixels(i,0,0,t,e,n),this.resizeViewport3D(this.$el.width(),this.$el.height()),{pixelData:n,width:t,height:e,bpp:4}},renderAnnotationThumbnail:function(t){var e=new d.WebGLRenderTarget(t.width,t.height,{minFilter:d.LinearFilter,magFilter:d.NearestFilter,format:d.RGBAFormat});e.scissorTest=!1,e.depthBuffer=!1,e.stencilBuffer=!1,e.texture.name="offscreenTexture",m.each(this.annotations,function(t){t.mesh.visible=!1}.bind(this));var i=this.lat,n=this.lon,r=this.fov;this.fov=this.defaultFov/2,this.fovSpring.resetTo(this.fov),this.lat=t.pitch,this.latSpring.resetTo(this.lat),this.lon=t.heading,this.lonSpring.resetTo(this.lon),this.resizeViewport3D(t.width,t.height),this.updateCameraFromViewParameters(),this.renderer.clear(!0,!0,!0),this.renderer.render(this.scene,this.camera,e,!0),this.renderer.context.flush(),this.renderer.context.finish();var o=new Uint8Array(t.width*t.height*4);return this.renderer.readRenderTargetPixels(e,0,0,t.width,t.height,o),this.annotationDisplayMode!=y.HIDDEN&&m.each(this.annotations,function(t){t.mesh.visible=!0}.bind(this)),this.lat=i,this.lon=n,this.fov=r,this.latSpring.resetTo(this.lat),this.lonSpring.resetTo(this.lon),this.fovSpring.resetTo(this.fov),this.resizeViewport3D(this.$el.width(),this.$el.height()),this.updateCameraFromViewParameters(),this.renderer.clear(!0,!0,!0),this.renderer.render(this.scene,this.camera),this.renderer.context.flush(),this.renderer.context.finish(),{pixelData:o,width:t.width,height:t.height,bpp:4}},encodeThumbnail:function(t){for(var e=new Uint8ClampedArray(t.width*t.height*t.bpp),i=t.height-1,n=t.width*t.bpp,r=0;r<t.height;++r){for(var o=0;o<t.width*t.bpp;o+=t.bpp)e[i*n+o+0]=t.pixelData[r*n+o+0],e[i*n+o+1]=t.pixelData[r*n+o+1],e[i*n+o+2]=t.pixelData[r*n+o+2],e[i*n+o+3]=t.pixelData[r*n+o+3];--i}var a=new ImageData(e,t.width,t.height),s=new he(85);return t.rawJpegData=s.encode(a,85,!0),t},uploadThumbnail:function(t,e,i){var n=t.blob||new Blob([t.rawJpegData.buffer],{type:"image/jpeg"});return pt().upload(n)},generateAndUploadThumbnail:function(t,e){var i=this.renderThumbnail(t,e);return i=this.encodeThumbnail(i),this.uploadThumbnail(i)},generateAndUploadThumbnailAnnotation:function(t){var e=this.renderAnnotationThumbnail(t);return e=this.encodeThumbnail(e),this.uploadThumbnail(e)},showAlertView:function(t){this.alertView&&e(this.alertView).remove();var i=new et({message:t});this.alertView=X.views.generateModal("PERMISSIONS",i.el,[],"alert-modal"),e("body").append(this.alertView),e(this.alertView).modal()},onContextMenu:function(t){if(!this.cleanedUp&&!this.showCardboardEffect&&!0===window.M360FeatureFlags["annotation-creation"]&&this.annotationDisplayMode!==y.HIDDEN){if(t.preventDefault(),!this.isAnnotateAllowed)return analytics.track("Attempt Annotation"),this.showAlertView("You dont have permission to annotate. Contact the owner to change your access level."),void(this.isUserInteracting=!1);if(!(m.filter(this.annotations,(function(t){return null==t.key})).length>0)){this.stopSlideshow();var e=this.glContainer.getBoundingClientRect();if(!(this.onPointerDownPointerX<e.left||this.onPointerDownPointerY<e.top||this.onPointerDownPointerX>e.left+e.width||this.onPointerDownPointerY>e.top+e.height)){var i=this.onPointerDownPointerX-e.left,n=this.onPointerDownPointerY-e.top,r=this.$el.width(),o=this.$el.height(),a={};a.x=i/r*2-1,a.y=-n/o*2+1,this.raycaster.setFromCamera(a,this.camera);var s=this.raycaster.intersectObjects(this.scene.children),l=null;if(s&&s.length>0)for(var c=0;c<s.length;++c)if(this.mesh===s[c].object){l=s[c].point;break}if(null!=l){var u=F(l),h={mesh:null,heading:u.lon,pitch:u.lat,key:null,state:_.SELECTED,model:null};this.deselectAllAnnotationsForSidebar(!0),this.createMeshForAnnotation(h),this.annotations.push(h),y.MARKER_AND_UI===this.annotationDisplayMode&&this.trigger(w,{upload_uuid:this.model.get("uuid"),heading:h.heading,pitch:h.pitch,display_fov:this.defaultFov,upload_owner:this.model.owner,generateThumbnailAsync:function(t){return this.generateAndUploadThumbnailAnnotation(t)}.bind(this)})}}}}},showAnnotationShareOverlay:function(t){e(".modal").remove(),this.annotationModalBody=new $({annotationTarget:t,sphereModel:this.model,user:this.options.user,parent:this}),this.annotationModal=X.views.generateModal("SHARE ANNOTATION",this.annotationModalBody.el,[],"share-annotation-modal"),e("body").append(this.annotationModal),e(this.annotationModal).modal(),analytics.track("Open Share Annotation Modal")},showAnnotationListExportModal:function(){e(".modal").remove(),this.annotationListExportView=new W({collection:this.annotationTargetCollection,sphereModel:this.model,user:this.options.user}),this.annotationListExportModal=X.views.generateModal("ANNOTATIONS",this.annotationListExportView.el,[],"annotation-export-modal"),e("body").append(this.annotationListExportModal),e(this.annotationListExportModal).modal(),analytics.track("Open Export Annotation Modal")}},"generateAndUploadThumbnail",(function(t,e){var i=this.generateThumbnail(t,e);return this.uploadThumbnail(i)})),o(r,"generateThumbnail",(function(t,e){var i=this.renderThumbnail(t,e);return i=this.encodeThumbnail(i)})),o(r,"generateThumbnailAndBlob",(function(t,e){var i=this.generateThumbnail(t,e),n=new Blob([i.rawJpegData.buffer],{type:"image/jpeg"});return i.blob=n,i})),r)),le.views.FavoriteItemView=l.View.extend({className:"favorite-item-view",initialize:function(t){if(!t.model)throw"Requires a Favorite model option";if(!t.user)throw"FavoriteItemView requires a User user option.";this.options=t,this.upload=this.model.getUpload(),this.cardWrapper=n.div({class:"card-wrapper "}).appendTo(this.el),this.thumbWrapper=n.div({class:"upload-thumbnail-wrapper"}).appendTo(this.cardWrapper),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.upload}),this.thumbWrapper.appendChild(this.uploadThumbnailView.el),this.buttonWrapper=n.div({class:"button-wrapper row"}).appendTo(this.cardWrapper),this.favoriteIconView=new le.views.FavoriteIconView({user:t.user,model:this.upload,screenName:"favorites"}),this.buttonWrapper.appendChild(this.favoriteIconView.el),this.model.isNew()&&this.favoriteIconView.$el.hide(),this.commentIconView=new le.views.CommentIconView({model:this.model.getUpload()}),this.buttonWrapper.appendChild(this.commentIconView.el),this.model.isNew()&&this.commentIconView.$el.hide(),this.timeDisplay=n.div({class:"item-timestamp"}).appendTo(this.cardWrapper),this.timeCallback=X.views.bindText(this.model.getUpload(),"xmp_create_date",this.timeDisplay,X.views.formatRestTimestamp),this.ownerView=new ee.views.UserItemView({model:this.upload.getOwner(),showTooltips:!0}),this.thumbWrapper.appendChild(this.ownerView.el),this.captionDisplay=n.div({class:"caption-display"}).appendTo(this.cardWrapper),X.views.bindText(this.upload,"caption",this.captionDisplay),this.uploadCommentsTeaserView=new le.views.UploadCommentsTeaserView({model:this.model.getUpload(),user:t.user}),this.cardWrapper.appendChild(this.uploadCommentsTeaserView.el)},remove:function(){l.View.prototype.remove.call(this),this.model.getUpload().off(null,this.timeCallback,this)}}),le.views.FavoritesView=l.View.extend({className:"favorites-view",initialize:function(t){if(!t.collection)throw"Requires a collection option";if(!t.user)throw"FavoritesView requires a User user option";this.options=t,this.collectionView=new _t({collection:this.options.collection,itemView:le.views.FavoriteItemView,itemOptions:{user:t.user},filter:function(t){return null==t.get("withdrawn")&&null==t.getUpload().get("deleted")},comparator:X.views.generateModelFieldComparator("created",!0),emptyEl:n.div("When you mark a 360 as a favorite by using a ",n.span({class:"icon icon-heart"})," icon, it will show up here.")}),this.el.appendChild(this.collectionView.el)}}),le.views.UploadCommentItemView=l.View.extend({className:"upload-comment-item-view",events:{"click .item-actions-edit-comment":"handleEditCommentClick","click .item-actions-delete-comment":"handleDeleteCommentClick","click .message-edit > .message-edit-save":"handleEditSaveClick","keydown .message-edit > input":"handleEditInputKeypress"},initialize:function(t){if(m.bindAll(this,"handleEditCommentClick","handleDeleteCommentClick","handleEditSaveClick","handleEditInputKeypress"),!t.model)throw"Requires an UploadComment model";if(t.showEditingActions=!0===t.showEditingActions,t.showEditingActions){if(!t.user)throw new Error("share.views.UploadCommentItemView requires option user when showEditingActions is enabled");if(!t.upload)throw new Error("share.views.UploadCommentItemView requires option upload when showEditingActions is enabled")}if(this.options=t,this.userItemView=new ee.views.UserItemView({model:this.options.model.getCommenter(),showFullName:!1,showTooltips:!0}),this.el.appendChild(this.userItemView.el),this.infoEl=n.div({class:"info"}).appendTo(this.el),this.nameEl=n.div({class:"name"}).appendTo(this.infoEl),this.nameCallback=X.views.bindText(this.options.model.getCommenter(),"first_name",this.nameEl),this.messageEl=n.div({class:"message"},this.options.model.get("message")).appendTo(this.infoEl),this.isUploadOwner=this.options.showEditingActions&&this.options.upload.getOwner().get("id")===this.options.user.get("id"),this.isCommentOwner=this.options.showEditingActions&&this.model.getCommenter().get("id")===this.options.user.get("id"),this.isCommentOwner&&n.div({class:"message-edit d-none"},n.input({type:"text",value:this.options.model.get("message")}),n.a({class:"message-edit-save",href:"#"},n.span({class:"icon icon-check-circle float-right"}))).appendTo(this.infoEl),this.timestampAndActionsEl=n.div({class:"item-timestamp-and-actions"}).appendTo(this.infoEl),this.timestampEl=n.span({class:"item-timestamp"},this.generateItemTimestamp(this.options.model)).appendTo(this.timestampAndActionsEl),this.isUploadOwner||this.isCommentOwner){var e=this.isCommentOwner?"Edit Comment":"Delete Comment",i=this.isCommentOwner?"item-actions-edit-comment":"item-actions-delete-comment";this.itemActionsEl=n.span({class:"item-actions"},n.a({href:"#",class:i},e)).appendTo(this.timestampAndActionsEl),this.isCommentOwner&&n.a({href:"#",class:"item-actions-delete-comment danger d-none"},n.span({class:"icon icon-trash"}),"Delete Comment").appendTo(this.itemActionsEl)}},generateItemTimestamp:function(t){var e=h(this.options.model.get("created")),i=h(this.options.model.get("modified")),n=h.duration(i.diff(e)).as("milliseconds")>100;return X.views.formatRestTimestamp(t.get("modified"),!1)+(n?" (Edited)":"")},handleEditCommentClick:function(t){if(t.preventDefault(),this.isCommentOwner){var i=e(t.currentTarget).parents(".upload-comment-item-view").first();i.find(".message").addClass("d-none"),i.find(".message-edit").removeClass("d-none"),i.find("a.item-actions-edit-comment").addClass("d-none").siblings().removeClass("d-none")}else console.warn("Attempt to edit comment by non-owner")},postEditRefresh:function(t,e){t.find(".message").text(e.get("message")).removeClass("d-none").siblings(".message-edit").addClass("d-none"),t.find("a.item-actions-edit-comment").removeClass("d-none").siblings().addClass("d-none"),t.find(".item-timestamp").text(this.generateItemTimestamp(e))},handleEditSaveClick:function(t){var i=this;t.preventDefault();var n=e(t.currentTarget).parents(".upload-comment-item-view").first(),r=n.find("a.message").text().trim(),o=n.find(".message-edit > input").val().trim();if(o!==r)return this.options.model.save({message:o},{patch:!0,success:function(t){i.postEditRefresh(n,t)}}),void analytics.track("Edited Comment");this.postEditRefresh(n,this.options.model)},handleEditInputKeypress:function(t){13===t.keyCode&&this.handleEditSaveClick(t)},handleDeleteCommentClick:function(t){(t.preventDefault(),this.isCommentOwner||this.isUploadOwner)?new Z({model:this.options.model,title:"Delete Comment",modalBody:n.p("Please confirm you wish to delete this comment. Deleted comments cannot be restored."),primaryActionLabel:"Delete",secondaryActionLabel:"Cancel",onPrimaryAction:this.executeDeleteComment.bind(this)}).open():console.warn("Attempt to delete comment by non-owner of comment or upload")},executeDeleteComment:function(t,e){var i=this;return e.destroy({success:function(){i.$el.fadeOut(500,function(){this.remove()}.bind(i))}}),analytics.track("Deleted Comment"),!0},remove:function(){l.View.prototype.remove.call(this),this.userItemView.remove(),this.options.model.getCommenter().off(null,this.nameCallback,this)}}),le.views.UploadCommentsTeaserView=l.View.extend({className:"upload-comments-teaser-view",initialize:function(t){if(m.bindAll(this,"handleCollectionChange","updateDetailLink","handleDetailLinkClick"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"UploadCommentsTeaserView requires a User user option";this.options=t,this.cardBreak=n.div({class:"card-break"}).appendTo(this.el),this.uploadFavoriteNamesView=new le.views.UploadFavoriteNamesView({model:this.options.model,user:this.options.user,maxChactersCount:50}),this.el.appendChild(this.uploadFavoriteNamesView.el),this.detailLink=n.a({class:"detail-link"}).appendTo(this.el),e(this.detailLink).on("click",this.handleDetailLinkClick),this.commentsView=new _t({collection:this.options.model.getRecentComments(),itemView:le.views.UploadCommentItemView,filter:function(t){return null==t.get("deleted")},comparator:X.views.generateModelFieldComparator("created",!1)}),this.el.appendChild(this.commentsView.el),this.listenTo(this.options.model,"change:comment_count",this.updateDetailLink),this.listenTo(this.options.model.getRecentComments(),"update reset sync",this.handleCollectionChange),this.listenTo(this.options.model.getFavorites(),"update reset sync",this.handleCollectionChange),this.handleCollectionChange()},handleDetailLinkClick:function(t){t&&t.preventDefault(),this.model.trigger(jt,this.model)},handleCollectionChange:function(){var t=this.options.model.getFavorites().some(function(t){return null==t.get("withdrawn")&&t.getRecipient().id!=this.options.user.id}.bind(this));t?this.$el.addClass("showing-favorite-names"):this.$el.removeClass("showing-favorite-names"),this.commentsView.itemCount()>0?this.$el.addClass("showing-comments"):this.$el.removeClass("showing-comments"),this.updateDetailLink(),this.$el.toggle(this.options.model.getRecentComments().length>0||t)},updateDetailLink:function(){var t=this.model.get("comment_count");null!=t&&t>this.options.model.getRecentComments().length?e(this.detailLink).text("View all "+t+" comments").show():e(this.detailLink).hide()}}),le.views.ContentShareItemView=l.View.extend({className:"content-share-item-view",initialize:function(t){if(!t.model)throw"Requires a model option";if(!t.user)throw"ContentShareItemView requires a User user option";if(!t.screenName)throw"ContentShareItemView requires a screenName option";this.options=t,this.upload=this.model.getUpload(),this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.thumbWrapper=n.div({class:"upload-thumbnail-wrapper"}).appendTo(this.cardWrapper),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.model.getUpload()}),this.thumbWrapper.appendChild(this.uploadThumbnailView.el),this.senderView=new ee.views.UserItemView({model:this.model.getSender(),showTooltips:!0}),this.thumbWrapper.appendChild(this.senderView.el),this.buttonWrapper=n.div({class:"button-wrapper row"}).appendTo(this.cardWrapper),this.favoriteIconView=new le.views.FavoriteIconView({user:t.user,model:this.model.getUpload(),screenName:t.screenName}),this.buttonWrapper.appendChild(this.favoriteIconView.el),this.commentIconView=new le.views.CommentIconView({model:this.model.getUpload()}),this.buttonWrapper.appendChild(this.commentIconView.el),this.model.isNew()&&this.favoriteIconView.$el.hide(),this.timeDisplay=n.div({class:"item-timestamp"}).appendTo(this.cardWrapper),this.timeCallback=X.views.bindText(this.model.getUpload(),"xmp_create_date",this.timeDisplay,X.views.formatRestTimestamp),this.captionDisplay=n.div({class:"caption-display"}).appendTo(this.cardWrapper),X.views.bindText(this.model.getUpload(),"caption",this.captionDisplay),this.uploadCommentsTeaserView=new le.views.UploadCommentsTeaserView({model:this.model.getUpload(),user:t.user}),this.cardWrapper.appendChild(this.uploadCommentsTeaserView.el)}}),le.views.ContentSharesView=l.View.extend({className:"content-shares-view",initialize:function(t){if(!t.collection)throw"Requires a ContentShare collection option";if(!t.user)throw"ContentSharesView requires a User user option";if(!t.screenName)throw"ContentSharesView requires a screenName option";this.options=t,this.collectionView=new _t({collection:this.options.collection,itemView:le.views.ContentShareItemView,itemOptions:{user:t.user,screenName:t.screenName},filter:function(t){return(!this.options.excludeSender||t.getSender().id!=this.options.excludeSender.id)&&(null==t.get("withdrawn")&&null==t.getUpload().get("deleted"))}.bind(this),comparator:X.views.generateModelFieldComparator("created",!0)}),this.el.appendChild(this.collectionView.el)}}),le.views.ShareGroupItemView=l.View.extend({className:"share-group-item-view",initialize:function(t){if(!t.model)throw"Requires a model option";this.options=t,this.maxRecipientCount=9,this.maxCountEl=n.a(),this.userIcons=new _t({collection:new ee.models.Users(this.options.model.get("recipients")),itemView:ee.views.UserItemView,comparator:X.views.generateModelFieldComparator("created",!0),maxCount:this.maxRecipientCount,maxCountEl:this.maxCountEl});var i=this.userIcons.collection.length-this.maxRecipientCount+1;e(this.maxCountEl).text("+"+i),this.userIcons.$el.addClass("user-icons"),this.el.appendChild(this.userIcons.el),this.userNames=new _t({collection:new ee.models.Users(this.options.model.get("recipients")),itemView:ee.views.UserItemView,comparator:X.views.generateModelFieldComparator("created",!0)}),this.userNames.$el.addClass("user-names"),this.el.appendChild(this.userNames.el)}}),le.views.ContentAcceptanceItemView=l.View.extend({className:"content-acceptance-item-view",initialize:function(t){if(!t.model)throw"Requires a model option";this.options=t,this.userItemView=new ee.views.UserItemView({model:new ee.models.User(this.model.get("sender"))}),this.el.appendChild(this.userItemView.el)}}),le.views.UploadThumbnailView=l.View.extend({className:"upload-thumbnail-view",initialize:function(t){if(m.bindAll(this,"renderImage","setSelectable","setSelected","renderSelection","handleThumbnailImageClick"),!t.model)throw"Requires a model option";this.options=t,this.selectable=!1,this.selected=!1,this.options.square=!0===this.options.square,this.imageWrapper=n.div({class:"image-wrapper"}).appendTo(this.el),this.$imageWrapper=e(this.imageWrapper),this.$imageWrapper.on("click",this.handleThumbnailImageClick),this.videoLogo=n.div({class:"video-logo"},n.span({class:"icon icon-circle-fill backing-circle"}),n.span({class:"icon icon-play-circle"})),this.selectionWrapper=n.div({class:"selection-wrapper"}).appendTo(this.el),this.selectedIcon=n.span({class:"icon icon-check-small-circle selected-icon"}).appendTo(this.selectionWrapper),e(this.selectedIcon).on("click",function(){this.setSelected(!1)}.bind(this)),this.deselectedIcon=n.span({class:"icon icon-circle-o deselected-icon"}).appendTo(this.selectionWrapper),e(this.deselectedIcon).on("click",function(){this.setSelected(!0)}.bind(this)),this.renderSelection(),this.renderImage()},setSelectable:function(t){this.selectable=t,this.renderSelection()},setSelected:function(t){this.selected=t,this.renderSelection(),t&&analytics.track("Select Item",{view:"photostream"})},handleThumbnailImageClick:function(){this.selectable?this.setSelected(!this.selected):this.model.trigger(jt,this.model)},renderSelection:function(){this.selected?(e(this.deselectedIcon).hide(),e(this.selectedIcon).show(),e()):(e(this.deselectedIcon).show(),e(this.selectedIcon).hide()),null!=this.model.getContent()&&this.selectable?e(this.selectionWrapper).show():e(this.selectionWrapper).hide()},renderImage:function(){this.options.model.isSpherical()?this.$el.addClass("spherical"):this.$el.removeClass("spherical"),this.$imageWrapper.empty();var t=this.model.getContent();if(t){var e=this.options.square?"medium_square_thumbnail_url":"large_thumbnail_url";t[e]?(this.imageWrapper.appendChild(n.img({class:"upload-thumbnail-image",src:t[e]})),this.model.isVideo()&&this.imageWrapper.appendChild(this.videoLogo)):this.imageWrapper.appendChild(n.div({class:"blank-thumbnail"},"No thumbnail")),this.selectable&&this.renderSelection()}else{var i="Processing...";this.model.saving?i="Uploading...":!0===this.model.get("processed")&&(i="Could not process. The error has been noted."),this.imageWrapper.appendChild(n.div({class:"blank-thumbnail"},n.span({class:"message"},i),n.img({src:STATIC_FILE_TO_URL["front/images/tiny-equirectangular-placeholder.png"]})))}}}),le.views.ContentShareRecipientView=l.View.extend({className:"content-share-recipient-view",initialize:function(t){this.options=t,this.options.showFullName=!!t.showFullName,void 0===this.options.showTooltips&&(this.options.showTooltips=!0),this.userItemView=new ee.views.UserItemView({model:new ee.models.User(this.model.get("recipient")),showTooltips:this.options.showTooltips,showFullName:this.options.showFullName}),this.el.appendChild(this.userItemView.el)}}),le.views.UploadCaptionView=l.View.extend({className:"upload-caption-view",initialize:function(t){if(m.bindAll(this,"handleCaptionDisplayClick","handleCaptionEditKeyup","handleCaptionEditChange","handleCaptionSaveSuccess","handleCaptionSaveError","handleFirstModelChange"),!t.model)throw"CaptionView requires an Upload model option";void 0===t.editable&&(t.editable=!0),void 0===t.trimLength&&(t.trimLength=-1),this.options=t,t.editable&&this.$el.addClass("editable"),this.captionText=n.span({class:"caption-text"}),this.captionEditIcon=n.span({class:"icon icon-edit"}),this.captionEditSpinner=n.span({class:"icon icon-spinner icon-spin"}),this.captionCallback=X.views.bindText(this.options.model,"caption",this.captionText,function(t){return this.options.trimLength<=0?t:X.views.limitStringLength(t,this.options.trimLength,!0)}.bind(this)),this.captionDisplay=n.div({class:"caption-display"},this.captionText,this.captionEditIcon,this.captionEditSpinner).appendTo(this.el),e(this.captionEditSpinner).hide(),e(this.captionDisplay).on("click",this.handleCaptionDisplayClick),this.captionEdit=n.div({class:"caption-edit"}).appendTo(this.el),e(this.captionEdit).hide(),this.captionEditInput=n.input({class:"form-control",type:"text"}).appendTo(this.captionEdit),e(this.captionEditInput).keyup(this.handleCaptionEditKeyup),e(this.captionEditInput).change(this.handleCaptionEditChange),this.captionEditCallback=X.views.bindInput(this.options.model,"caption",this.captionEditInput),this.captionEditSaveIcon=n.span({class:"icon icon-check-small-circle"}).appendTo(this.captionEdit),e(this.captionEditSaveIcon).on("click",this.handleCaptionEditChange),0==t.editable?e(this.captionEditIcon).hide():this.model.isNew()&&(e(this.captionEditIcon).hide(),this.content=this.model.getContent(),this.listenTo(t.model,"all",this.handleFirstModelChange))},remove:function(){l.View.prototype.remove.call(this),this.model.off(null,this.captionCallback,this),this.model.off(null,this.captionEditCallback,this)},handleFirstModelChange:function(){this.content!==this.model.getContent()&&(this.content=null,this.options.editable&&e(this.captionEditIcon).show(),this.stopListening(this.options.model,"change",this.handleFirstModelChange))},handleCaptionEditChange:function(){var t=e(this.captionEditInput).val();e(this.captionDisplay).show(),e(this.captionEdit).hide(),t!=this.originalCaption&&(this.saving=!0,e(this.captionEditIcon).hide(),e(this.captionEditSpinner).show(),this.model.save({caption:t},{patch:!0,success:this.handleCaptionSaveSuccess,error:this.handleCaptionSaveError}))},handleCaptionSaveSuccess:function(){this.saving=!1,e(this.captionEditIcon).show(),e(this.captionEditSpinner).hide(),analytics.track("Rename File",{location:"not folders"})},handleCaptionSaveError:function(){this.saving=!1,e(this.captionEditIcon).show(),e(this.captionEditSpinner).hide()},handleCaptionDisplayClick:function(){0!=this.options.editable&&(this.originalCaption=this.model.get("caption"),e(this.captionDisplay).hide(),e(this.captionEdit).show(),e(this.captionEditInput).focus(),this.captionEditInput.setSelectionRange(0,this.captionEditInput.value.length))},cancelCaptionEdit:function(){this.model.set("caption",this.originalCaption),e(this.captionEditInput).val(this.originalCaption),e(this.captionDisplay).show(),e(this.captionEdit).hide()},handleCaptionEditKeyup:function(t){27!=t.keyCode?13!=t.keyCode||this.handleCaptionEditChange():this.cancelCaptionEdit()}}),le.views.UploadItemView=l.View.extend({className:"upload-item-view",initialize:function(t){if(m.bindAll(this,"handleChange","handleUploadProgress","setSelectable","setSelected","handleMaxCountElClick","handleContentSharesCountChange","updateMaxCountEl"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"UploadItemView requires a User user option";this.options=t,this.content=this.options.model.getContent(),this.originalCaption=null,this.saving=!1,this.maxRecipientCount=6,this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.thumbnailWrapper=n.div({class:"upload-thumbnail-wrapper"}).appendTo(this.cardWrapper),this.uploadThumbnailView=new le.views.UploadThumbnailView({model:this.model}),this.thumbnailWrapper.appendChild(this.uploadThumbnailView.el),this.shareMaxCountEl=n.a({href:"#"}),this.updateMaxCountEl(),e(this.shareMaxCountEl).on("click",this.handleMaxCountElClick),this.contentSharesView=new _t({collection:this.model.getContentShares(),user:t.user,itemView:le.views.ContentShareRecipientView,maxCount:this.maxRecipientCount,maxCountEl:this.shareMaxCountEl,filter:function(t){return null==t.get("withdrawn")},comparator:function(t,e){return t.getRecipient().get("display_name")==e.getRecipient().get("display_name")?0:t.getRecipient().get("display_name")<e.getRecipient().get("display_name")?-1:1}}),this.listenTo(this.model,J.UpdatedByEvent,function(){this.updateMaxCountEl(),this.contentSharesView.refilterItems()}.bind(this)),this.contentSharesView.$el.addClass("content-shares-recipients-list"),this.thumbnailWrapper.appendChild(this.contentSharesView.el),this.timeDisplay=n.div({class:"item-timestamp"}).appendTo(this.cardWrapper),this.timeCallback=X.views.bindText(this.model,"xmp_create_date",this.timeDisplay,X.views.formatRestTimestamp),this.uploadFavoriteAndCommentCountsView=new le.views.UploadFavoriteAndCommentCountsView({model:t.model,user:t.user}),this.cardWrapper.appendChild(this.uploadFavoriteAndCommentCountsView.el),this.uploadCaptionView=new le.views.UploadCaptionView({model:t.model,editable:t.model.isNew()||t.model.getOwner().id==t.user.id,trimLength:$t}),this.cardWrapper.appendChild(this.uploadCaptionView.el),this.listenTo(this.model,"change",this.handleChange),this.listenTo(this.model,Ut,this.handleUploadProgress),this.listenTo(this.model.getContentShares(),"add remove reset",this.handleContentSharesCountChange)},remove:function(){l.View.prototype.remove.call(this),this.model.off(null,this.timeCallback,this),this.model.off(null,this.captionCallback,this),this.model.off(null,this.captionEditCallback,this),this.uploadCaptionView.remove(),this.uploadThumbnailView.remove(),this.contentSharesView.remove(),this.uploadFavoriteAndCommentCountsView.remove()},handleContentSharesCountChange:function(){this.updateMaxCountEl()},updateMaxCountEl:function(){var t=this.model.getContentShares().getNonWithdrawnCount()-this.maxRecipientCount+1;e(this.shareMaxCountEl).text("+"+t)},handleMaxCountElClick:function(t){t&&t.preventDefault(),this.model.trigger(jt,this.model)},isSelected:function(){return this.uploadThumbnailView.selected},setSelectable:function(t){this.uploadThumbnailView.setSelectable(t)},setSelected:function(t){this.uploadThumbnailView.setSelected(t)},handleChange:function(){var t=this.model.getContent();this.content!==t&&(this.content=t,this.uploadThumbnailView.renderImage())},handleUploadProgress:function(t,e){if(e.loaded>=e.total)this.$el.find(".blank-thumbnail .message").empty().text("Processing... ");else if(0!=e.total){var i=Math.round(e.loaded/e.total*100);this.$el.find(".blank-thumbnail .message").empty().text("Uploading... "+i+"%")}else this.$el.find(".blank-thumbnail .message").empty().text("Uploading... ")}}),le.views.SharedUploadItemView=l.View.extend({className:"shared-upload-item-view",initialize:function(t){t.user,t.model,this.options=t,this.uploadItemView=new le.views.UploadItemView({model:t.model.getUpload(),user:t.user}),this.el.appendChild(this.uploadItemView.el),this.senderView=new ee.views.UserItemView({model:t.model.getSender()}),this.el.appendChild(this.senderView.el)}}),le.views.CommentIconView=l.View.extend({className:"comment-icon-view icon-view",events:{click:"handleClick"},initialize:function(t){if(m.bindAll(this,"handleClick"),!t.model)throw"Requires an Upload model option";this.options=t,this.commentIcon=n.div({class:"icon icon-comment"}).appendTo(this.el)},handleClick:function(t){t&&t.preventDefault(),this.model.trigger(jt,this.model),e(".comment-input").focus()}}),le.views.FavoriteIconView=l.View.extend({className:"favorite-icon-view icon-view",events:{click:"handleClick"},initialize:function(t){if(m.bindAll(this,"render","handleClick","isUsersFavorite","getUsersFavorite","handleSaveSuccess","handleSaveError"),!t.model)throw"Requires an Upload model option";if(!t.user)throw"Requires a user model option";if(!t.screenName)throw"FavoriteIconView requires a screenName option";this.options=t,this.options.useOutline=void 0!==t.useOutline&&t.useOutline,this.favorites=this.options.model.getFavorites(),this.saving=!1,this.backingHeart=n.span({class:"icon icon-heart-fill"}).appendTo(this.el),this.heartIcon=n.span({class:"icon icon-heart-border"}).appendTo(this.el),this.listenTo(this.favorites,"update change:withdrawn",this.render),this.render()},getUsersFavorite:function(){for(var t=0;t<this.favorites.length;t++){var e=this.favorites.at(t);if(!e.get("withdrawn")&&e.get("recipient").id==this.options.user.id)return e}return null},isUsersFavorite:function(){return null!=this.getUsersFavorite()},handleClick:function(t){if(t&&t.preventDefault(),!this.saving){var e=this.getUsersFavorite();if(null!=e)this.saving=!0,e.destroy({success:this.handleSaveSuccess,error:this.handleSaveError});else{if(this.model.getOwner().id!=this.options.user.id&&null==this.model.getContentShareForRecipient(this.options.user.id)&&this.model.get("is_public"))return void X.views.showMessageModal("Favorites","When you upload your own 360 or receive a 360 from others then this button will mark it as one of your favorites.");this.saving=!0,this.favorites.create({upload:this.model.id,recipient:this.model.get("owner").id},{success:this.handleSaveSuccess,error:this.handleSaveError})}this.render()}},handleSaveSuccess:function(t,e,i){this.saving=!1,this.render(),null==e.withdrawn?analytics.track("Mark Favorite",{own_media:this.model.getOwner().id==this.options.user.id}):analytics.track("Unmark Favorite",{own_media:this.model.getOwner().id==this.options.user.id})},handleSaveError:function(){this.saving=!1,this.render()},render:function(){this.saving||(this.isUsersFavorite()?(this.options.useOutline?e(this.backingHeart).css("display",""):e(this.heartIcon).removeClass("icon-heart-border").addClass("icon-heart"),this.$el.removeClass("empty-hearted")):(e(this.backingHeart).hide(),0==this.options.useOutline&&e(this.heartIcon).addClass("icon-heart-border").removeClass("icon-heart"),this.$el.addClass("empty-hearted")))}}),le.views.CountItemView=l.View.extend({className:"count-item-view",initialize:function(t){if(m.bindAll(this,"handleUserClick"),!t.user)throw"Requires a user option";if(!t.person)throw"Requires a person option";if(!t.userAttributeName)throw"Requires a userAttributeName";this.options=t,this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.userItemView=new ee.views.UserItemView({model:new ee.models.User(this.options.person[this.options.userAttributeName]),showFullName:!0}),this.cardWrapper.appendChild(this.userItemView.el),this.options.user.isNew()?this.listenToOnce(this.options.user,"reset sync",function(){this.options.user.id==this.options.person[this.options.userAttributeName].id&&this.userItemView.setDisplayName("Me")}.bind(this)):this.options.user.id==this.options.person[this.options.userAttributeName].id&&this.userItemView.setDisplayName("Me"),this.metadataEl=n.div({class:"metadata"}).appendTo(this.cardWrapper),this.countEl=n.span({class:"counts"}).appendTo(this.metadataEl),0==this.options.person.count||this.options.person.count>1?e(this.countEl).text(this.options.person.count+" Images"):e(this.countEl).text(this.options.person.count+" Image")},remove:function(){l.View.prototype.remove.call(this),this.userItemView.remove(),this.userItemView.$el.unbind()},handleUserClick:function(t){t&&t.preventDefault(),this.trigger(Vt,this.userItemView.model)}}),le.views.CountsView=l.View.extend({className:"counts-view",initialize:function(t){if(m.bindAll(this,"handleUserSelected","render"),!t.user)throw"Requires a user option";if(!t.model)throw"Requires a model option";if(!t.userFieldName)throw"Requires a userFieldName option";if(!t.userAttributeName)throw"Requires a userAttributeName option";this.options=t,this.itemViews=new Array,this.list=n.ul().appendTo(this.el),this.options.emptyEl&&(e(this.options.emptyEl).addClass("empty-message"),this.emptyMessage=n.div({class:"empty-collection-view-message"}).appendTo(this.el),e(this.emptyMessage).append(this.options.emptyEl)),this.render(),this.listenTo(this.options.model,"change",this.render),this.listenToOnce(this.options.user,"reset sync",this.render)},render:function(){for(var t=0;t<this.itemViews.length;t++)this.itemViews[t].remove(),this.stopListening(this.itemViews[t]);if(this.itemViews=new Array,!this.options.model.isNew()){var i=this.options.model.get(this.options.userFieldName);i.sort(function(t,e){return t[this.options.userAttributeName].id==this.options.user.id?-1:e[this.options.userAttributeName].id==this.options.user.id?1:t[this.options.userAttributeName].id==e[this.options.userAttributeName].id||t[this.options.userAttributeName].display_name==e[this.options.userAttributeName].display_name?0:t[this.options.userAttributeName].display_name<e[this.options.userAttributeName].display_name?-1:1}.bind(this));for(t=0;t<i.length;t++)this.itemViews[this.itemViews.length]=new le.views.CountItemView({user:this.options.user,person:i[t],userAttributeName:this.options.userAttributeName}),this.list.appendChild(this.itemViews[this.itemViews.length-1].el),this.listenTo(this.itemViews[this.itemViews.length-1],Vt,this.handleUserSelected);return this.emptyMessage&&e(this.emptyMessage).toggle(0==this.itemViews.length),this.el}},handleUserSelected:function(t){this.trigger(Vt,t)}}),le.views.NewUploadView=l.View.extend({className:"new-upload-view",uploadFolder:null,uploadOnlyCollection:null,queuedUploads:[],currentUploadCount:0,maxConcurrentUploads:1,initialize:function(t){if(m.bindAll(this,"handleInputChange","handleUploadClick","handleDragOver","handleDragExit","handleDrop","handleNewFile","handleNewFiles","showInvalidFileTypeModal","isValidFile","handleDuplicateUploadCheckResponse","handleDuplicateSkip","handleDuplicateReupload","showFileSizeModal","showUploadErrorModal","handleUploadDrop"),!t.user)throw"NewUploadView requires a user option";if(!t.collection)throw"NewUploadView requires a collection option";this.options=t,this.lastModalTime=(new Date).getTime(),this.modalTimeBuffer=5e3,this.dropTarget=n.div({class:"upload-drop-target"}).appendTo(this.el),this.dropTarget.addEventListener("dragover",this.handleDragOver,!1),this.dropTarget.addEventListener("dragexit",this.handleDragExit,!1),this.dropTarget.addEventListener("drop",this.handleDrop,!1),this.uploadLink=n.a({class:"upload-media-anchor",href:"."},n.span({class:"icon icon-camera"}),n.span({class:"text"},"UPLOAD")).appendTo(this.dropTarget),e(this.uploadLink).on("click",this.handleUploadClick),this.form=n.form({class:"upload-form image-upload-form",enctype:"multipart/form-data",method:"post",action:"."}).appendTo(e("body")),this.fileInput=n.input({type:"file",name:"image",accept:Jt[st.FREE].join(","),multiple:"multiple"}).appendTo(this.form),e(this.fileInput).on("change",this.handleInputChange),this.listenTo(t.user,"change",function(){this.fileInput.accept=this.getUserTierAcceptedUploadTypes().join(",")}.bind(this))},setUploadFolder:function(t){return this.uploadFolder=t,this},setUploadOnlyCollection:function(t){return this.uploadOnlyCollection=t,this},isValidFile:function(t){var e=this.getUserTierAcceptedUploadTypes();return-1!==m.indexOf(e,t.type)&&!this.isFileTooBig(t)},isFileTooBig:function(t){return t.size>=1e6*nt[this.options.user.get("account_tier")]},getUserTierAcceptedUploadTypes:function(){var t=this.options.user.get("account_tier");return t in Jt?Jt[t]:Jt[st.FREE]},handleNewFiles:function(t){if(!this.options.user.isNew()){if(0==this.options.user.get("email_validated"))return ee.views.showEmailValidationModal(this.options.user),!1;for(var i=0;i<t.length;i++)if(!this.isValidFile(t[i]))return void(this.isFileTooBig(t[i])?(this.showFileSizeModal(),analytics.track("file too large",{"file size":t[i].size})):(this.showInvalidFileTypeModal(),analytics.track("invalid upload type",{"file type":t[i].type})));var n={file_names:[],file_sizes:[]},r=0,o=0;for(i=0;i<t.length;i++)n.file_names[i]=t[i].name,n.file_sizes[i]=t[i].size,-1!=m.indexOf(Qt,t[i].type)?r+=1:-1!=m.indexOf(Zt,t[i].type)&&(o+=1);n.file_names=n.file_names.join("*"),n.file_sizes=n.file_sizes.join(","),this.newFiles=t,e.ajax({type:"POST",dataType:"json",url:rt+"duplicate-upload-check/",data:n,success:this.handleDuplicateUploadCheckResponse,error:function(){console.error("Duplicate check error",arguments),this.showUploadErrorModal()}.bind(this)}),r>0&&analytics.track("Upload Media",{category:"activation",upload_count:r,media_type:"photo"}),o>0&&analytics.track("Upload Media",{category:"activation",upload_count:o,media_type:"video"}),analytics.identify({"last upload":(new Date).toISOString()});var a=[];r>0&&(a[a.length]="photo"),o>0&&(a[a.length]="video"),a.length>0&&analytics.identify({"media uploaded":a})}},handleDuplicateUploadCheckResponse:function(t){if(!0===t.exceeds_upload_limit){var i=this.options.user.get("account_tier"),r=dt(this.options.user.get("account_storage_limit")),o=n.div({class:"logos upsell-logos"},n.span({class:"icon fal fa-tachometer-alt-fastest"})),a=n.div({class:"text-center bulk-actions-modal"},n.h3("You're Out of Space!"),o,n.p("You are limited to ".concat(r," storage.")),i==st.FREE?n.p("Upgrade to unlock additional storage, unlimited links and more!"):i==st.PLUS?n.p("Upgrade to unlock additional storage and more!"):n.p("Contact ",n.a({href:"mailto:support@momento360.com"},"support@momento360.com")," to add additional storage."));return new Z({modalBody:a,primaryActionLabel:i<st.PRO?"UPGRADE PLAN":"DISMISS",primaryActionClass:"enable-sharing-button btn-primary thin-button btn-center",disableSecondaryAction:!0,verticalPosition:"top",onPrimaryAction:function(){return i<st.PRO&&(window.location.href="/billing/upgrade"),!0}}).open(),analytics.track("Exceeded Account Limit",{account_tier:window.user.attributes.account_tier,account_storage_limit:window.user.attributes.account_storage_limit}),analytics.track("Show Storage Limit Upsell",{account_tier:window.user.attributes.account_tier,account_storage_limit:window.user.attributes.account_storage_limit}),void analytics.identify({exceeded_storage_limit:!0})}if(0===t.duplicates.length){for(var s=0;s<this.newFiles.length;s++)this.handleNewFile(this.newFiles[s]);return this.newFiles=null,void e(this.fileInput).val(null)}this.duplicateData=t.duplicates;var l=[];for(s=0;s<this.duplicateData.length;s++)l[s]=this.duplicateData[s][0];var c=n.div(n.p("Some of those files have already been uploaded. Would you like to skip the duplicate files or re-upload them?"),n.p("These are the duplicates: ",l.join(" ")));this.duplicateModal=X.views.generateModal("Duplicates",c,[{text:"Skip duplicates",callback:this.handleDuplicateSkip},{text:"Re-upload",callback:this.handleDuplicateReupload}]),e("body").append(this.duplicateModal),e(this.duplicateModal).modal()},handleDuplicateSkip:function(){e(this.duplicateModal).modal("hide"),this.duplicateModal=null;for(var t={},i=0;i<this.duplicateData.length;i++)t[this.duplicateData[i][0]]=this.duplicateData[i][1];for(i=0;i<this.newFiles.length;i++)t[this.newFiles[i].name]!=this.newFiles[i].size&&(this.triggeredEvent=!0,this.handleNewFile(this.newFiles[i]));this.newFiles=null,this.duplicateData=null,e(this.fileInput).val(null)},handleDuplicateReupload:function(){e(this.duplicateModal).modal("hide"),this.duplicateModal=null;for(var t=0;t<this.newFiles.length;t++)this.handleNewFile(this.newFiles[t]);this.newFiles=null,this.duplicateData=null,e(this.fileInput).val(null)},showFileSizeModal:function(){var t=n.p("Consider ",n.a({class:"upsell-link out-link",target:"_blank",href:"/billing/upgrade/"},"upgrading your plan")," to increase your size limit. ",n.a({class:"upsell-link out-link",target:"_blank",href:"/billing/upgrade/"},"Learn more.")),e=n.p("If you need more please contact ",n.a({class:"upsell-link out-link",target:"_blank",href:"mailto:support@momento360.com"},"support@momento360.com")," and we will help you out."),i=n.div(n.p("Sorry, the file you're uploading is bigger than your current plan's limit."),n.p("Your current plan limits the max size per file to ",nt[this.options.user.get("account_tier")]," MB."));this.options.user.get("account_tier")>=st.PRO?i.appendChild(e):i.appendChild(t),X.views.showMessageModal("File Too Large",i)},showUploadErrorModal:function(){if(!((new Date).getTime()<this.lastModalTime+this.modalTimeBuffer)){this.lastModalTime=(new Date).getTime();var t=n.div("There was a problem uploading your 360s. Visit our ",n.a({href:"http://help.momento360.com/article/17-error-when-uploading-360s"},"help page")," if this continues.");X.views.showMessageModal("Uh-oh!",t)}},checkUploadQueue:function(){if(this.maxConcurrentUploads=te[this.options.user.get("account_tier")],this.queuedUploads.length<1)this.uploadFolder&&this.trigger(J.RefreshFileManager);else if(this.currentUploadCount<this.maxConcurrentUploads){this.currentUploadCount++;var t=this.queuedUploads.shift(),e=t.upload,i=t.file;e.save(null,{success:function(t){t.saving=!1,this.currentUploadCount=Math.max(this.currentUploadCount-1,0),this.uploadFolder&&J.throttledTrigger(this,J.RefreshFileManager,3),this.checkUploadQueue()}.bind(this),error:function(t,e){console.error("Error uploading a 360",this,arguments),t.saving=!1,t.destroy();var i={"http status code":e.status,"file size":this.file.size,"file type":this.file.type};413==e.status?(this.view.showFileSizeModal(),i["failed file size"]=this.file.size):this.view.showUploadErrorModal(),analytics.track("Upload Media Failed",i)}.bind({view:this,file:i})})}},enqueueUpload:function(t){this.queuedUploads.push(t),this.checkUploadQueue()},handleNewFile:function(t){if(!this.isValidFile(t))return!1;var e={original:t};this.uploadFolder&&(e.folder_uuid=this.uploadFolder.get("uuid"));var i=new le.models.Upload(e);return i.saving=!0,this.collection.add(i,{at:0}),this.uploadOnlyCollection&&this.uploadOnlyCollection.add(i),this.enqueueUpload({upload:i,file:t}),!0},handleDragOver:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy",e(this.dropTarget).css("border-color","#5cb85c")},handleDragExit:function(t){t.stopPropagation(),t.preventDefault(),e(this.dropTarget).css("border-color","")},handleDrop:function(t){t.stopPropagation(),t.preventDefault(),e(this.dropTarget).css("border-color",""),0!=t.dataTransfer.files.length&&(this.trigger(Yt),this.handleNewFiles(t.dataTransfer.files))},showInvalidFileTypeModal:function(){var t=this.getUserTierAcceptedUploadTypes().map((function(t){switch(t){case"image/jpeg":return"JPG";case"image/png":return"PNG";case"video/mp4":return"MP4";case"video/quicktime":return"MOV";default:return null}})).filter((function(t){return null!==t})),e=1===t.length?"".concat(t[0]):2===t.length?"".concat(t[0]," and ").concat(t[1]):"".concat(t.slice(0,t.length-1).join(", "),", and ").concat(t[t.length-1]),i=n.div(n.p("There was a problem uploading the file. We currently only support ".concat(e," files.")),n.p("For more details, ",n.a({target:"_blank",href:"http://help.momento360.com/article/7-problems-uploading-files"},"click here")));new tt({titleText:"Unknown file type",body:i,showCancel:!1}).show()},handleInputChange:function(t){if(t.stopPropagation(),t.preventDefault(),0!=this.fileInput.files.length)return this.handleNewFiles(this.fileInput.files),!1},handleUploadClick:function(t,i){if(t&&(t.stopPropagation(),t.preventDefault()),void 0===i&&(i=!0),!this.options.user.isNew())return!1===this.options.user.get("email_validated")?(ee.views.showEmailValidationModal(this.options.user),!1):(i&&this.trigger(Yt),e(this.fileInput).trigger("click"),!1)},handleUploadDrop:function(t){if(!this.options.user.isNew())return!1===this.options.user.get("email_validated")?(ee.views.showEmailValidationModal(this.options.user),!1):void this.handleNewFiles(t)}}),le.views.UploadsView=l.View.extend({className:"share-uploads-view row",initialize:function(t){if(m.bindAll(this,"handleUploadAdd","handleModelDeletedChanged"),!t.user)throw"UploadsView requires a User user option";if(!t.collection)throw"Requires a collection option";this.options=t,this.selectable=!1,this.collectionView=new _t({collection:this.options.collection,itemView:le.views.UploadItemView,itemOptions:{user:this.options.user},emptyEl:t.emptyEl,addCallback:this.handleUploadAdd,filter:function(t){return null==t.get("deleted")&&!t.get("hidden")},comparator:X.views.generateModelFieldComparator("created",!0)}),this.el.appendChild(this.collectionView.el),this.listenTo(this.options.collection,"change:deleted",this.handleModelDeletedChanged)},reset:function(){this.collectionView.reset()},handleModelDeletedChanged:function(t){t.get("deleted")&&this.options.collection.remove(t)},handleUploadAdd:function(t,e){this.selectable&&(e.setSelected(!1),e.setSelectable(!0))},getSelectedUploads:function(){for(var t=[],e=0;e<this.collectionView.itemViews.length;e++)this.collectionView.itemViews[e].isSelected()&&(t[t.length]=this.collectionView.itemViews[e].model);return t},setSelectable:function(t){if(t!=this.selectable)if(this.selectable=t,this.selectable)for(var e=0;e<this.collectionView.itemViews.length;e++)this.collectionView.itemViews[e].setSelected(!1),this.collectionView.itemViews[e].setSelectable(!0);else for(e=0;e<this.collectionView.itemViews.length;e++)this.collectionView.itemViews[e].setSelected(!1),this.collectionView.itemViews[e].setSelectable(!1)}}),t.exports=le}).call(this,i(2),i(4))},function(t,e){var i=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(24);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){"use strict";var n=i(10);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,i){(function(e,n){var r=i(3),o=i(5),a=i(35),s=i(8),l=s.API_ROOT,c=s.BLANK_PORTRAIT_URL,u=s.TIERS,h=i(12),d=i(80),p=i(90),f=i(13),m=i(153),g=i(343),v=i(345),y={};y.views=y.views||{},y.models=y.models||{},y.events=y.events||{},y.events.UserPicked="user-picked",y.events.UserSearchResultPicked="user-search-result-picked",y.events.InvitedUserCreated="invited-user-created",y.events.ExistingInviteAttempted="existing-invite-attempted",y.events.InviteExistingUserAttempted="invite-existing-user-attempted",y.events.ManageConnectionsRequested="manage-connections-requested",y.events.EditPortraitRequested="edit-portrait-requested",y.events.NewPortraitSet="new-portrait-set",y.events.ChangePasswordRequested="change-password-requested",y.events.PasswordChanged="password-changed",y.views.UserSearchQueryLimit=20,y.models.User=m.extend({PREMIUM_FEATURES:{bulk_actions:[u.PRO,u.VIP]},canAccess:function(t){return!(t in this.PREMIUM_FEATURES)||this.PREMIUM_FEATURES[t].includes(this.get("account_tier"))},url:function(){return this.isNew()?l+"auth/":l+"user/"+this.get("uuid")},isNew:function(){return!this.get("uuid")},parse:function(t,e){return void 0===t.user?t:t.user},displayName:function(){if(this.get("display_name"))return this.get("display_name");var t=this.get("first_name")||"";return this.get("last_name")&&(t=t?t+" "+this.get("last_name"):this.get("last_name")),t||(this.get("username")?this.get("username"):"")},getInitials:function(){if(!this.get("first_name")&&!this.get("last_name")&&!this.get("display_name"))return"";var t=this.get("first_name")||"";return t&&(t=t[0].trim()),this.get("last_name").trim()&&(t+=this.get("last_name").trim()[0]),0==t.length&&this.get("display_name").trim()&&(t=this.get("display_name").trim()[0]),t.toUpperCase()}}),y.models.Users=p.extend({model:y.models.User,baseUrl:function(){return l+"recipient/"}}),y.models.UserSettings=r.Model.extend({isNew:function(){return 0==this.attributes.length},url:function(){return l+"user-settings/"}}),y.models.UserPaidCustomizationsModel=r.Model.extend({isNew:function(){return 0==this.attributes.length},url:function(){return l+"user-settings/"},defaults:{account_tier:"",stripe_id:"",custom_branding_target_url:"",custom_branding_logo_src_url:"",show_annotation_author_email:!1}}),y.views.UserBillingPortalButtonView=r.View.extend({template:o.template(e("#user-billing-portal-tmpl").html()||""),expanded:!1,events:{"click .billing-portal-link":"displayBillingForm","click .billing-info-link":"expandBillingInfoSection"},expandBillingInfoSection:function(t){t.preventDefault(),analytics.track("Expand Billing Info Section"),this.expanded=!0,this.render()},displayBillingForm:function(t){t.preventDefault(),e("#billing-portal-form").submit()},initialize:function(){this.listenTo(this.model,"sync change",this.render),this.render()},render:function(){var t=this.template(this.model.toJSON());return this.$el.html(t),this.expanded?(e(".billing-info-expanded").show(),e(".billing-info-closed").hide()):(e(".billing-info-expanded").hide(),e(".billing-info-closed").show()),this}}),y.views.UserPaidCustomizationsView=r.View.extend({template:o.template(e("#user-customizations-tmpl").html()||""),initialize:function(){this.listenTo(this.model,"sync change",this.render),this.model.fetch(),this.render()},render:function(){var t=this.template(this.model.toJSON());return this.$el.html(t),this}}),y.views.SetUserCustomizationsView=r.View.extend({template:o.template(e("#user-customizations-detail-tmpl").html()||""),visibility:!1,events:{"click .manage-annotation-markers":"handleManageAnnotationMarkersClick","click .customizations-show-link":"displayCustomizationSection","click .change-img-link":"uploadImg","click .reset-img-link":"resetImg","click .set-url-btn":"saveTargetURL","click .clear-url-btn":"resetURL","change select[name=show_annotation_author_email]":"handleShowAnnotationAuthorEmailChange"},handleManageAnnotationMarkersClick:function(t){t.preventDefault();var e=(this.model?parseInt(this.model.get("account_tier")):0)>u.PLUS;(e?new v({user:user,disableFade:!0,size:"lg"}):new g({user:user})).open(),e?analytics.track("Custom Marker: Open Manage Markers Modal",{launch_point:"Account Page"}):analytics.track("Show Custom Markers Upsell",{account_tier:window.user.attributes.account_tier,upsell_point:"Account Page"})},handleShowAnnotationAuthorEmailChange:function(t){var i="true"===e(t.currentTarget).val();this.model.save({show_annotation_author_email:i}),analytics.track("Set Annotation Author Email Option",{email:window.user.attributes.email,account_tier:window.user.attributes.account_tier,show_email:i})},displayCustomizationSection:function(t){t.preventDefault(),this.visibility=!0,this.render()},saveTargetURL:function(t){t.preventDefault();var i=e("#target-url-input").val().trim();h.weburl_regex.test(i)||h.mailto_regex.test(i)?(this.model.save({custom_branding_target_url:i}),analytics.track("Set Target URL",{target_url:i})):e("#url-invalid-message").show()},resetURL:function(t){t.preventDefault();var e=n.p("Are you sure you wish to clear the target URL?");new f({model:this.model,title:"Clear URL",modalBody:e,primaryActionLabel:"Remove",primaryActionClass:"btn-delete",onPrimaryAction:this.executeClearTargetURL.bind(this)}).open()},executeClearTargetURL:function(){return analytics.track("Clear Target",{target_url:this.model.attributes.custom_branding_target_url}),this.model.save({custom_branding_target_url:""}),!0},resetImg:function(t){t.preventDefault();var e=n.p("Are you sure you wish to clear your logo?");new f({model:this.model,title:"Clear Logo",modalBody:e,primaryActionLabel:"Remove",primaryActionClass:"btn-delete",onPrimaryAction:this.executeClearLogoURL.bind(this)}).open()},executeClearLogoURL:function(t){return analytics.track("Clear Logo",{img_url:this.model.attributes.custom_branding_logo_src_url}),this.model.save({custom_branding_logo_src_url:""}),!0},uploadImg:function(t){t.preventDefault();var e=h.getFilestackClient(),i={fromSources:["local_file_system","url","imagesearch","googledrive","dropbox","box","onedrive"],accept:["image/*"],maxFiles:1,minFiles:1,transformations:{crop:!0,rotate:!0},maxSize:42e5,onUploadDone:o.bind(this.handleFilestack,this)};e.picker(i).open()},handleFilestack:function(t){t.filesUploaded.length>0&&(uploaded=t.filesUploaded[0],this.model.save({custom_branding_logo_src_url:uploaded.url}),analytics.track("Set Logo",{img_url:uploaded.url}))},initialize:function(){this.listenTo(this.model,"sync change",this.render),this.model.fetch(),this.render()},render:function(){var t=this.template(this.model.toJSON());return this.$el.html(t),e("#url-invalid-message").hide(),this.visibility?(e(".customization-body").show(),e(".customization-controls").hide(),e(".custom-url-preview").hide()):(e(".customization-body").hide(),e(".customization-controls").show(),e(".custom-url-preview").show()),this}}),y.models.resetPassword=function(t,i,n,r,o){e.ajax({type:"POST",url:l+"reset-password/"+t+"/"+i,data:{password:n},success:function(){r&&r.apply(this,arguments)},error:function(){o&&o.apply(this,arguments)}})},y.models.postFilePortrait=function(t,i,n){var r=new FormData;r.append("name",t.name),r.append("portrait",t),e.ajax({type:"POST",url:l+"portrait/",data:r,processData:!1,contentType:!1,success:function(){i&&i.apply(this,arguments)},error:function(){n&&n.apply(this,arguments)}})},y.models.postBase64Portrait=function(t,i,n){e.ajax({type:"POST",dataType:"json",url:l+"portrait/",data:{base64PNGData:t},success:function(){i&&i.apply(this,arguments)},error:function(){n&&n.apply(this,arguments)}})},y.models.changePassword=function(t,i,n,r,o){var a={old_password:t,new_password1:i,new_password2:n};e.ajax({type:"POST",url:l+"password/",data:a,success:function(){r&&r.apply(this,arguments)},error:function(){o&&o.apply(this,arguments)}})},y.models.resendEmailValidationEmail=function(t,i){e.ajax({type:"POST",url:l+"email-validation/",data:{},success:function(){t&&t.apply(this,arguments)},error:function(){i&&i.apply(this,arguments)}})},y.models.resendInviteEmail=function(t,i,n){e.ajax({type:"POST",url:l+"resend-invite/"+t+"/",data:{},success:function(){i&&i.apply(this,arguments)},error:function(){n&&n.apply(this,arguments)}})},y.views.showEmailValidationModal=function(t){var i=!1,r=n.div(n.p("In order to use the service, we need to make sure we have the right email address associated with your account."),n.p("Please check your email (including your spam folder) and click on the link to verify your account."),n.p("The email we have on record is: "+t.get("email"))),o=function(){i=!1,c.innerHTML="Sent...",setTimeout(function(){e(this.modal).modal("hide")}.bind({modal:l}),2e3)},s=function(){i=!1,c.innerHTML="Error!",setTimeout(function(){e(this.modal).modal("hide")}.bind({modal:l}),1e3)},l=a.views.generateModal("Unverified email address",r,[{text:"Resend verification email",callback:function(){i||(i=!0,c.innerHTML="Sending...",y.models.resendEmailValidationEmail(o,s))}},{text:"Close",callback:function(){e(l).modal("hide")}}]),c=e(l).find(".modal-footer button")[0];e("body").append(l),e(l).modal()},y.views.ResetPasswordView=r.View.extend({className:"reset-password-view",events:{"click .reset-submit":"handleResetSubmit","click .try-again-button":"handleTryAgainClick"},initialize:function(t){if(o.bindAll(this,"validatePasswords","getPasswordData","handleTryAgainClick","handleResetSubmit","handleResetSuccess","handleResetError"),this.options=t,t.sentEmail)return this.el.appendChild(n.h1({class:"page-title"},"Email sent")),void this.el.appendChild(n.p("Check your inbox for a password reset email. If it does not show up in a few minutes, look in your spam folder."));if(this.viewErrors=n.div({class:"errors"}).appendTo(this.el),t.viewError&&this.viewErrors.appendChild(n.p(t.viewError)),t.userId&&t.uuid&&t.secret&&t.secretIsValid){this.form=n.form({class:"form thin-form"}).appendTo(this.el);var e=n.div({class:"form-group"}).appendTo(this.form);this.passwordInput=n.input({type:"password",placeholder:"Password"}).appendTo(e),this.passwordError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.passwordAgainInput=n.input({type:"password",placeholder:"Password again"}).appendTo(e),this.passwordAgainError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.submitButton=n.button({class:"reset-submit",type:"submit"},"Change password").appendTo(e)}else if(t.uuid&&!t.userId||t.secret&&!t.secretIsValid)this.viewErrors.appendChild(n.p("This link is no longer valid.")),this.el.appendChild(n.button({type:"button",class:"try-again-button thin-button"},"Try again"));else{this.form=n.form({class:"form thin-form",action:"#",method:"POST"}).appendTo(this.el);e=n.div({class:"form-group"}).appendTo(this.form);this.emailInput=n.input({type:"text",name:"email",placeholder:"Email"}).appendTo(e),this.emailError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.submitButton=n.button({type:"submit"},"Request reset email").appendTo(e),e.appendChild(n.input({type:"hidden",name:"csrfmiddlewaretoken",value:h.getCsrfToken()}))}},handleTryAgainClick:function(){document.location.href="/p/password-reset/"},getPasswordData:function(){return{password1:e(this.passwordInput).val()||"",password2:e(this.passwordAgainInput).val()||""}},validatePasswords:function(){var t=this.getPasswordData(),i=!0;return this.$el.find(".error").val(""),""==t.password1&&(e(this.passwordError).text("This field is required"),i=!1),""==t.password2&&(e(this.passwordAgainError).text("This field is required"),i=!1),""!=t.password1&&""!=t.password2&&t.password1!=t.password2&&(e(this.passwordAgainError).text("Passwords do not match"),i=!1),i},handleResetSubmit:function(t){if(t&&t.preventDefault(),0==this.validatePasswords())return!1;var e=this.getPasswordData();return y.models.resetPassword(this.options.uuid,this.options.secret,e.password1,this.handleResetSuccess,this.handleResetError),!1},handleResetSuccess:function(){e(this.form).hide(),this.modal=a.views.generateModal("Password reset",n.div("Your password has been reset."),[{text:"Ok",callback:this.handleModalAction}]),e(document.body).append(this.modal),e(this.modal).modal(),analytics.track("Reset Password")},handleModalAction:function(t){e(this.modal).modal("hide"),this.modal=null,document.location.href="/"},handleResetError:function(){console.error("Error",arguments)}}),y.views.AccountPageView=r.View.extend({className:"account-page-view",events:{"click .back-link":"handleBackClick"},initialize:function(t){if(o.bindAll(this,"showSettings","showConnections","showPortraitEditor","handleBackClick","handleNewPortraitSet","handlePasswordChanged"),!t.user)throw"AccountPageView requires a user option";if(!t.userSettings)throw"AccountPageView requires a userSettings option";if(!t.contentAcceptances)throw"Requires a contentAcceptances option";this.options=t,this.mode=null,this.topBar=n.div({class:"top-bar"}).appendTo(this.el),this.barTitleEl=n.div({class:"title"},"ACCOUNT SETTINGS").appendTo(this.topBar),this.backEl=n.a({class:"back-link title"},"Back").appendTo(this.topBar),this.container=n.div({class:"container account-page-container"}).appendTo(this.el),this.row=n.div({class:"row"}).appendTo(this.container),this.column=n.div({class:"account-column"}).appendTo(this.row),this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.column),this.settingsView=new y.views.AccountSettingsView({user:t.user,userSettings:t.userSettings,hidePaidOptions:t.hidePaidOptions}),this.cardWrapper.appendChild(this.settingsView.el),this.listenTo(this.settingsView,y.events.ManageConnectionsRequested,this.showConnections),this.listenTo(this.settingsView,y.events.EditPortraitRequested,this.showPortraitEditor),this.listenTo(this.settingsView,y.events.ChangePasswordRequested,this.showChangePassword),this.connectionManagerView=new y.views.ConnectionManagerView({user:t.user,collection:t.contentAcceptances}),this.cardWrapper.appendChild(this.connectionManagerView.el),this.portraitEditorView=new y.views.PortraitEditorView({model:t.user}),this.cardWrapper.appendChild(this.portraitEditorView.el),this.listenTo(this.portraitEditorView,y.events.NewPortraitSet,this.handleNewPortraitSet),this.changePasswordView=new y.views.ChangePasswordView({model:t.user}),this.cardWrapper.appendChild(this.changePasswordView.el),this.listenTo(this.changePasswordView,y.events.PasswordChanged,this.handlePasswordChanged),this.showSettings()},showSettings:function(){this.mode=y.views.AccountPageView.SettingsMode,e(this.barTitleEl).show(),e(this.backEl).hide(),this.settingsView.$el.show(),this.connectionManagerView.$el.hide(),this.portraitEditorView.$el.hide(),this.changePasswordView.$el.hide()},showConnections:function(){this.mode=y.views.AccountPageView.ConnectionManagerMode,e(this.barTitleEl).hide(),e(this.backEl).show(),this.settingsView.$el.hide(),this.connectionManagerView.$el.show(),this.portraitEditorView.$el.hide(),this.changePasswordView.$el.hide()},showPortraitEditor:function(){this.mode=y.views.AccountPageView.ConnectionManagerMode,e(this.barTitleEl).hide(),e(this.backEl).show(),this.settingsView.$el.hide(),this.connectionManagerView.$el.hide(),this.portraitEditorView.showPrep(),this.portraitEditorView.$el.show(),this.changePasswordView.$el.hide()},showChangePassword:function(){this.mode=y.views.AccountPageView.ChangePasswordMode,e(this.barTitleEl).hide(),e(this.backEl).show(),this.settingsView.$el.hide(),this.connectionManagerView.$el.hide(),this.portraitEditorView.$el.hide(),this.changePasswordView.clearInput(),this.changePasswordView.$el.show(),this.changePasswordView.focusInput()},handlePasswordChanged:function(){document.location.href="/p/"},handleNewPortraitSet:function(){this.options.user.fetch({success:function(t){a.views.updateNavProfileImage(t.get("portrait"))}}),this.showSettings()},handleBackClick:function(t){switch(t&&t.preventDefault(),this.mode){case y.views.AccountPageView.SettingsMode:return;case y.views.AccountPageView.ConnectionManagerMode:case y.views.AccountPageView.PortraitEditorMode:case y.views.AccountPageView.ChangePasswordMode:return void this.showSettings();default:console.error("Error, unknown mode during back click",this.mode)}}}),y.views.AccountPageView.SettingsMode="settings-mode",y.views.AccountPageView.ConnectionManagerMode="connection-manager-mode",y.views.AccountPageView.PortraitEditorMode="portrait-editor-mode",y.views.AccountPageView.ChangePasswordMode="change-password-mode",y.views.ChangePasswordView=r.View.extend({className:"change-password-view settings-view",events:{"click .submit-button":"handleSubmit","click #toggle-password-old":"handleToggleOldPasswordClick","click #toggle-password-1":"handleTogglePassword1Click","click #toggle-password-2":"handleTogglePassword2Click"},initialize:function(t){o.bindAll(this,"focusInput","getCleanedData","validate","handleSubmit","handleChangeSuccess","handleChangeError","handleModalAction"),this.options=t,this.changeInFlight=!1,this.el.appendChild(n.h3({class:"view-title"},"CHANGE PASSWORD")),this.viewError=n.div({class:"view-error"}).appendTo(this.el),this.form=n.form({class:"form thin-light-form"}).appendTo(this.el);var e=n.div({class:"form-group"}).appendTo(this.form);this.oldPassword=n.input({class:"form-input",type:"password",placeholder:"Current password"}),n.div({id:"old-password-container",class:"password-container"},n.div(this.oldPassword),n.div({class:"toggle-container"},n.i({class:"far fa-eye toggle-password-i",id:"toggle-password-old",title:"Reveal Password"}))).appendTo(e),this.oldPasswordError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.password1=n.input({class:"form-input",type:"password",placeholder:"New password"}),n.div({id:"old-password-container",class:"password-container"},n.div(this.password1),n.div({class:"toggle-container"},n.i({class:"far fa-eye toggle-password-i",id:"toggle-password-1",title:"Reveal Password"}))).appendTo(e),this.password1Error=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.password2=n.input({class:"form-input",type:"password",placeholder:"New password again"}),n.div({id:"old-password-container",class:"password-container"},n.div(this.password2),n.div({class:"toggle-container"},n.i({class:"far fa-eye toggle-password-i",id:"toggle-password-2",title:"Reveal Password"}))).appendTo(e),this.password2Error=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group button-group"}).appendTo(this.form),this.submitButton=n.button({type:"submit",class:"submit-button btn btn-primary thin-light-button"},"CHANGE YOUR PASSWORD").appendTo(e)},clearInput:function(){this.$el.find("input").val(""),e(this.viewError).empty(),e(this.oldPasswordError).empty(),e(this.password1Error).empty(),e(this.password2Error).empty()},focusInput:function(){e(this.currentPassword).focus()},getCleanedData:function(){return{old_password:e(this.oldPassword).val().trim(),new_password1:e(this.password1).val().trim(),new_password2:e(this.password2).val().trim()}},validate:function(){var t=!0,i=this.getCleanedData();return 0==i.old_password.length?(t=!1,e(this.oldPasswordError).text("This field is required.")):e(this.oldPasswordError).text(""),0==i.new_password1.length?(t=!1,e(this.password1Error).text("This field is required.")):e(this.password1Error).text(""),0==i.new_password2.length?(t=!1,e(this.password2Error).text("This field is required.")):i.new_password1&&i.new_password1!=i.new_password2?(t=!1,e(this.password2Error).text("The new passwords do not match.")):e(this.password2Error).text(""),t},handleSubmit:function(t){if(t&&t.preventDefault(),!this.changeInFlight&&0!=this.validate()){this.changeInFlight=!0;var e=this.getCleanedData();y.models.changePassword(e.old_password,e.new_password1,e.new_password2,this.handleChangeSuccess,this.handleChangeError)}},handleToggleOldPasswordClick:function(){this.handleTogglePasswordClick(e(this.oldPassword),e("#toggle-password-old"))},handleTogglePassword1Click:function(){this.handleTogglePasswordClick(e(this.password1),e("#toggle-password-1"))},handleTogglePassword2Click:function(){this.handleTogglePasswordClick(e(this.password2),e("#toggle-password-2"))},handleTogglePasswordClick:function(t,e){var i="password"===t.attr("type");t.attr("type",i?"text":"password"),e.toggleClass(["fa-eye","fa-eye-slash"])},handleChangeSuccess:function(){this.changeInFlight=!1,this.clearInput(),this.modal=a.views.generateModal("Password changed",n.div("Your password has been changed."),[{text:"Ok",callback:this.handleModalAction}]),e(document.body).append(this.modal),e(this.modal).modal()},handleModalAction:function(t){e(this.modal).modal("hide"),this.modal=null,this.trigger(y.events.PasswordChanged)},handleChangeError:function(t){this.changeInFlight=!1;var i=t.responseJSON;this.clearInput(),e(this.viewError).text(i.errorMessage||""),i.errors&&(e(this.oldPasswordError).text(i.errors.old_password||""),e(this.password1Error).text(i.errors.new_password1||""),e(this.password2Error).text(i.errors.new_password2||""))}}),y.views.AccountSettingsView=r.View.extend({className:"account-settings-view settings-view",events:{"click .manage-connections-link":"handleManageConnectionClick","click .toggle-daily-notifications-link":"handleToggleDailyNotificationsClick","click .toggle-marketing-emails-link":"handleToggleMarketingEmailsClick","click .edit-portrait-link":"handleEditPortraitClick","click .portrait-section-portrait":"handleEditPortraitClick","click .change-password-link":"handleChangePasswordClick","click .resend-email-verification-link":"handleEmailVerificationClick"},initialize:function(t){if(o.bindAll(this,"updateOptSections","updateEmailValidation","handleManageConnectionClick","handleToggleDailyNotificationsClick","handleToggleMarketingEmailsClick","handleEditPortraitClick","handleChangePasswordClick","handleEmailVerificationClick","handleToggleSuccess","handleToggleError","handleDefaultResolutionChange"),!t.user)throw"Requires a user option";if(!t.userSettings)throw"Requires a userSettings option";this.options=t,this.el.appendChild(n.h3({class:"view-title"},"ACCOUNT SETTINGS")),this.portraitSection=n.div({class:"portrait-section settings-section"}).appendTo(this.el),this.userItemView=new y.views.UserItemView({model:t.user}),this.userItemView.$el.addClass("portrait-section-portrait"),this.portraitSection.appendChild(this.userItemView.el),this.portraitSection.appendChild(n.p("Profile photo")),this.portraitSection.appendChild(n.a({class:"out-link edit-portrait-link",href:"#"},"Update")),this.emailSection=n.div({class:"email-section settings-section"}).appendTo(this.el),this.emailEl=n.span("fetching..."),this.emailCallback=a.views.bindText(t.user,"email",this.emailEl),this.emailValidatedEl=n.span({class:"email-validated-display"}),this.emailValidatedCallback=a.views.bindText(t.user,"email_validated",this.emailValidatedEl,(function(t){return void 0===t||null==t||!0===t?"":" (unverified)"})),this.emailValidatedOutlink=n.a({class:"out-link resend-email-verification-link",href:"#"}),this.emailSection.appendChild(n.p("Email: ",this.emailEl,this.emailValidatedEl)),this.emailSection.appendChild(this.emailValidatedOutlink),this.listenTo(t.user,"change:email_validated",this.updateEmailValidation),this.updateEmailValidation(),this.passwordSection=n.div({class:"password-section settings-section"}).appendTo(this.el),this.passwordSection.appendChild(n.p("Password ******")),this.passwordSection.appendChild(n.a({class:"out-link change-password-link",href:"#"},"Change")),this.accountUsageSection=n.div({class:"usage-section settings-section info-section"}).appendTo(this.el),this.accountUsageSection.appendChild(n.h3("Account Usage")),this.usedStorageEl=n.span("fetching..."),this.usedStorageCallback=a.views.bindText(t.user,"upload_storage_usage",this.usedStorageEl,(function(t){return h.formatBytes(t)})),this.storageLimitEl=n.span({class:"account-storage-limit"}),this.storageLimitCallback=a.views.bindText(t.user,"account_storage_limit",this.storageLimitEl,(function(t){return h.formatBytes(t)})),this.accountUsageSection.appendChild(n.p("Storage Used: ",this.usedStorageEl," of ",this.storageLimitEl)),this.activeEmbedEl=n.span("fetching..."),this.activeEmbedCallback=a.views.bindText(t.user,"active_embed_usage",this.activeEmbedEl),this.activeEmbedLimitEl=n.span({class:"active-embed-limit"}),this.activeEmbedLimitCallback=a.views.bindText(t.user,"account_active_embed_limit",this.activeEmbedLimitEl,(function(t){return t?" of "+t:""})),this.accountUsageSection.appendChild(n.p("Total Active Embed/Share Links: ",this.activeEmbedEl,this.activeEmbedLimitEl)),this.upsellLink=n.a({class:"out-link upsell-storage-link",href:"/billing/upgrade/"},""),this.upsellCallback=a.views.bindText(t.user,"account_tier",this.upsellLink,(function(t){var e="Get More Space";switch(t){case u.FREE:e="Upgrade for More Space and Unlimited Links";case u.PLUS:break;case u.PRO:case u.VIP:e=""}return e})),t.hidePaidOptions||this.accountUsageSection.appendChild(this.upsellLink),this.userPaidCustomizationsModel=new y.models.UserPaidCustomizationsModel,this.accountTierSection=n.div({class:"account-tier-section settings-section info-section"}),this.accountTierSection.appendTo(this.el),this.userBillingPortalButtonView=new y.views.UserBillingPortalButtonView({model:this.userPaidCustomizationsModel,el:this.accountTierSection}),window.M360FeatureFlags&&!0===window.M360FeatureFlags["high-quality-images"]&&(this.imageResolutionSection=n.div({class:"default-image-resolution-section settings-section info-section"}).appendTo(this.el),this.resolutionSelect=n.select({onChange:this.handleDefaultResolutionChange}),this.imageResolutionSection.append(n.h3("Default Image Resolution"),n.div({class:"control-container"},n.span("Display image resolution:"),this.resolutionSelect))),this.customizationsSection=n.div({class:"customizations-section settings-section info-section"}),this.customizationsSection.appendTo(this.el),this.userPaidCustomizationsView=new y.views.UserPaidCustomizationsView({model:this.userPaidCustomizationsModel,el:this.customizationsSection}),this.setCustomizationsSection=n.div({class:"set-customizations-section settings-section info-section"}),this.setCustomizationsSection.appendTo(this.el),this.setUserCustomizationsView=new y.views.SetUserCustomizationsView({model:this.userPaidCustomizationsModel,el:this.setCustomizationsSection}),this.connectionSection=n.div({class:"connection-section settings-section info-section"}).appendTo(this.el),this.connectionSection.appendChild(n.h3("Connections")),this.connectionSection.appendChild(n.p("Your Connections")),this.connectionSection.appendChild(n.a({class:"out-link manage-connections-link",href:"#"},"Manage")),this.dailyNotificationsSection=n.div({class:"daily-notifications-section settings-section info-section"}).appendTo(this.el),this.dailyNotificationsSection.appendChild(n.h3("Contact Preferences")),this.dailyNotificationsEl=n.span(),this.dailyNotificationsSection.appendChild(n.p("Daily Notification Emails (",this.dailyNotificationsEl,")")),this.dailyNotificationsSection.appendChild(n.a({class:"out-link toggle-daily-notifications-link",href:"#"},"Turn off")),this.logoutSection=n.div({class:"logout-section settings-section"}).appendTo(this.el);var e=n.a({id:"logout-anchor",class:"btn btn-primary thin-light-button",href:"/p/logout/"},"LOG OUT");this.logoutSection.appendChild(e),analytics.trackLink(e,"Logout"),this.listenTo(t.userSettings,"change",this.updateOptSections),this.updateOptSections()},remove:function(){r.View.prototype.remove.call(this),this.options.user.off(null,this.emailCallback,this),this.options.user.off(null,this.emailValidatedCallback,this)},updateOptSections:function(){if(!this.options.userSettings.isNew()){var t=this.options.userSettings.get("account_tier"),i=this.options.userSettings.get("override_site_image_size");if(window.M360FeatureFlags&&!0===window.M360FeatureFlags["high-quality-images"]&&!o.isUndefined(t)&&!o.isUndefined(i)){e(this.resolutionSelect).empty();var r=o.isNull(t)||0===t,a=r||"medium"===i?"selected":null,s=r?"":"medium";n.option({selected:a,value:s},"4096 x 2048 (4K)").appendTo(this.resolutionSelect),a=r||""!==i?null:"selected",s="",r||n.option({selected:a,value:s},"8192 x 4096 (8K)").appendTo(this.resolutionSelect),!this.options.hidePaidOptions&&r&&n.a({class:"out-link",href:"/billing/upgrade/"},"Upgrade to a Paid Plan to enable up to 8K (8192x 4096) resolution").appendTo(this.imageResolutionSection)}this.options.userSettings.get("daily_notifications")?(e(this.dailyNotificationsEl).text("enabled"),this.$el.find(".toggle-daily-notifications-link").text("Turn off")):(e(this.dailyNotificationsEl).text("disabled"),this.$el.find(".toggle-daily-notifications-link").text("Turn on")),this.options.userSettings.get("marketing_emails")?(e(this.marketingEmailsEl).text("enabled"),this.$el.find(".toggle-marketing-emails-link").text("Turn off")):(e(this.marketingEmailsEl).text("disabled"),this.$el.find(".toggle-marketing-emails-link").text("Turn on"));var l="Replace the Momento360 watermark with your own branding and landing page (or just remove all branding entirely).";if(this.$el.find(".custom-logo-placeholder").show(),this.options.userSettings.get("account_tier"))switch(t){case 1:break;case 2:this.$el.find(".custom-logo-placeholder").hide(),this.$el.find(".upsell-storage-link").hide(),l="Logo displayed on all shares and embeds; leave empty for no branding.",this.$el.find(".custom-logo-target-url-section").show();var c=this.options.userSettings.get("custom_branding_logo_src_url");c?this.$el.find(".custom-logo-img").attr("src",c).show():(this.$el.find(".custom-logo-img-div").attr("class","custom-logo-img-div no-logo-set"),this.$el.find(".custom-logo-img-div").text("Image not set"));var u=this.options.userSettings.get("custom_branding_target_url");u?this.$el.find(".custom-logo-target-url").text(u).attr("href",u):this.$el.find(".custom-logo-target-url").text("Not set").attr({href:"/p/customize/",target:""});break;case 3:break;default:t=0,e(".account-tier-upgrade-link").attr("href","/billing/pay/")}else t=0,e(".account-tier-upgrade-link").attr("href","/billing/pay/"),e(".account-tier-upgrade-link").text("View Upgrade Options");this.$el.find(".custom-logo-text").text(l)}},updateEmailValidation:function(){var t=this.options.user.get("email_validated");null==t||!0===t?(this.emailValidatedOutlink.innerHTML="",e(".resend-email-verification-link").hide()):(this.emailValidatedOutlink.innerHTML="Resend verification email",e(".resend-email-verification-link").show(),e(".account-tier-upgrade-link").hide())},handleEmailVerificationClick:function(t){t&&t.preventDefault(),y.views.showEmailValidationModal(this.options.user)},handleChangePasswordClick:function(t){t&&t.preventDefault(),this.trigger(y.events.ChangePasswordRequested)},handleEditPortraitClick:function(t){t&&t.preventDefault(),this.trigger(y.events.EditPortraitRequested)},handleManageConnectionClick:function(t){t&&t.preventDefault(),this.trigger(y.events.ManageConnectionsRequested)},handleToggleDailyNotificationsClick:function(t){t&&t.preventDefault(),this.options.userSettings.isNew()||this.options.userSettings.save({daily_notifications:!this.options.userSettings.get("daily_notifications")},{success:this.handleToggleSuccess,error:this.handleToggleError})},handleToggleMarketingEmailsClick:function(t){t&&t.preventDefault(),this.options.userSettings.isNew()||this.options.userSettings.save({marketing_emails:!this.options.userSettings.get("marketing_emails")},{success:this.handleToggleSuccess,error:this.handleToggleError})},handleDefaultResolutionChange:function(){var t=this.resolutionSelect.value;this.options.userSettings.save({override_site_image_size:t},{success:this.handleToggleSuccess,error:this.handleToggleError}),analytics.track("Change Account Image Quality",{account_tier:this.options.userSettings.get("account_tier"),image_quality:t})},handleToggleSuccess:function(){this.updateOptSections()},handleToggleError:function(){console.error("error",arguments),this.updateOptSections()}}),y.views.ConnectionManagerView=r.View.extend({className:"connection-manager-view settings-view",initialize:function(t){if(!t.user)throw"Requires a user option";if(!t.collection)throw"Requires a ContentAcceptances collection option";this.options=t,this.el.appendChild(n.h3({class:"view-title"},"MANAGE YOUR CONNECTIONS"));var e=a.views.generateModelFieldComparator("display_name",!1);this.emptyEl=n.div({class:"empty-el"},"Once you are connected to other people on Momento360, you will see them here."),this.connectionsView=new d({collection:t.collection,itemView:y.views.ConnectionItemView,itemOptions:{user:t.user},filter:function(t){return 1==t.get("accepted")},comparator:function(t,i){return e(t.getSender(),i.getSender())},emptyEl:this.emptyEl}),this.el.appendChild(this.connectionsView.el),this.listenTo(t.collection,"change:accepted",this.handleAcceptedChanged)},handleAcceptedChanged:function(t){this.connectionsView.reset()}}),y.views.ConnectionItemView=r.View.extend({className:"connection-item-view",events:{"click .select-button":"handleToggleClicked"},initialize:function(t){o.bindAll(this,"handleToggleClicked","handleConnectError","handleDisconnectSuccess","handleDisconnectError","handleDeleteModelAction"),this.options=t,this.deleteModal=null,this.userItemView=new y.views.UserItemView({model:t.model.getSender()}),this.el.appendChild(this.userItemView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.el),this.nameEl=n.div({class:"display-name"},t.model.getSender().get("display_name")).appendTo(this.infoWrapper),this.disconnectButton=n.button({class:"select-button btn btn-default btn-sm-round"}).appendTo(this.infoWrapper),this.buttonCallback=a.views.bindText(t.model,"accepted",this.disconnectButton,(function(t){return!0===t?"DISCONNECT":"CONNECT"}));var e=a.views.getMomentForRestTimestamp(t.model.getSender().get("date_joined"));this.dateJoinedEl=n.div({class:"date-joined"},"Joined "+e.format("MMM YYYY")).appendTo(this.infoWrapper)},handleToggleClicked:function(t){t&&t.preventDefault(),this.deleteModal=a.views.generateConfirmationModal("Disconnect?",n.div("Are you certain that you want to disconnect from this user?"),this.handleDeleteModelAction),e(document.body).append(this.deleteModal),e(this.deleteModal).modal()},handleDeleteModelAction:function(t){e(this.deleteModal).modal("hide"),this.deleteModal=null,"Ok"==t&&(this.model.destroyBothDirections({success:this.handleDisconnectSuccess,error:this.handleDisconnectError}),analytics.track("Remove Connection"))},handleConnectError:function(t){console.error("Error",arguments)},handleDisconnectSuccess:function(){this.model.set("accepted",!1),this.model.set("visible_as_recipient",!1)},handleDisconnectError:function(t){console.error("Error",arguments)},remove:function(){r.View.prototype.remove.call(this),this.model.off(null,this.buttonCallback,this)}}),y.views.InviteNewUserView=r.View.extend({className:"invite-new-user-view",events:{"click button":"handleSendClick"},initialize:function(t){o.bindAll(this,"focusInput","clearInput","validate","setEmail","handleSendClick","handleValidationSuccess","handleValidationError"),this.options=t,this.validationInFlight=!1,this.headline=n.h3("INVITE SOMEONE").appendTo(this.el),this.copy=n.p("Enter the name and email address of the person you'd like to add. We'll invite them when you complete the share.").appendTo(this.el),this.form=n.form({class:"form thin-light-form"}).appendTo(this.el);var e=n.div({class:"form-group"}).appendTo(this.form);this.firstNameInput=n.input({class:"form-input",type:"text",placeholder:"First name"}).appendTo(e),this.firstNameError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.lastNameInput=n.input({class:"form-input",type:"text",placeholder:"Last name"}).appendTo(e),e=n.div({class:"form-group"}).appendTo(this.form),this.emailInput=n.input({class:"form-input",type:"text",placeholder:"Email"}).appendTo(e),this.emailError=n.div({class:"error"}).appendTo(e),e=n.div({class:"form-group button-form-group"}).appendTo(this.form),this.sendButton=n.button({class:"btn btn-primary thin-light-button",type:"submit"},"SEND INVITE").appendTo(e)},setEmail:function(t){e(this.emailInput).val(t)},clearInput:function(){e(this.firstNameInput).val(""),e(this.lastNameInput).val(""),e(this.emailInput).val("")},focusInput:function(){e(this.firstNameInput).focus()},getCleanedData:function(){return{first_name:e(this.firstNameInput).val().trim(),last_name:e(this.lastNameInput).val().trim(),email:e(this.emailInput).val().trim()}},validate:function(){var t=!0,i=this.getCleanedData();return 0==i.first_name.length?(t=!1,e(this.firstNameError).text("A first name is required")):e(this.firstNameError).text(""),a.views.validateEmail(i.email)?e(this.emailError).text(""):(t=!1,e(this.emailError).text("An email is required")),t},handleSendClick:function(t){t&&t.preventDefault(),this.validationInFlight||this.validate()&&(this.validationInFlight=!0,e.ajax({method:"GET",url:l+"user-or-invite-exists/"+encodeURIComponent(this.getCleanedData().email),dataType:"json",success:this.handleValidationSuccess,error:this.handleValidationError}))},handleValidationSuccess:function(t){if(this.validationInFlight=!1,t.user){var e=new y.models.User(t.user);e.set("email",this.getCleanedData().email),this.trigger(y.events.InviteExistingUserAttempted,e)}else t.invite&&this.trigger(y.events.ExistingInviteAttempted,t.invite)},handleValidationError:function(t){this.validationInFlight=!1;var e=new y.models.User(this.getCleanedData());e.set("display_name",e.displayName()),this.trigger(y.events.InvitedUserCreated,e)}}),y.views.UserSearchResultView=r.View.extend({className:"user-search-result-view",initialize:function(t){if(!t.model)throw"UserSearchResultView requires a User model option";this.options=t,this.userItemView=new y.views.UserItemView({model:t.model}),this.el.appendChild(this.userItemView.el),this.infoWrapper=n.div({class:"info-wrapper"}).appendTo(this.el),this.nameEl=n.div({class:"name"},t.model.get("display_name")).appendTo(this.infoWrapper),this.selectButton=n.button({class:"select-button btn btn-default btn-sm-round"},"SELECT").appendTo(this.infoWrapper);var e=a.views.getMomentForRestTimestamp(t.model.get("date_joined"));this.dateJoinedEl=n.div({class:"date-joined"},"Member since "+e.format("MMM YYYY")).appendTo(this.infoWrapper)}}),y.views.UserSearchView=r.View.extend({className:"user-search-view",initialize:function(t){o.bindAll(this,"search","clearSearchResults","focusInput","clearInput","getInput","handleSearchInputChange","handleSearchResultClick","handleFinishedFetching"),this.options,this.searchTerm=null,this.users=new y.models.Users(null,{queryLimit:y.views.UserSearchQueryLimit}),this.users.baseUrl=function(){return l+"user/"},this.inputForm=n.form({class:"input-form form"}).appendTo(this.el),e(this.inputForm).submit((function(){return!1})),this.inputFormGroup=n.div({class:"form-group"}).appendTo(this.inputForm),this.searchInput=n.input({class:"search-input form-input",type:"text",placeholder:"Enter name or email"}).appendTo(this.inputFormGroup),e(this.searchInput).change(this.handleSearchInputChange),e(this.searchInput).keyup(this.handleSearchInputChange),this.preSearchEl=n.div({class:"pre-search top-el"}).appendTo(this.el),t.preSearchEl&&this.preSearchEl.appendChild(t.preSearchEl),this.postSearchEl=n.div({class:"post-search top-el"}).appendTo(this.el),e(this.postSearchEl).hide(),t.postSearchEl&&this.postSearchEl.appendChild(t.postSearchEl),this.searchSpinner=n.span({class:"spinner icon icon-spinner icon-spin"}).appendTo(this.el),e(this.searchSpinner).hide(),this.emptyEl=n.div({class:"empty"}).appendTo(this.el),t.noResultsEl?this.emptyEl.appendChild(t.noResultsEl):this.emptyEl.appendChild(n.span("No results")),e(this.emptyEl).hide(),this.searchResultsView=new d({collection:this.users,itemView:y.views.UserSearchResultView,click:this.handleSearchResultClick}),this.el.appendChild(this.searchResultsView.el)},focusInput:function(){e(this.searchInput).focus()},handleSearchResultClick:function(t){this.trigger(y.events.UserSearchResultPicked,t)},getInput:function(){return e(this.searchInput).val()},setInput:function(t){e(this.searchInput).val(t)},clearInput:function(){e(this.searchInput).val("")},handleSearchInputChange:function(t){t&&t.preventDefault(),this.search(e(this.searchInput).val())},search:o.throttle((function(t){if(t!=this.searchTerm){if(this.searchTerm=t,!this.searchTerm||!this.searchTerm.trim())return this.clearSearchResults(),void e(this.emptyEl).hide();e(this.preSearchEl).hide(),e(this.searchSpinner).show(),this.users.reset([]),this.users.next=null,this.users.clearQueryParameters(),this.users.addQueryParameter("search",this.searchTerm),this.users.fetch({success:this.handleFinishedFetching,error:this.handleFinishedFetching})}}),500,{leading:!1}),clearSearchResults:function(){this.users.reset([])},handleFinishedFetching:function(){e(this.preSearchEl).hide(),e(this.postSearchEl).show(),e(this.searchSpinner).hide(),e(this.emptyEl).toggle(0==this.users.length),analytics.page("Find Person",{search_term:this.searchTerm})}}),y.views.WelcomeView=r.View.extend({className:"person-welcome-view",events:{"click .next-button":"handleNextClick"},initialize:function(t){if(o.bindAll(this,"handleNextClick"),!t.user)throw"WelcomeView requires a user model";this.options=t,this.welcomeWrapper=n.div({class:"welcome-wrapper"}).appendTo(this.el),this.welcomeWrapper.appendChild(n.img({class:"top-logo",src:STATIC_FILE_TO_URL["front/images/white-on-transparent-logo-2x.png"]})),this.welcomeWrapper.appendChild(n.h1({class:"page-title"},"Thank you for signing up.")),this.welcomeWrapper.appendChild(n.p("Almost done!")),this.welcomeWrapper.appendChild(n.p("Just check your email to confirm your account. You'll be able to look around now, but won't be able to do much more until your email address is confirmed.")),this.welcomeWrapper.appendChild(n.button({class:"btn button-primary thin-button next-button"},"NEXT"))},handleNextClick:function(){document.location.href="/#"}}),y.views.PortraitUploadView=r.View.extend({className:"portrait-upload-view",events:{"click .upload-button":"handleUploadClick","click .ok-button":"handleOkClick","click .rotate-button":"handleRotateClick","change .file-input":"handleFileInputChange"},initialize:function(t){if(o.bindAll(this,"handleUploadClick","handleOkClick","handlePostError","handleFileInputChange","handlePostSuccess","handlePostError"),!t.user)throw"PortraitUploadView requires a user model";this.options=t,this.saving=!1,this.fileReader=null,this.fileImage=null,this.canvasWrapper=n.div({class:"canvas-wrapper"}).appendTo(this.el),this.rotateEl=n.span({class:"rotate-button icon icon-repeat"}).appendTo(this.canvasWrapper),this.canvas=n.canvas().appendTo(this.canvasWrapper),n.br().appendTo(this.el),this.uploadButton=n.button({class:"btn btn-primary upload-button"},"UPLOAD").appendTo(this.el),this.el.appendChild(n.br()),this.okButton=n.button({class:"btn btn-primary ok-button"},"OK").appendTo(this.el),this.fileInput=n.input({class:"file-input",type:"file",accept:"image/*;capture=camera",capture:"true"}).appendTo(this.el)},handleUploadClick:function(){this.saving||e(this.fileInput).trigger("click")},handleOkClick:function(){this.saving||(this.saving=!0,e(this.okButton).empty().append(n.span({class:"icon icon-spinner icon-spin"})),y.models.postBase64Portrait(this.canvas.toDataURL("image/png"),this.handlePostSuccess,this.handlePostError))},handleFileInputChange:function(){if(0!=this.fileInput.files.length&&!this.saving){e(this.uploadButton).text("UPLOAD AGAIN"),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight;this.canvas;var t=this.fileReader=new FileReader,i=this.fileImage=new Image;t.onloadend=function(){i.src=t.result},i.onload=function(){this.drawImage(a.isMobile.iOS()&&i.width>i.height)}.bind(this),t.readAsDataURL(this.fileInput.files[0])}},drawImage:function(t){if(null!=this.fileImage&&null!=this.fileReader){if(void 0===t&&(t=!1),this.fileImage.width>this.fileImage.height)var e=this.canvas.height/(this.fileImage.height?this.fileImage.height:1);else e=this.canvas.width/(this.fileImage.width?this.fileImage.width:1);var i=(this.fileImage.width*e-this.canvas.width)/-2,n=(this.fileImage.height*e-this.canvas.width)/-2,r=this.canvas.getContext("2d");t&&(r.translate(this.canvas.width/2,this.canvas.height/2),r.rotate(Math.PI/2),r.translate(this.canvas.width/-2,this.canvas.height/-2)),r.drawImage(this.fileImage,i,n,this.fileImage.width*e,this.fileImage.height*e)}else console.error("Tried to draw without a read image",this.fileImage,this.fileReader)},handleRotateClick:function(){this.fileReader&&this.drawImage(!0)},handlePostSuccess:function(){this.saving=!1,e(this.okButton).empty().text("Ok"),this.trigger(y.events.NewPortraitSet)},handlePostError:function(){console.error("Error",arguments),this.saving=!1,e(this.okButton).empty().text("Ok")}}),y.views.PortraitCaptureView=r.View.extend({className:"portrait-capture-view",events:{"click .snap-button":"handleSnapClick","click .ok-button":"handleOkClick"},initialize:function(t){if(o.bindAll(this,"handleOkClick","handlePostSuccess","handlePostError"),!t.user)throw"PortraitCaptureView requires a user option";this.options=t,this.saving=!1,this.portraitWebcamView=new y.views.PortraitWebcamView({}),this.el.appendChild(this.portraitWebcamView.el),this.el.appendChild(n.br()),this.okButton=n.button({class:"ok-button btn btn-primary thin-button"},"Ok").appendTo(this.el)},handleOkClick:function(){this.saving||(this.saving=!0,e(this.okButton).empty().append(n.span({class:"icon icon-spinner icon-spin"})),y.models.postBase64Portrait(this.portraitWebcamView.getFrameData(),this.handlePostSuccess,this.handlePostError))},handlePostSuccess:function(){this.saving=!1,e(this.okButton).empty().text("Ok"),this.trigger(y.events.NewPortraitSet)},handlePostError:function(){console.error("Error",arguments),this.saving=!1,e(this.okButton).empty().text("Ok")}}),y.views.PortraitWebcamView=r.View.extend({className:"portrait-webcam-view",initialize:function(t){o.bindAll(this,"stop","start","getFrameData","handleVideo","handleVideoError","handlePlay","drawCanvas"),this.options=t,this.stopped=!1,this.canvas=n.canvas().appendTo(this.el),this.context=null,this.videoWrapper=n.div({class:"video-wrapper"}).appendTo(this.el),this.video=n.video({autoplay:!0}).appendTo(this.videoWrapper),this.video.addEventListener("play",this.handlePlay,!1);var e={video:{facingMode:"user"}};navigator.getUserMedia?navigator.getUserMedia(e,this.handleVideo,this.handleVideoError):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,this.handleVideo,this.handleVideoError):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(e).then(this.handleVideo).catch(this.handleVideoError)},stop:function(){this.stopped=!0},start:function(){this.stopped=!1},getFrameData:function(){return this.canvas.toDataURL("image/png")},handleVideo:function(t){if("srcObject"in this.video)try{this.video.srcObject=t}catch(e){"TypeError"!=e.name&&console.error(e),this.video.src=URL.createObjectURL(t)}else this.video.src=URL.createObjectURL(t)},handleVideoError:function(t){console.error("webcam error",t)},handlePlay:function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.context=this.canvas.getContext("2d"),this.video.clientWidth>this.video.clientHeight?this.video.clientHeight=this.video.height=this.canvas.clientHeight:this.video.clientWidth=this.video.width=this.canvas.clientWidth,this.drawCanvas()},drawCanvas:function(){if(this.video.paused||this.video.ended)return!1;0==this.stopped&&this.context.drawImage(this.video,(this.video.clientWidth-this.canvas.clientWidth)/-2,0,this.video.clientWidth,this.video.clientHeight),setTimeout(this.drawCanvas,20)}}),y.views.PortraitEditorView=r.View.extend({className:"portrait-editor-view settings-view",events:{"click .take-picture-button":"handleTakePictureClick","click .upload-picture-button":"handleUploadPictureClick"},initialize:function(t){if(o.bindAll(this,"handleTakePictureClick","handleUploadPictureClick"),!t.model)throw"PortraitEditorView requires a User model option";this.options=t,this.portraitUploadView=null,this.portraitCaptureView=null,this.el.appendChild(n.h3({class:"view-title"},"EDIT YOUR PORTRAIT")),this.portraitWrapper=n.div({class:"portrait-wrapper"}).appendTo(this.el),this.portraitPrepWrapper=n.div({class:"portrait-prep-wrapper"}).appendTo(this.el),this.userItemView=new y.views.UserItemView({model:t.model}),this.portraitPrepWrapper.appendChild(this.userItemView.el),this.prepButtonWrapper=n.div({class:"button-wrapper"}).appendTo(this.portraitPrepWrapper),h.hasUserMedia()&&this.prepButtonWrapper.appendChild(n.button({class:"btn button-primary take-picture-button"},"TAKE PICTURE")),this.el.appendChild(n.br()),this.prepButtonWrapper.appendChild(n.button({class:"btn button-primary upload-picture-button"},"UPLOAD PICTURE")),this.showPrep()},showPortrait:function(){e(this.portraitPrepWrapper).hide(),e(this.portraitWrapper).show()},showPrep:function(){e(this.portraitPrepWrapper).show(),e(this.portraitWrapper).hide()},handleTakePictureClick:function(){null!=this.portraitUploadView&&this.portraitUploadView.$el.hide(),null==this.portraitCaptureView?(this.portraitCaptureView=new y.views.PortraitCaptureView({user:this.model}),e(this.portraitWrapper).append(this.portraitCaptureView.el),this.listenTo(this.portraitCaptureView,y.events.NewPortraitSet,(function(){this.trigger(y.events.NewPortraitSet)}))):this.portraitCaptureView.$el.show(),this.showPortrait()},handleUploadPictureClick:function(){null!=this.portraitCaptureView&&this.portraitCaptureView.$el.hide(),null==this.portraitUploadView?(this.portraitUploadView=new y.views.PortraitUploadView({user:this.model}),e(this.portraitWrapper).append(this.portraitUploadView.el),this.listenTo(this.portraitUploadView,y.events.NewPortraitSet,(function(){this.trigger(y.events.NewPortraitSet)}))):this.portraitUploadView.$el.show(),this.portraitUploadView.handleUploadClick(),this.showPortrait()}}),y.views.UserAvatarView=r.View.extend({className:"user-profile",initialize:function(t){if(!t.model)throw"Requires a model option";var e=this.model.get("portrait")||c;this.portraitImage=n.img({class:"user-profile-image",src:e}),this.blankEl=n.div({class:"blank"}),this.initialsEl=n.div({class:"initials"},this.model.getInitials()).appendTo(this.blankEl),this.updatePortrait(),this.portraitImage.appendTo(this.el),this.blankEl.appendTo(this.el)},updatePortrait:function(){this.model.get("portrait")?(this.portraitImage.setAttribute("src",this.model.get("portrait")),e(this.blankEl).hide()):(this.portraitImage.setAttribute("src",c),e(this.initialsEl).text(this.model.getInitials()),e(this.blankEl).css("display",""))}}),y.views.UserItemView=r.View.extend({className:"user-item-view",initialize:function(t){if(o.bindAll(this,"showSuccess","showError","updateNewStatus"),!t.model)throw"Requires a model option";this.options=t,this.showFullName=!!t.showFullName,this.userAvatarView=new y.views.UserAvatarView({model:this.model}),this.profile=this.userAvatarView.el,this.$el.append(this.profile),!0===this.options.showTooltips&&this.model.get("display_name")&&(this.profile.setAttribute("alt",this.model.get("display_name")),this.profile.setAttribute("title",this.model.get("display_name")),this.profile.setAttribute("data-toggle","tooltip"),e(this.profile).tooltip({trigger:"hover click"})),this.displayName=n.span({class:"display-name"}).appendTo(this.el),a.views.bindText(this.options.model,this.showFullName?"display_name":"first_name",this.displayName),this.listenTo(this.model,"change:portrait",this.userAvatarView.updatePortrait.bind(this.userAvatarView)),this.listenTo(this.model,"change:id",this.updateNewStatus),this.updateNewStatus()},setDisplayName:function(t){e(this.displayName).text(t)},updateNewStatus:function(){this.model.isNew()?this.$el.addClass("new"):this.$el.removeClass("new")},showSuccess:function(){this.profile.appendChild(n.span(n.span({class:"icon icon-circle-fill"}),n.span({class:"icon icon-check-circle"})))},showError:function(){this.profile.appendChild(n.span({class:"icon icon-minus-circle"}))},removeStatusMark:function(){this.$el.find(".icon").remove()}}),y.views.UserBannerView=r.View.extend({className:"user-banner-view",initialize:function(t){if(o.bindAll(this,"remove"),!t.user)throw"UserBannerView requires a User user option that is the site User";if(!t.model)throw"UserBannerView requires a User model option";this.options=t,this.cardWrapper=n.div({class:"card-wrapper"}).appendTo(this.el),this.userItemView=new y.views.UserItemView({model:t.model,showFullName:!0}),this.cardWrapper.appendChild(this.userItemView.el),this.model.isNew()?this.listenToOnce(this.model,"reset sync",function(){this.model.id==this.options.user.id&&this.userItemView.setDisplayName("Me")}.bind(this)):this.model.id==this.options.user.id&&this.userItemView.setDisplayName("Me")},remove:function(){r.View.prototype.remove.call(this),this.userItemView.remove(),this.userItemView.$el.unbind()}}),y.views.UserPickerView=r.View.extend({className:"user-picker-view",initialize:function(t){if(o.bindAll(this,"handleUserClick"),!t.user)throw"UserPickerView requires a user option";if(!t.collection)throw"UserPickerView requires a User collection option";void 0===t.showUser&&(t.showUser=!0),this.options=t,t.showUser&&(this.userBanner=new y.views.UserBannerView({model:t.user,user:t.user}),this.el.appendChild(this.userBanner.el),this.userBanner.$el.click(function(){this.handleUserClick(this.userBanner.options.model)}.bind(this))),this.userCollectionView=new d({collection:t.collection,itemView:y.views.UserBannerView,click:this.handleUserClick,itemOptions:{user:t.user},comparator:a.views.generateModelFieldComparator("display_name",!1)}),this.el.appendChild(this.userCollectionView.el)},remove:function(){r.View.prototype.remove.call(this),this.userBanner.remove(),this.userBanner.$el.unbind()},handleUserClick:function(t){this.trigger(y.events.UserPicked,t)}}),t.exports=y}).call(this,i(2),i(4))},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(1),r=i(38),o=i(10);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o((function(){i(1)})),"Object",a)}},function(t,e,i){var n=i(39),r=i(84),o=i(19),a=i(15),s=i(135);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,p=e||s;return function(e,s,f){for(var m,g,v=o(e),y=r(v),_=n(s,f,3),b=a(y.length),w=0,x=i?p(e,b):l?p(e,0):void 0;b>w;w++)if((d||w in y)&&(g=_(m=y[w],w,v),t))if(i)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(u)return!1;return h?-1:c||u?u:x}}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(i(16)){var r=i(52),o=i(9),a=i(10),s=i(1),l=i(102),c=i(143),u=i(39),h=i(65),d=i(58),p=i(26),f=i(67),m=i(41),g=i(15),v=i(190),y=i(61),_=i(44),b=i(30),w=i(74),x=i(11),M=i(19),S=i(132),k=i(62),T=i(33),C=i(63).f,E=i(134),A=i(59),L=i(14),D=i(47),P=i(92),O=i(87),I=i(137),N=i(76),R=i(97),F=i(64),j=i(136),U=i(179),Y=i(17),V=i(32),H=Y.f,B=V.f,z=o.RangeError,W=o.TypeError,q=o.Uint8Array,G=Array.prototype,$=c.ArrayBuffer,X=c.DataView,K=D(0),J=D(2),Q=D(3),Z=D(4),tt=D(5),et=D(6),it=P(!0),nt=P(!1),rt=I.values,ot=I.keys,at=I.entries,st=G.lastIndexOf,lt=G.reduce,ct=G.reduceRight,ut=G.join,ht=G.sort,dt=G.slice,pt=G.toString,ft=G.toLocaleString,mt=L("iterator"),gt=L("toStringTag"),vt=A("typed_constructor"),yt=A("def_constructor"),_t=l.CONSTR,bt=l.TYPED,wt=l.VIEW,xt=D(1,(function(t,e){return Ct(O(t,t[yt]),e)})),Mt=a((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),St=!!q&&!!q.prototype.set&&a((function(){new q(1).set({})})),kt=function(t,e){var i=m(t);if(i<0||i%e)throw z("Wrong offset!");return i},Tt=function(t){if(x(t)&&bt in t)return t;throw W(t+" is not a typed array!")},Ct=function(t,e){if(!x(t)||!(vt in t))throw W("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return At(O(t,t[yt]),e)},At=function(t,e){for(var i=0,n=e.length,r=Ct(t,n);n>i;)r[i]=e[i++];return r},Lt=function(t,e,i){H(t,e,{get:function(){return this._d[i]}})},Dt=function(t){var e,i,n,r,o,a,s=M(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,d=E(s);if(null!=d&&!S(d)){for(a=d.call(s),n=[],e=0;!(o=a.next()).done;e++)n.push(o.value);s=n}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,i=g(s.length),r=Ct(this,i);i>e;e++)r[e]=h?c(s[e],e):s[e];return r},Pt=function(){for(var t=0,e=arguments.length,i=Ct(this,e);e>t;)i[t]=arguments[t++];return i},Ot=!!q&&a((function(){ft.call(new q(1))})),It=function(){return ft.apply(Ot?dt.call(Tt(this)):Tt(this),arguments)},Nt={copyWithin:function(t,e){return U.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Tt(this),arguments)},filter:function(t){return Et(this,J(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return xt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Tt(this),arguments)},reduceRight:function(t){return ct.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,i=Math.floor(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(Tt(this),t)},subarray:function(t,e){var i=Tt(this),n=i.length,r=y(t,n);return new(O(i,i[yt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===e?n:y(e,n))-r))}},Rt=function(t,e){return Et(this,dt.call(Tt(this),t,e))},Ft=function(t){Tt(this);var e=kt(arguments[1],1),i=this.length,n=M(t),r=g(n.length),o=0;if(r+e>i)throw z("Wrong length!");for(;o<r;)this[e+o]=n[o++]},jt={entries:function(){return at.call(Tt(this))},keys:function(){return ot.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Ut=function(t,e){return x(t)&&t[bt]&&"symbol"!=n(e)&&e in t&&String(+e)==String(e)},Yt=function(t,e){return Ut(t,e=_(e,!0))?d(2,t[e]):B(t,e)},Vt=function(t,e,i){return!(Ut(t,e=_(e,!0))&&x(i)&&b(i,"value"))||b(i,"get")||b(i,"set")||i.configurable||b(i,"writable")&&!i.writable||b(i,"enumerable")&&!i.enumerable?H(t,e,i):(t[e]=i.value,t)};_t||(V.f=Yt,Y.f=Vt),s(s.S+s.F*!_t,"Object",{getOwnPropertyDescriptor:Yt,defineProperty:Vt}),a((function(){pt.call({})}))&&(pt=ft=function(){return ut.call(this)});var Ht=f({},Nt);f(Ht,jt),p(Ht,mt,jt.values),f(Ht,{slice:Rt,set:Ft,constructor:function(){},toString:pt,toLocaleString:It}),Lt(Ht,"buffer","b"),Lt(Ht,"byteOffset","o"),Lt(Ht,"byteLength","l"),Lt(Ht,"length","e"),H(Ht,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,i,n){var c=t+((n=!!n)?"Clamped":"")+"Array",u="get"+t,d="set"+t,f=o[c],m=f||{},y=f&&T(f),_=!f||!l.ABV,b={},M=f&&f.prototype,S=function(t,i){H(t,i,{get:function(){return function(t,i){var n=t._d;return n.v[u](i*e+n.o,Mt)}(this,i)},set:function(t){return function(t,i,r){var o=t._d;n&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[d](i*e+o.o,r,Mt)}(this,i,t)},enumerable:!0})};_?(f=i((function(t,i,n,r){h(t,f,c,"_d");var o,a,s,l,u=0,d=0;if(x(i)){if(!(i instanceof $||"ArrayBuffer"==(l=w(i))||"SharedArrayBuffer"==l))return bt in i?At(f,i):Dt.call(f,i);o=i,d=kt(n,e);var m=i.byteLength;if(void 0===r){if(m%e)throw z("Wrong length!");if((a=m-d)<0)throw z("Wrong length!")}else if((a=g(r)*e)+d>m)throw z("Wrong length!");s=a/e}else s=v(i),o=new $(a=s*e);for(p(t,"_d",{b:o,o:d,l:a,e:s,v:new X(o)});u<s;)S(t,u++)})),M=f.prototype=k(Ht),p(M,"constructor",f)):a((function(){f(1)}))&&a((function(){new f(-1)}))&&R((function(t){new f,new f(null),new f(1.5),new f(t)}),!0)||(f=i((function(t,i,n,r){var o;return h(t,f,c),x(i)?i instanceof $||"ArrayBuffer"==(o=w(i))||"SharedArrayBuffer"==o?void 0!==r?new m(i,kt(n,e),r):void 0!==n?new m(i,kt(n,e)):new m(i):bt in i?At(f,i):Dt.call(f,i):new m(v(i))})),K(y!==Function.prototype?C(m).concat(C(y)):C(m),(function(t){t in f||p(f,t,m[t])})),f.prototype=M,r||(M.constructor=f));var E=M[mt],A=!!E&&("values"==E.name||null==E.name),L=jt.values;p(f,vt,!0),p(M,bt,c),p(M,wt,!0),p(M,yt,f),(n?new f(1)[gt]==c:gt in M)||H(M,gt,{get:function(){return c}}),b[c]=f,s(s.G+s.W+s.F*(f!=m),b),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*a((function(){m.of.call(f,1)})),c,{from:Dt,of:Pt}),"BYTES_PER_ELEMENT"in M||p(M,"BYTES_PER_ELEMENT",e),s(s.P,c,Nt),F(c),s(s.P+s.F*St,c,{set:Ft}),s(s.P+s.F*!A,c,jt),r||M.toString==pt||(M.toString=pt),s(s.P+s.F*a((function(){new f(1).slice()})),c,{slice:Rt}),s(s.P+s.F*(a((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!a((function(){M.toLocaleString.call([1,2])}))),c,{toLocaleString:It}),N[c]=A?E:L,r||A||p(M,mt,L)}}else t.exports=function(){}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(185),o=i(1),a=i(83)("metadata"),s=a.store||(a.store=new(i(188))),l=function(t,e,i){var n=s.get(t);if(!n){if(!i)return;s.set(t,n=new r)}var o=n.get(e);if(!o){if(!i)return;n.set(e,o=new r)}return o};t.exports={store:s,map:l,has:function(t,e,i){var n=l(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=l(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){l(i,n,!0).set(t,e)},keys:function(t,e){var i=l(t,e,!1),n=[];return i&&i.forEach((function(t,e){n.push(e)})),n},key:function(t){return void 0===t||"symbol"==n(t)?t:String(t)},exp:function(t){o(o.S,"Reflect",t)}}},function(t,e,i){var n,r,o,a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,M,S,k,T,C,E,A,L,D,P,O,I,N,R,F,j,U,Y,V,H,B,z,W,q,G,$,X,K,J,Q,Z,tt={REVISION:"74"};void 0===(r="function"==typeof(n=tt)?n.call(e,i,e,t):n)||(t.exports=r),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&Object.defineProperty(Object,"assign",{writable:!0,configurable:!0,value:function(t){"use strict";if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1,n=arguments.length;i!==n;++i){var r=arguments[i];if(null!=r){r=Object(r);for(var o=Object.keys(r),a=0,s=o.length;a!==s;++a){var l=o[a],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(e[l]=r[l])}}}return e}}),tt.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},tt.CullFaceNone=0,tt.CullFaceBack=1,tt.CullFaceFront=2,tt.CullFaceFrontBack=3,tt.FrontFaceDirectionCW=0,tt.FrontFaceDirectionCCW=1,tt.BasicShadowMap=0,tt.PCFShadowMap=1,tt.PCFSoftShadowMap=2,tt.FrontSide=0,tt.BackSide=1,tt.DoubleSide=2,tt.FlatShading=1,tt.SmoothShading=2,tt.NoColors=0,tt.FaceColors=1,tt.VertexColors=2,tt.NoBlending=0,tt.NormalBlending=1,tt.AdditiveBlending=2,tt.SubtractiveBlending=3,tt.MultiplyBlending=4,tt.CustomBlending=5,tt.AddEquation=100,tt.SubtractEquation=101,tt.ReverseSubtractEquation=102,tt.MinEquation=103,tt.MaxEquation=104,tt.ZeroFactor=200,tt.OneFactor=201,tt.SrcColorFactor=202,tt.OneMinusSrcColorFactor=203,tt.SrcAlphaFactor=204,tt.OneMinusSrcAlphaFactor=205,tt.DstAlphaFactor=206,tt.OneMinusDstAlphaFactor=207,tt.DstColorFactor=208,tt.OneMinusDstColorFactor=209,tt.SrcAlphaSaturateFactor=210,tt.NeverDepth=0,tt.AlwaysDepth=1,tt.LessDepth=2,tt.LessEqualDepth=3,tt.EqualDepth=4,tt.GreaterEqualDepth=5,tt.GreaterDepth=6,tt.NotEqualDepth=7,tt.MultiplyOperation=0,tt.MixOperation=1,tt.AddOperation=2,tt.UVMapping=300,tt.CubeReflectionMapping=301,tt.CubeRefractionMapping=302,tt.EquirectangularReflectionMapping=303,tt.EquirectangularRefractionMapping=304,tt.SphericalReflectionMapping=305,tt.RepeatWrapping=1e3,tt.ClampToEdgeWrapping=1001,tt.MirroredRepeatWrapping=1002,tt.NearestFilter=1003,tt.NearestMipMapNearestFilter=1004,tt.NearestMipMapLinearFilter=1005,tt.LinearFilter=1006,tt.LinearMipMapNearestFilter=1007,tt.LinearMipMapLinearFilter=1008,tt.UnsignedByteType=1009,tt.ByteType=1010,tt.ShortType=1011,tt.UnsignedShortType=1012,tt.IntType=1013,tt.UnsignedIntType=1014,tt.FloatType=1015,tt.HalfFloatType=1025,tt.UnsignedShort4444Type=1016,tt.UnsignedShort5551Type=1017,tt.UnsignedShort565Type=1018,tt.AlphaFormat=1019,tt.RGBFormat=1020,tt.RGBAFormat=1021,tt.LuminanceFormat=1022,tt.LuminanceAlphaFormat=1023,tt.RGBEFormat=tt.RGBAFormat,tt.RGB_S3TC_DXT1_Format=2001,tt.RGBA_S3TC_DXT1_Format=2002,tt.RGBA_S3TC_DXT3_Format=2003,tt.RGBA_S3TC_DXT5_Format=2004,tt.RGB_PVRTC_4BPPV1_Format=2100,tt.RGB_PVRTC_2BPPV1_Format=2101,tt.RGBA_PVRTC_4BPPV1_Format=2102,tt.RGBA_PVRTC_2BPPV1_Format=2103,tt.RGB_ETC1_Format=2151,tt.LoopOnce=2200,tt.LoopRepeat=2201,tt.LoopPingPong=2202,tt.InterpolateDiscrete=2300,tt.InterpolateLinear=2301,tt.InterpolateSmooth=2302,tt.ZeroCurvatureEnding=2400,tt.ZeroSlopeEnding=2401,tt.WrapAroundEnding=2402,tt.TrianglesDrawMode=0,tt.TriangleStripDrawMode=1,tt.TriangleFanDrawMode=2,tt.Color=function(t){return 3===arguments.length?this.fromArray(arguments):this.set(t)},tt.Color.prototype={constructor:tt.Color,r:1,g:1,b:1,set:function(t){return t instanceof tt.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){this.r=t,this.g=t,this.b=t},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,n){if(e=tt.Math.euclideanModulo(e,1),i=tt.Math.clamp(i,0,1),n=tt.Math.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,o=2*n-r;this.r=t(o,r,e+1/3),this.g=t(o,r,e),this.b=t(o,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,r=i[1],o=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c,u=(c=i[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(c=tt.ColorKeywords[t])?this.setHex(c):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,n=t||{h:0,s:0,l:0},r=this.r,o=this.g,a=this.b,s=Math.max(r,o,a),l=Math.min(r,o,a),c=(l+s)/2;if(l===s)e=0,i=0;else{var u=s-l;switch(i=c<=.5?u/(s+l):u/(2-s-l),s){case r:e=(o-a)/u+(o<a?6:0);break;case o:e=(a-r)/u+2;break;case a:e=(r-o)/u+4}e/=6}return n.h=e,n.s=i,n.l=c,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},tt.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tt.Quaternion=function(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1},tt.Quaternion.prototype={constructor:tt.Quaternion,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof tt.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),n=Math.cos(t._y/2),r=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),l=t.order;return"XYZ"===l?(this._x=o*n*r+i*a*s,this._y=i*a*r-o*n*s,this._z=i*n*s+o*a*r,this._w=i*n*r-o*a*s):"YXZ"===l?(this._x=o*n*r+i*a*s,this._y=i*a*r-o*n*s,this._z=i*n*s-o*a*r,this._w=i*n*r+o*a*s):"ZXY"===l?(this._x=o*n*r-i*a*s,this._y=i*a*r+o*n*s,this._z=i*n*s+o*a*r,this._w=i*n*r-o*a*s):"ZYX"===l?(this._x=o*n*r-i*a*s,this._y=i*a*r+o*n*s,this._z=i*n*s-o*a*r,this._w=i*n*r+o*a*s):"YZX"===l?(this._x=o*n*r+i*a*s,this._y=i*a*r+o*n*s,this._z=i*n*s-o*a*r,this._w=i*n*r-o*a*s):"XZY"===l&&(this._x=o*n*r-i*a*s,this._y=i*a*r-o*n*s,this._z=i*n*s+o*a*r,this._w=i*n*r+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],o=i[8],a=i[1],s=i[5],l=i[9],c=i[2],u=i[6],h=i[10],d=n+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-c)*e,this._z=(a-r)*e):n>s&&n>h?(e=2*Math.sqrt(1+n-s-h),this._w=(u-l)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-n-h),this._w=(o-c)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+h-n-s),this._w=(a-r)/e,this._x=(o+c)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===o&&(o=new tt.Vector3),(a=t.dot(e)+1)<1e-6?(a=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=a,this.normalize(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,o=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=i*c+o*a+n*l-r*s,this._y=n*c+o*s+r*a-i*l,this._z=r*c+o*l+i*s-n*a,this._w=o*c-i*a-n*s-r*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,o=this._w,a=o*t._w+i*t._x+n*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(s,a),c=Math.sin((1-e)*l)/s,u=Math.sin(e*l)/s;return this._w=o*c+this._w*u,this._x=i*c+this._x*u,this._y=n*c+this._y*u,this._z=r*c+this._z*u,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(tt.Quaternion,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,o,a){var s=i[n+0],l=i[n+1],c=i[n+2],u=i[n+3],h=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(u!==f||s!==h||l!==d||c!==p){var m=1-a,g=s*h+l*d+c*p+u*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,g*v);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var w=a*v;if(s=s*m+h*w,l=l*m+d*w,c=c*m+p*w,u=u*m+f*w,m===1-a){var x=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=x,l*=x,c*=x,u*=x}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}}),tt.Vector2=function(t,e){this.x=t||0,this.y=e||0},tt.Vector2.prototype={constructor:tt.Vector2,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return void 0===s&&(s=new tt.Vector2,l=new tt.Vector2),s.set(t,t),l.set(e,e),this.clamp(s,l)},clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*i-o*n+t.x,this.y=r*n+o*i+t.y,this}},tt.Vector3=function(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0},tt.Vector3.prototype={constructor:tt.Vector3,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t instanceof tt.Euler==0&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===u&&(u=new tt.Quaternion),this.applyQuaternion(u.setFromEuler(t)),this},applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new tt.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,i)),this}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12],this.y=r[1]*e+r[5]*i+r[9]*n+r[13],this.z=r[2]*e+r[6]*i+r[10]*n+r[14],this},applyProjection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,o=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*o,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*o,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*o,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*n-a*i,c=s*i+a*e-r*n,u=s*n+r*i-o*e,h=-r*e-o*i-a*n;return this.x=l*s+h*-r+c*-a-u*-o,this.y=c*s+h*-o+u*-r-l*-a,this.z=u*s+h*-a+l*-o-c*-r,this},project:function(t){return void 0===c&&(c=new tt.Matrix4),c.multiplyMatrices(t.projectionMatrix,c.getInverse(t.matrixWorld)),this.applyProjection(c)},unproject:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new tt.Vector3,e=new tt.Vector3),t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t),this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var i=this.x,n=this.y,r=this.z;return this.x=n*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-n*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-r*a,this.y=r*o-i*s,this.z=i*a-n*o,this},projectOnVector:function(){var t,e;return function(i){return void 0===t&&(t=new tt.Vector3),t.copy(i).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new tt.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new tt.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(tt.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),i=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),n=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){var i=4*t,n=e.elements;return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},tt.Vector4=function(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1},tt.Vector4.prototype={constructor:tt.Vector4,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*n+o[12]*r,this.y=o[1]*e+o[5]*i+o[9]*n+o[13]*r,this.z=o[2]*e+o[6]*i+o[10]*n+o[14]*r,this.w=o[3]*e+o[7]*i+o[11]*n+o[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,o=t.elements,a=o[0],s=o[4],l=o[8],c=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(u+1)/2,v=(f+1)/2,y=(s+c)/4,_=(l+d)/4,b=(h+p)/4;return m>g&&m>v?m<.01?(i=0,n=.707106781,r=.707106781):(n=y/(i=Math.sqrt(m)),r=_/i):g>v?g<.01?(i=.707106781,n=0,r=.707106781):(i=y/(n=Math.sqrt(g)),r=b/n):v<.01?(i=.707106781,n=.707106781,r=0):(i=_/(r=Math.sqrt(v)),n=b/r),this.set(i,n,r,e),this}var w=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-d)/w,this.z=(c-s)/w,this.w=Math.acos((a+u+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new tt.Vector4,e=new tt.Vector4),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t),this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},tt.Euler=function(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||tt.Euler.DefaultOrder},tt.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],tt.Euler.DefaultOrder="XYZ",tt.Euler.prototype={constructor:tt.Euler,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=tt.Math.clamp,r=t.elements,o=r[0],a=r[4],s=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,i,n){return void 0===t&&(t=new tt.Matrix4),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n),this}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(h=new tt.Quaternion,function(t){h.setFromEuler(this),this.setFromQuaternion(h,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new tt.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},tt.Line3=function(t,e){this.start=void 0!==t?t:new tt.Vector3,this.end=void 0!==e?e:new tt.Vector3},tt.Line3.prototype={constructor:tt.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){return(t||new tt.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new tt.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new tt.Vector3;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(d=new tt.Vector3,p=new tt.Vector3,function(t,e){d.subVectors(t,this.start),p.subVectors(this.end,this.start);var i=p.dot(p),n=p.dot(d)/i;return e&&(n=tt.Math.clamp(n,0,1)),n}),closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e),r=i||new tt.Vector3;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},tt.Box2=function(t,e){this.min=void 0!==t?t:new tt.Vector2(1/0,1/0),this.max=void 0!==e?e:new tt.Vector2(-1/0,-1/0)},tt.Box2.prototype={constructor:tt.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new tt.Vector2;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){return(t||new tt.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new tt.Vector2).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new tt.Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new tt.Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new tt.Vector2;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},tt.Box3=function(t,e){this.min=void 0!==t?t:new tt.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new tt.Vector3(-1/0,-1/0,-1/0)},tt.Box3.prototype={constructor:tt.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){this.makeEmpty();for(var e=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],u=t[s+1],h=t[s+2];c<e&&(e=c),u<i&&(i=u),h<n&&(n=h),c>r&&(r=c),u>o&&(o=u),h>a&&(a=h)}this.min.set(e,i,n),this.max.set(r,o,a)},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new tt.Vector3;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){void 0===g&&(g=new tt.Box3);var e=this;return this.makeEmpty(),t.updateMatrixWorld(!0),t.traverse((function(t){var i=t.geometry;void 0!==i&&(null===i.boundingBox&&i.computeBoundingBox(),g.copy(i.boundingBox),g.applyMatrix4(t.matrixWorld),e.union(g))})),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new tt.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new tt.Vector3).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new tt.Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return void 0===m&&(m=new tt.Vector3),this.clampPoint(t.center,m),m.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},clampPoint:function(t,e){return(e||new tt.Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new tt.Vector3;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new tt.Vector3;return function(e){var i=e||new tt.Sphere;return i.center=this.center(),i.radius=.5*this.size(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(f=[new tt.Vector3,new tt.Vector3,new tt.Vector3,new tt.Vector3,new tt.Vector3,new tt.Vector3,new tt.Vector3,new tt.Vector3],function(t){return f[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),f[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),f[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),f[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),f[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),f[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),f[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),f[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(f),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},tt.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},tt.Matrix3.prototype={constructor:tt.Matrix3,set:function(t,e,i,n,r,o,a,s,l){var c=this.elements;return c[0]=t,c[3]=e,c[6]=i,c[1]=n,c[4]=r,c[7]=o,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new tt.Vector3),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,o=i;r<n;r+=3,o+=3)t.fromArray(e,o),t.applyMatrix3(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new tt.Vector3),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,o=i;r<n;r++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix3(this),e.setXYZ(t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*o*c-e*a*l-i*r*c+i*a*s+n*r*l-n*o*s},getInverse:function(t,e){var i=t.elements,n=this.elements;n[0]=i[10]*i[5]-i[6]*i[9],n[1]=-i[10]*i[1]+i[2]*i[9],n[2]=i[6]*i[1]-i[2]*i[5],n[3]=-i[10]*i[4]+i[6]*i[8],n[4]=i[10]*i[0]-i[2]*i[8],n[5]=-i[6]*i[0]+i[2]*i[4],n[6]=i[9]*i[4]-i[5]*i[8],n[7]=-i[9]*i[0]+i[1]*i[8],n[8]=i[5]*i[0]-i[1]*i[4];var r=i[0]*n[0]+i[1]*n[3]+i[2]*n[6];if(0===r){var o="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/r),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}},tt.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},tt.Matrix4.prototype={constructor:tt.Matrix4,set:function(t,e,i,n,r,o,a,s,l,c,u,h,d,p,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new tt.Matrix4).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){var n=this.elements;return t.set(n[0],n[1],n[2]),e.set(n[4],n[5],n[6]),i.set(n[8],n[9],n[10]),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new tt.Vector3);var i=this.elements,n=e.elements,r=1/t.set(n[0],n[1],n[2]).length(),o=1/t.set(n[4],n[5],n[6]).length(),a=1/t.set(n[8],n[9],n[10]).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*o,i[5]=n[5]*o,i[6]=n[6]*o,i[8]=n[8]*a,i[9]=n[9]*a,i[10]=n[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof tt.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,r=t.z,o=Math.cos(i),a=Math.sin(i),s=Math.cos(n),l=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=o*c,d=o*u,p=a*c,f=a*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=d+p*l,e[5]=h-f*l,e[9]=-a*s,e[2]=f-h*l,e[6]=p+d*l,e[10]=o*s}else if("YXZ"===t.order){var m=s*c,g=s*u,v=l*c,y=l*u;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*c,g=s*u,v=l*c,y=l*u;e[0]=m-y*a,e[4]=-o*u,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*c,e[9]=y-m*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){h=o*c,d=o*u,p=a*c,f=a*u;e[0]=s*c,e[4]=p*l-d,e[8]=h*l+f,e[1]=s*u,e[5]=f*l+h,e[9]=d*l-p,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,b=o*l,w=a*s,x=a*l;e[0]=s*c,e[4]=x-_*u,e[8]=w*u+b,e[1]=u,e[5]=o*c,e[9]=-a*c,e[2]=-l*c,e[6]=b*u+w,e[10]=_-x*u}else if("XZY"===t.order){_=o*s,b=o*l,w=a*s,x=a*l;e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=_*u+x,e[5]=o*c,e[9]=b*u-w,e[2]=w*u-b,e[6]=a*c,e[10]=x*u+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z,o=t.w,a=i+i,s=n+n,l=r+r,c=i*a,u=i*s,h=i*l,d=n*s,p=n*l,f=r*l,m=o*a,g=o*s,v=o*l;return e[0]=1-(d+f),e[4]=u-v,e[8]=h+g,e[1]=u+v,e[5]=1-(c+f),e[9]=p-m,e[2]=h-g,e[6]=p+m,e[10]=1-(c+d),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,i){void 0===v&&(v=new tt.Vector3),void 0===y&&(y=new tt.Vector3),void 0===_&&(_=new tt.Vector3);var n=this.elements;return _.subVectors(t,e).normalize(),0===_.lengthSq()&&(_.z=1),v.crossVectors(i,_).normalize(),0===v.lengthSq()&&(_.x+=1e-4,v.crossVectors(i,_).normalize()),y.crossVectors(_,v),n[0]=v.x,n[4]=y.x,n[8]=_.x,n[1]=v.y,n[5]=y.y,n[9]=_.y,n[2]=v.z,n[6]=y.z,n[10]=_.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,o=i[0],a=i[4],s=i[8],l=i[12],c=i[1],u=i[5],h=i[9],d=i[13],p=i[2],f=i[6],m=i[10],g=i[14],v=i[3],y=i[7],_=i[11],b=i[15],w=n[0],x=n[4],M=n[8],S=n[12],k=n[1],T=n[5],C=n[9],E=n[13],A=n[2],L=n[6],D=n[10],P=n[14],O=n[3],I=n[7],N=n[11],R=n[15];return r[0]=o*w+a*k+s*A+l*O,r[4]=o*x+a*T+s*L+l*I,r[8]=o*M+a*C+s*D+l*N,r[12]=o*S+a*E+s*P+l*R,r[1]=c*w+u*k+h*A+d*O,r[5]=c*x+u*T+h*L+d*I,r[9]=c*M+u*C+h*D+d*N,r[13]=c*S+u*E+h*P+d*R,r[2]=p*w+f*k+m*A+g*O,r[6]=p*x+f*T+m*L+g*I,r[10]=p*M+f*C+m*D+g*N,r[14]=p*S+f*E+m*P+g*R,r[3]=v*w+y*k+_*A+b*O,r[7]=v*x+y*T+_*L+b*I,r[11]=v*M+y*C+_*D+b*N,r[15]=v*S+y*E+_*P+b*R,this},multiplyToArray:function(t,e,i){var n=this.elements;return this.multiplyMatrices(t,e),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new tt.Vector3),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,o=i;r<n;r+=3,o+=3)t.fromArray(e,o),t.applyMatrix4(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new tt.Vector3),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,o=i;r<n;r++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix4(this),e.setXYZ(t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],o=t[1],a=t[5],s=t[9],l=t[13],c=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+r*s*u-n*l*u-r*a*h+i*l*h+n*a*d-i*s*d)+t[7]*(+e*s*d-e*l*h+r*o*h-n*o*d+n*l*c-r*s*c)+t[11]*(+e*l*u-e*a*d-r*o*u+i*o*d+r*a*c-i*l*c)+t[15]*(-n*a*c-e*s*u+e*a*h+n*o*u-i*o*h+i*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t},getPosition:function(){var t;return function(){void 0===t&&(t=new tt.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],o=n[4],a=n[8],s=n[12],l=n[1],c=n[5],u=n[9],h=n[13],d=n[2],p=n[6],f=n[10],m=n[14],g=n[3],v=n[7],y=n[11],_=n[15];i[0]=u*m*v-h*f*v+h*p*y-c*m*y-u*p*_+c*f*_,i[4]=s*f*v-a*m*v-s*p*y+o*m*y+a*p*_-o*f*_,i[8]=a*h*v-s*u*v+s*c*y-o*h*y-a*c*_+o*u*_,i[12]=s*u*p-a*h*p-s*c*f+o*h*f+a*c*m-o*u*m,i[1]=h*f*g-u*m*g-h*d*y+l*m*y+u*d*_-l*f*_,i[5]=a*m*g-s*f*g+s*d*y-r*m*y-a*d*_+r*f*_,i[9]=s*u*g-a*h*g-s*l*y+r*h*y+a*l*_-r*u*_,i[13]=a*h*d-s*u*d+s*l*f-r*h*f-a*l*m+r*u*m,i[2]=c*m*g-h*p*g+h*d*v-l*m*v-c*d*_+l*p*_,i[6]=s*p*g-o*m*g-s*d*v+r*m*v+o*d*_-r*p*_,i[10]=o*h*g-s*c*g+s*l*v-r*h*v-o*l*_+r*c*_,i[14]=s*c*d-o*h*d-s*l*p+r*h*p+o*l*m-r*c*m,i[3]=u*p*g-c*f*g-u*d*v+l*f*v+c*d*y-l*p*y,i[7]=o*f*g-a*p*g+a*d*v-r*f*v-o*d*y+r*p*y,i[11]=a*c*g-o*u*g-a*l*v+r*u*v+o*l*y-r*c*y,i[15]=o*u*d-a*c*d+a*l*p-r*u*p-o*l*f+r*c*f;var b=r*i[0]+l*i[4]+d*i[8]+g*i[12];if(0===b){var w="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(w);return console.warn(w),this.identity(),this}return this.multiplyScalar(1/b),this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,o=t.x,a=t.y,s=t.z,l=r*o,c=r*a;return this.set(l*o+i,l*a-n*s,l*s+n*a,0,l*a+n*s,c*a+i,c*s-n*o,0,l*s-n*a,c*s+n*o,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t,e;return function(i,n,r){void 0===t&&(t=new tt.Vector3),void 0===e&&(e=new tt.Matrix4);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),l=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),i.x=o[12],i.y=o[13],i.z=o[14],e.elements.set(this.elements);var c=1/a,u=1/s,h=1/l;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=u,e.elements[5]*=u,e.elements[6]*=u,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,n.setFromRotationMatrix(e),r.x=a,r.y=s,r.z=l,this}}(),makeFrustum:function(t,e,i,n,r,o){var a=this.elements,s=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,i,n){var r=i*Math.tan(tt.Math.degToRad(.5*t)),o=-r,a=o*e,s=r*e;return this.makeFrustum(a,s,o,r,i,n)},makeOrthographic:function(t,e,i,n,r,o){var a=this.elements,s=e-t,l=i-n,c=o-r,u=(e+t)/s,h=(i+n)/l,d=(o+r)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2/l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}},tt.Ray=function(t,e){this.origin=void 0!==t?t:new tt.Vector3,this.direction=void 0!==e?e:new tt.Vector3},tt.Ray.prototype={constructor:tt.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new tt.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){this.direction.copy(t).sub(this.origin).normalize()},recast:function(){var t=new tt.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new tt.Vector3;i.subVectors(t,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new tt.Vector3;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(w=new tt.Vector3,x=new tt.Vector3,M=new tt.Vector3,function(t,e,i,n){w.copy(t).add(e).multiplyScalar(.5),x.copy(e).sub(t).normalize(),M.copy(this.origin).sub(w);var r,o,a,s,l=.5*t.distanceTo(e),c=-this.direction.dot(x),u=M.dot(this.direction),h=-M.dot(x),d=M.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(o=c*u-h,s=l*p,(r=c*h-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(r*=f)*(r+c*(o*=f)+2*u)+o*(c*r+o+2*h)+d}else o=l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+d;else o=-l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+d;else o<=-s?a=-(r=Math.max(0,-(-c*l+u)))*r+(o=r>0?-l:Math.min(Math.max(-l,-h),l))*(o+2*h)+d:o<=s?(r=0,a=(o=Math.min(Math.max(-l,-h),l))*(o+2*h)+d):a=-(r=Math.max(0,-(c*l+u)))*r+(o=r>0?l:Math.min(Math.max(-l,-h),l))*(o+2*h)+d;else o=c>0?-l:l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+d;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(x).multiplyScalar(o).add(w),a}),intersectSphere:function(){var t=new tt.Vector3;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,o=e.radius*e.radius;if(r>o)return null;var a=Math.sqrt(o-r),s=n-a,l=n+a;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,n,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(i=(t.min.x-h.x)*l,n=(t.max.x-h.x)*l):(i=(t.max.x-h.x)*l,n=(t.min.x-h.x)*l),c>=0?(r=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),i>o||r>n?null:((r>i||i!=i)&&(i=r),(o<n||n!=n)&&(n=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),i>s||a>n?null:((a>i||i!=i)&&(i=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:(b=new tt.Vector3,function(t){return null!==this.intersectBox(t,b)}),intersectTriangle:function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Vector3,n=new tt.Vector3;return function(r,o,a,s,l){e.subVectors(o,r),i.subVectors(a,r),n.crossVectors(e,i);var c,u=this.direction.dot(n);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}t.subVectors(this.origin,r);var h=c*this.direction.dot(i.crossVectors(t,i));if(h<0)return null;var d=c*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>u)return null;var p=-c*t.dot(n);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},tt.Sphere=function(t,e){this.center=void 0!==t?t:new tt.Vector3,this.radius=void 0!==e?e:0},tt.Sphere.prototype={constructor:tt.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new tt.Box3;return function(e,i){var n=this.center;void 0!==i?n.copy(i):t.setFromPoints(e).center(n);for(var r=0,o=0,a=e.length;o<a;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),n=e||new tt.Vector3;return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new tt.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},tt.Frustum=function(t,e,i,n,r,o){this.planes=[void 0!==t?t:new tt.Plane,void 0!==e?e:new tt.Plane,void 0!==i?i:new tt.Plane,void 0!==n?n:new tt.Plane,void 0!==r?r:new tt.Plane,void 0!==o?o:new tt.Plane]},tt.Frustum.prototype={constructor:tt.Frustum,set:function(t,e,i,n,r,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(n),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],l=i[5],c=i[6],u=i[7],h=i[8],d=i[9],p=i[10],f=i[11],m=i[12],g=i[13],v=i[14],y=i[15];return e[0].setComponents(a-n,u-s,f-h,y-m).normalize(),e[1].setComponents(a+n,u+s,f+h,y+m).normalize(),e[2].setComponents(a+r,u+l,f+d,y+g).normalize(),e[3].setComponents(a-r,u-l,f-d,y-g).normalize(),e[4].setComponents(a-o,u-c,f-p,y-v).normalize(),e[5].setComponents(a+o,u+c,f+p,y+v).normalize(),this},intersectsObject:(T=new tt.Sphere,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),T.copy(e.boundingSphere),T.applyMatrix4(t.matrixWorld),this.intersectsSphere(T)}),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(i)<n)return!1}return!0},intersectsBox:(S=new tt.Vector3,k=new tt.Vector3,function(t){for(var e=this.planes,i=0;i<6;i++){var n=e[i];S.x=n.normal.x>0?t.min.x:t.max.x,k.x=n.normal.x>0?t.max.x:t.min.x,S.y=n.normal.y>0?t.min.y:t.max.y,k.y=n.normal.y>0?t.max.y:t.min.y,S.z=n.normal.z>0?t.min.z:t.max.z,k.z=n.normal.z>0?t.max.z:t.min.z;var r=n.distanceToPoint(S),o=n.distanceToPoint(k);if(r<0&&o<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}},tt.Plane=function(t,e){this.normal=void 0!==t?t:new tt.Vector3(1,0,0),this.constant=void 0!==e?e:0},tt.Plane.prototype={constructor:tt.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new tt.Vector3,e=new tt.Vector3;return function(i,n,r){var o=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t);return(e||new tt.Vector3).copy(this.normal).multiplyScalar(i)},intersectLine:function(){var t=new tt.Vector3;return function(e,i){var n=i||new tt.Vector3,r=e.delta(t),o=this.normal.dot(r);if(0===o)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new tt.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Matrix3;return function(n,r){var o=r||i.getNormalMatrix(n),a=t.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(e);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},tt.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),n=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]="-":14===r?i[r]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,i[r]=e[19===r?3&t|8:t]);return i.join("")}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:(E=Math.PI/180,function(t){return t*E}),radToDeg:(C=180/Math.PI,function(t){return t*C}),isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}},tt.Spline=function(t){this.points=t;var e,i,n,r,o,a,s,l,c,u=[],h={x:0,y:0,z:0};function d(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return e=(this.points.length-1)*t,i=Math.floor(e),n=e-i,u[0]=0===i?i:i-1,u[1]=i,u[2]=i>this.points.length-2?this.points.length-1:i+1,u[3]=i>this.points.length-3?this.points.length-1:i+2,a=this.points[u[0]],s=this.points[u[1]],l=this.points[u[2]],c=this.points[u[3]],o=n*(r=n*n),h.x=d(a.x,s.x,l.x,c.x,n,r,o),h.y=d(a.y,s.y,l.y,c.y,n,r,o),h.z=d(a.z,s.z,l.z,c.z,n,r,o),h},this.getControlPointsArray=function(){var t,e,i=this.points.length,n=[];for(t=0;t<i;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,i,n,r,o=0,a=0,s=0,l=new tt.Vector3,c=new tt.Vector3,u=[],h=0;for(u[0]=0,t||(t=100),n=this.points.length*t,l.copy(this.points[0]),e=1;e<n;e++)i=e/n,r=this.getPoint(i),c.copy(r),h+=c.distanceTo(l),l.copy(r),o=(this.points.length-1)*i,(a=Math.floor(o))!==s&&(u[a]=h,s=a);return u[u.length]=h,{chunks:u,total:h}},this.reparametrizeByArcLength=function(t){var e,i,n,r,o,a,s,l,c=[],u=new tt.Vector3,h=this.getLength();for(c.push(u.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=h.chunks[e]-h.chunks[e-1],s=Math.ceil(t*a/h.total),r=(e-1)/(this.points.length-1),o=e/(this.points.length-1),i=1;i<s-1;i++)n=r+i*(1/s)*(o-r),l=this.getPoint(n),c.push(u.copy(l).clone());c.push(u.copy(this.points[e]).clone())}this.points=c}},tt.Triangle=function(t,e,i){this.a=void 0!==t?t:new tt.Vector3,this.b=void 0!==e?e:new tt.Vector3,this.c=void 0!==i?i:new tt.Vector3},tt.Triangle.normal=(A=new tt.Vector3,function(t,e,i,n){var r=n||new tt.Vector3;r.subVectors(i,e),A.subVectors(t,e),r.cross(A);var o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}),tt.Triangle.barycoordFromPoint=function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Vector3;return function(n,r,o,a,s){t.subVectors(a,r),e.subVectors(o,r),i.subVectors(n,r);var l=t.dot(t),c=t.dot(e),u=t.dot(i),h=e.dot(e),d=e.dot(i),p=l*h-c*c,f=s||new tt.Vector3;if(0===p)return f.set(-2,-1,-1);var m=1/p,g=(h*u-c*d)*m,v=(l*d-c*u)*m;return f.set(1-g-v,v,g)}}(),tt.Triangle.containsPoint=function(){var t=new tt.Vector3;return function(e,i,n,r){var o=tt.Triangle.barycoordFromPoint(e,i,n,r,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),tt.Triangle.prototype={constructor:tt.Triangle,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new tt.Vector3,e=new tt.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new tt.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return tt.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new tt.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return tt.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return tt.Triangle.containsPoint(t,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},tt.Interpolant=function(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i},tt.Interpolant.prototype={constructor:tt.Interpolant,evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var o;i:{n:if(!(t<n)){for(var a=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===a)break;if(r=n,t<(n=e[++i]))break e}o=e.length;break i}if(t>=r)break t;var s=e[1];t<s&&(i=2,r=s);for(a=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===a)break;if(n=r,t>=(r=e[--i-1]))break e}o=i,i=0}for(;i<o;){var l=i+o>>>1;t<e[l]?o=l:i=l+1}if(n=e[i],void 0===(r=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,o=0;o!==n;++o)e[o]=i[r+o];return e},interpolate_:function(t,e,i,n){throw new Error("call to abstract method")},intervalChanged_:function(t,e,i){}},Object.assign(tt.Interpolant.prototype,{beforeStart_:tt.Interpolant.prototype.copySampleValue_,afterEnd_:tt.Interpolant.prototype.copySampleValue_}),tt.CubicInterpolant=function(t,e,i,n){tt.Interpolant.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},tt.CubicInterpolant.prototype=Object.assign(Object.create(tt.Interpolant.prototype),{constructor:tt.CubicInterpolant,DefaultSettings_:{endingStart:tt.ZeroCurvatureEnding,endingEnd:tt.ZeroCurvatureEnding},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,o=t+1,a=n[r],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case tt.ZeroSlopeEnding:r=t,a=2*e-i;break;case tt.WrapAroundEnding:a=e+n[r=n.length-2]-n[r+1];break;default:r=t,a=i}if(void 0===s)switch(this.getSettings_().endingEnd){case tt.ZeroSlopeEnding:o=t,s=2*i-e;break;case tt.WrapAroundEnding:o=1,s=i+n[1]-n[0];break;default:o=t-1,s=e}var l=.5*(i-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-i),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-e)/(n-e),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,b=0;b!==a;++b)r[b]=g*o[c+b]+v*o[l+b]+y*o[s+b]+_*o[u+b];return r}}),tt.DiscreteInterpolant=function(t,e,i,n){tt.Interpolant.call(this,t,e,i,n)},tt.DiscreteInterpolant.prototype=Object.assign(Object.create(tt.Interpolant.prototype),{constructor:tt.DiscreteInterpolant,interpolate_:function(t,e,i,n){return this.copySampleValue_(t-1)}}),tt.LinearInterpolant=function(t,e,i,n){tt.Interpolant.call(this,t,e,i,n)},tt.LinearInterpolant.prototype=Object.assign(Object.create(tt.Interpolant.prototype),{constructor:tt.LinearInterpolant,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=(i-e)/(n-e),u=1-c,h=0;h!==a;++h)r[h]=o[l+h]*u+o[s+h]*c;return r}}),tt.QuaternionLinearInterpolant=function(t,e,i,n){tt.Interpolant.call(this,t,e,i,n)},tt.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(tt.Interpolant.prototype),{constructor:tt.QuaternionLinearInterpolant,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=(i-e)/(n-e),c=s+a;s!==c;s+=4)tt.Quaternion.slerpFlat(r,0,o,s-a,o,s,l);return r}}),tt.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},tt.Clock.prototype={constructor:tt.Clock,start:function(){this.startTime=performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=performance.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},tt.EventDispatcher=function(){},tt.EventDispatcher.prototype={constructor:tt.EventDispatcher,apply:function(t){t.addEventListener=tt.EventDispatcher.prototype.addEventListener,t.hasEventListener=tt.EventDispatcher.prototype.hasEventListener,t.removeEventListener=tt.EventDispatcher.prototype.removeEventListener,t.dispatchEvent=tt.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=[],n=e.length,r=0;r<n;r++)i[r]=e[r];for(r=0;r<n;r++)i[r].call(this,t)}}}},tt.Layers=function(){this.mask=1},tt.Layers.prototype={constructor:tt.Layers,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}},function(t){function e(t,e){return t.distance-e.distance}function i(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var o=t.children,a=0,s=o.length;a<s;a++)i(o[a],e,n,!0)}t.Raycaster=function(e,i,n,r){this.ray=new t.Ray(e,i),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},t.Raycaster.prototype={constructor:t.Raycaster,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(e,i){i instanceof t.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(i).sub(this.ray.origin).normalize()):i instanceof t.OrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,n){var r=[];return i(t,this,r,n),r.sort(e),r},intersectObjects:function(t,n){var r=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var o=0,a=t.length;o<a;o++)i(t[o],this,r,n);return r.sort(e),r}}}(tt),tt.Object3D=function(){Object.defineProperty(this,"id",{value:tt.Object3DIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tt.Object3D.DefaultUp.clone();var t=new tt.Vector3,e=new tt.Euler,i=new tt.Quaternion,n=new tt.Vector3(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new tt.Matrix4},normalMatrix:{value:new tt.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new tt.Matrix4,this.matrixWorld=new tt.Matrix4,this.matrixAutoUpdate=tt.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new tt.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},tt.Object3D.DefaultUp=new tt.Vector3(0,1,0),tt.Object3D.DefaultMatrixAutoUpdate=!0,tt.Object3D.prototype={constructor:tt.Object3D,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(O=new tt.Quaternion,function(t,e){return O.setFromAxisAngle(t,e),this.quaternion.multiply(O),this}),rotateX:function(){var t=new tt.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new tt.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new tt.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new tt.Vector3;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new tt.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new tt.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new tt.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(P=new tt.Matrix4,function(t){return t.applyMatrix4(P.getInverse(this.matrixWorld))}),lookAt:function(){var t=new tt.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t instanceof tt.Object3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){var e=t||new tt.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(L=new tt.Vector3,D=new tt.Vector3,function(t){var e=t||new tt.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(L,e,D),e}),getWorldRotation:function(){var t=new tt.Quaternion;return function(e){var i=e||new tt.Euler;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new tt.Vector3,e=new tt.Quaternion;return function(i){var n=i||new tt.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new tt.Quaternion;return function(e){var i=e||new tt.Vector3;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),n.material=this.material.uuid),this.children.length>0){n.children=[];for(var r=0;r<this.children.length;r++)n.children.push(this.children[r].toJSON(t).object)}if(e){var o=c(t.geometries),a=c(t.materials),s=c(t.textures),l=c(t.images);o.length>0&&(i.geometries=o),a.length>0&&(i.materials=a),s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i.object=n,i;function c(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.rotationAutoUpdate=t.rotationAutoUpdate,this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}},tt.EventDispatcher.prototype.apply(tt.Object3D.prototype),tt.Object3DIdCount=0,tt.Face3=function(t,e,i,n,r,o){this.a=t,this.b=e,this.c=i,this.normal=n instanceof tt.Vector3?n:new tt.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=r instanceof tt.Color?r:new tt.Color,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0},tt.Face3.prototype={constructor:tt.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},tt.BufferAttribute=function(t,e){this.uuid=tt.Math.generateUUID(),this.array=t,this.itemSize=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},tt.BufferAttribute.prototype={constructor:tt.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new tt.Color),e[i++]=o.r,e[i++]=o.g,e[i++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];e[i++]=o.a,e[i++]=o.b,e[i++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new tt.Vector2),e[i++]=o.x,e[i++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new tt.Vector3),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new tt.Vector4),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},tt.Int8Attribute=function(t,e){return new tt.BufferAttribute(new Int8Array(t),e)},tt.Uint8Attribute=function(t,e){return new tt.BufferAttribute(new Uint8Array(t),e)},tt.Uint8ClampedAttribute=function(t,e){return new tt.BufferAttribute(new Uint8ClampedArray(t),e)},tt.Int16Attribute=function(t,e){return new tt.BufferAttribute(new Int16Array(t),e)},tt.Uint16Attribute=function(t,e){return new tt.BufferAttribute(new Uint16Array(t),e)},tt.Int32Attribute=function(t,e){return new tt.BufferAttribute(new Int32Array(t),e)},tt.Uint32Attribute=function(t,e){return new tt.BufferAttribute(new Uint32Array(t),e)},tt.Float32Attribute=function(t,e){return new tt.BufferAttribute(new Float32Array(t),e)},tt.Float64Attribute=function(t,e){return new tt.BufferAttribute(new Float64Array(t),e)},tt.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new tt.BufferAttribute(t,e).setDynamic(!0)},tt.InstancedBufferAttribute=function(t,e,i){tt.BufferAttribute.call(this,t,e),this.meshPerAttribute=i||1},tt.InstancedBufferAttribute.prototype=Object.create(tt.BufferAttribute.prototype),tt.InstancedBufferAttribute.prototype.constructor=tt.InstancedBufferAttribute,tt.InstancedBufferAttribute.prototype.copy=function(t){return tt.BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},tt.InterleavedBuffer=function(t,e){this.uuid=tt.Math.generateUUID(),this.array=t,this.stride=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},tt.InterleavedBuffer.prototype={constructor:tt.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},tt.InstancedInterleavedBuffer=function(t,e,i){tt.InterleavedBuffer.call(this,t,e),this.meshPerAttribute=i||1},tt.InstancedInterleavedBuffer.prototype=Object.create(tt.InterleavedBuffer.prototype),tt.InstancedInterleavedBuffer.prototype.constructor=tt.InstancedInterleavedBuffer,tt.InstancedInterleavedBuffer.prototype.copy=function(t){return tt.InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},tt.InterleavedBufferAttribute=function(t,e,i){this.uuid=tt.Math.generateUUID(),this.data=t,this.itemSize=e,this.offset=i},tt.InterleavedBufferAttribute.prototype={constructor:tt.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}},tt.Geometry=function(){Object.defineProperty(this,"id",{value:tt.GeometryIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},tt.Geometry.prototype={constructor:tt.Geometry,applyMatrix:function(t){for(var e=(new tt.Matrix3).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){this.vertices[i].applyMatrix4(t)}for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(e).normalize();for(var o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(e).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new tt.Matrix4),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new tt.Matrix4),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(t){void 0===I&&(I=new tt.Object3D),I.lookAt(t),I.updateMatrix(),this.applyMatrix(I.matrix)},fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,n=t.attributes,r=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,l=void 0!==n.uv2?n.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=[],u=[],h=[],d=0,p=0;d<r.length;d+=3,p+=2)e.vertices.push(new tt.Vector3(r[d],r[d+1],r[d+2])),void 0!==o&&c.push(new tt.Vector3(o[d],o[d+1],o[d+2])),void 0!==a&&e.colors.push(new tt.Color(a[d],a[d+1],a[d+2])),void 0!==s&&u.push(new tt.Vector2(s[p],s[p+1])),void 0!==l&&h.push(new tt.Vector2(l[p],l[p+1]));function f(t,i,n){var r=void 0!==o?[c[t].clone(),c[i].clone(),c[n].clone()]:[],d=void 0!==a?[e.colors[t].clone(),e.colors[i].clone(),e.colors[n].clone()]:[],p=new tt.Face3(t,i,n,r,d);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([u[t].clone(),u[i].clone(),u[n].clone()]),void 0!==l&&e.faceVertexUvs[1].push([h[t].clone(),h[i].clone(),h[n].clone()])}if(void 0!==i){var m=t.groups;if(m.length>0)for(d=0;d<m.length;d++)for(var g=m[d],v=g.start,y=(p=v,v+g.count);p<y;p+=3)f(i[p],i[p+1],i[p+2]);else for(d=0;d<i.length;d+=3)f(i[d],i[d+1],i[d+2])}else for(d=0;d<r.length/3;d+=3)f(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new tt.Matrix4;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new tt.Vector3,e=new tt.Vector3,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,r,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)a[e]=new tt.Vector3;if(t){var s,l,c,u=new tt.Vector3,h=new tt.Vector3;for(n=0,r=this.faces.length;n<r;n++)o=this.faces[n],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],u.subVectors(c,l),h.subVectors(s,l),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(n=0,r=this.faces.length;n<r;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,i=this.vertices.length;e<i;e++)a[e].normalize();for(n=0,r=this.faces.length;n<r;n++){var d=(o=this.faces[n]).vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for((r=this.faces[i]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var o=new tt.Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)l=new tt.Vector3,c={a:new tt.Vector3,b:new tt.Vector3,c:new tt.Vector3},a.push(l),s.push(c)}var l,c,u=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],l=u.faceNormals[i],c=u.vertexNormals[i],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)(r=this.faces[i]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,n=e.length;i<n;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new tt.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t instanceof tt.Geometry!=!1){var n,r=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,l=t.faces,c=this.faceVertexUvs[0],u=t.faceVertexUvs[0];void 0===i&&(i=0),void 0!==e&&(n=(new tt.Matrix3).getNormalMatrix(e));for(var h=0,d=a.length;h<d;h++){var p=a[h].clone();void 0!==e&&p.applyMatrix4(e),o.push(p)}for(h=0,d=l.length;h<d;h++){var f,m,g,v=l[h],y=v.vertexNormals,_=v.vertexColors;(f=new tt.Face3(v.a+r,v.b+r,v.c+r)).normal.copy(v.normal),void 0!==n&&f.normal.applyMatrix3(n).normalize();for(var b=0,w=y.length;b<w;b++)m=y[b].clone(),void 0!==n&&m.applyMatrix3(n).normalize(),f.vertexNormals.push(m);f.color.copy(v.color);for(b=0,w=_.length;b<w;b++)g=_[b],f.vertexColors.push(g.clone());f.materialIndex=v.materialIndex+i,s.push(f)}for(h=0,d=u.length;h<d;h++){var x=u[h],M=[];if(void 0!==x){for(b=0,w=x.length;b<w;b++)M.push(x[b].clone());c.push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t instanceof tt.Mesh!=!1?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,n,r,o,a,s,l={},c=[],u=[],h=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],void 0===l[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(l[e]=i,c.push(this.vertices[i]),u[i]=c.length-1):u[i]=u[l[e]];var d=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],o=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){p,d.push(i);break}}for(i=d.length-1;i>=0;i--){var f=d[i];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var n,r,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(n=[]),a&&a.length===e&&(r=[]);for(i=0;i<e;i++){var s=t[i]._id;n&&n.push(o[s]),r&&r.push(a[s])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var n=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];n.push(o.x,o.y,o.z)}var a=[],s=[],l={},c=[],u={},h=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=p.normal.length()>0,g=p.vertexNormals.length>0,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,_=0;if(_=M(_,0,0),_=M(_,1,!0),_=M(_,2,!1),_=M(_,3,f),_=M(_,4,m),_=M(_,5,g),_=M(_,6,v),_=M(_,7,y),a.push(_),a.push(p.a,p.b,p.c),a.push(p.materialIndex),f){var b=this.faceVertexUvs[0][r];a.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&a.push(S(p.normal)),g){var w=p.vertexNormals;a.push(S(w[0]),S(w[1]),S(w[2]))}if(v&&a.push(k(p.color)),y){var x=p.vertexColors;a.push(k(x[0]),k(x[1]),k(x[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]||(l[e]=s.length/3,s.push(t.x,t.y,t.z)),l[e]}function k(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=c.length,c.push(t.getHex())),u[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=n,t.data.normals=s,c.length>0&&(t.data.colors=c),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new tt.Geometry).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var e=t.vertices,i=0,n=e.length;i<n;i++)this.vertices.push(e[i].clone());var r=t.faces;for(i=0,n=r.length;i<n;i++)this.faces.push(r[i].clone());for(i=0,n=t.faceVertexUvs.length;i<n;i++){var o=t.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var a=0,s=o.length;a<s;a++){for(var l=o[a],c=[],u=0,h=l.length;u<h;u++){var d=l[u];c.push(d.clone())}this.faceVertexUvs[i].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},tt.EventDispatcher.prototype.apply(tt.Geometry.prototype),tt.GeometryIdCount=0,tt.DirectGeometry=function(){Object.defineProperty(this,"id",{value:tt.GeometryIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},tt.DirectGeometry.prototype={constructor:tt.DirectGeometry,computeBoundingBox:tt.Geometry.prototype.computeBoundingBox,computeBoundingSphere:tt.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){for(var e,i,n=[],r=t.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,i=t.faces,n=t.vertices,r=t.faceVertexUvs,o=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]=[];this.morphTargets.position=e}var u,h=t.morphNormals,d=h.length;if(d>0){u=[];for(c=0;c<d;c++)u[c]=[];this.morphTargets.normal=u}var p=t.skinIndices,f=t.skinWeights,m=p.length===n.length,g=f.length===n.length;for(c=0;c<i.length;c++){var v=i[c];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=v.normal;this.normals.push(_,_,_)}var b,w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=v.color;this.colors.push(x,x,x)}if(!0===o)void 0!==(b=r[0][c])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new tt.Vector2,new tt.Vector2,new tt.Vector2));if(!0===a)void 0!==(b=r[1][c])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new tt.Vector2,new tt.Vector2,new tt.Vector2));for(var M=0;M<l;M++){var S=s[M].vertices;e[M].push(S[v.a],S[v.b],S[v.c])}for(M=0;M<d;M++){var k=h[M].vertexNormals[c];u[M].push(k.a,k.b,k.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},tt.EventDispatcher.prototype.apply(tt.DirectGeometry.prototype),tt.BufferGeometry=function(){Object.defineProperty(this,"id",{value:tt.GeometryIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},tt.BufferGeometry.prototype={constructor:tt.BufferGeometry,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return e instanceof tt.BufferAttribute==!1&&e instanceof tt.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new tt.BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new tt.Matrix3).getNormalMatrix(t).applyToVector3Array(i.array),i.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new tt.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new tt.Matrix4),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new tt.Matrix4),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new tt.Object3D),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t instanceof tt.Points||t instanceof tt.Line){var i=new tt.Float32Attribute(3*e.vertices.length,3),n=new tt.Float32Attribute(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new tt.Float32Attribute(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t instanceof tt.Mesh&&e instanceof tt.Geometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,i=t.geometry;if(t instanceof tt.Mesh){var n=i.__directGeometry;if(void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1);!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1);!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1);i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1);i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1);return i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new tt.DirectGeometry).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new tt.BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new tt.BufferAttribute(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new tt.BufferAttribute(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new tt.BufferAttribute(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new tt.BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=new(t.vertices.length>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new tt.BufferAttribute(a,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var l=[],c=t.morphTargets[s],u=0,h=c.length;u<h;u++){var d=c[u],p=new tt.Float32Attribute(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[s]=l}if(t.skinIndices.length>0){var f=new tt.Float32Attribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new tt.Float32Attribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){new tt.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new tt.Box3);var t=this.attributes.position.array;t&&this.boundingBox.setFromArray(t),void 0!==t&&0!==t.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var t=new tt.Box3,e=new tt.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new tt.Sphere);var i=this.attributes.position.array;if(i){var n=this.boundingSphere.center;t.setFromArray(i),t.center(n);for(var r=0,o=0,a=i.length;o<a;o+=3)e.fromArray(i,o),r=Math.max(r,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new tt.BufferAttribute(new Float32Array(n.length),3));else for(var r=e.normal.array,o=0,a=r.length;o<a;o++)r[o]=0;var s,l,c,u=e.normal.array,h=new tt.Vector3,d=new tt.Vector3,p=new tt.Vector3,f=new tt.Vector3,m=new tt.Vector3;if(t){var g=t.array;0===i.length&&this.addGroup(0,g.length);for(var v=0,y=i.length;v<y;++v){var _=i[v],b=_.start;for(o=b,a=b+_.count;o<a;o+=3)s=3*g[o+0],l=3*g[o+1],c=3*g[o+2],h.fromArray(n,s),d.fromArray(n,l),p.fromArray(n,c),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),u[s]+=f.x,u[s+1]+=f.y,u[s+2]+=f.z,u[l]+=f.x,u[l+1]+=f.y,u[l+2]+=f.z,u[c]+=f.x,u[c+1]+=f.y,u[c+2]+=f.z}}else for(o=0,a=n.length;o<a;o+=9)h.fromArray(n,o),d.fromArray(n,o+3),p.fromArray(n,o+6),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),u[o]=f.x,u[o+1]=f.y,u[o+2]=f.z,u[o+3]=f.x,u[o+4]=f.y,u[o+5]=f.z,u[o+6]=f.x,u[o+7]=f.y,u[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t instanceof tt.BufferGeometry!=!1){void 0===e&&(e=0);var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n].array,o=t.attributes[n],a=o.array,s=0,l=o.itemSize*e;s<a.length;s++,l++)r[l]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,i,n,r=this.attributes.normal.array,o=0,a=r.length;o<a;o+=3)t=r[o],e=r[o+1],i=r[o+2],n=1/Math.sqrt(t*t+e*e+i*i),r[o]*=n,r[o+1]*=n,r[o+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new tt.BufferGeometry,e=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],o=r.array,a=r.itemSize,s=new o.constructor(e.length*a),l=0,c=0,u=0,h=e.length;u<h;u++){l=e[u]*a;for(var d=0;d<a;d++)s[c++]=o[l++]}t.addAttribute(n,new tt.BufferAttribute(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:r}}var o=this.attributes;for(var i in o){var a=o[i];r=Array.prototype.slice.call(a.array);t.data.attributes[i]={itemSize:a.itemSize,type:a.array.constructor.name,array:r}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new tt.BufferGeometry).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var l=o[a];this.addGroup(l.start,l.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},tt.EventDispatcher.prototype.apply(tt.BufferGeometry.prototype),tt.BufferGeometry.MaxIndex=65535,tt.InstancedBufferGeometry=function(){tt.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},tt.InstancedBufferGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.InstancedBufferGeometry.prototype.constructor=tt.InstancedBufferGeometry,tt.InstancedBufferGeometry.prototype.addGroup=function(t,e,i){this.groups.push({start:t,count:e,instances:i})},tt.InstancedBufferGeometry.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var l=o[a];this.addGroup(l.start,l.count,l.instances)}return this},tt.EventDispatcher.prototype.apply(tt.InstancedBufferGeometry.prototype),tt.Uniform=function(t,e){this.type=t,this.value=e,this.dynamic=!1},tt.Uniform.prototype={constructor:tt.Uniform,onUpdate:function(t){return this.dynamic=!0,this.onUpdateCallback=t,this}},tt.AnimationClip=function(t,e,i){this.name=t||tt.Math.generateUUID(),this.tracks=i,this.duration=void 0!==e?e:-1,this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},tt.AnimationClip.prototype={constructor:tt.AnimationClip,resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(tt.AnimationClip,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,o=i.length;r!==o;++r)e.push(tt.KeyframeTrack.parse(i[r]).scale(n));return new tt.AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e},r=0,o=i.length;r!==o;++r)e.push(tt.KeyframeTrack.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i){for(var n=e.length,r=[],o=0;o<n;o++){var a=[],s=[];a.push((o+n-1)%n,o,(o+1)%n),s.push(0,1,0);var l=tt.AnimationUtils.getKeyframeOrder(a);a=tt.AnimationUtils.sortedArray(a,1,l),s=tt.AnimationUtils.sortedArray(s,1,l),0===a[0]&&(a.push(n),s.push(s[0])),r.push(new tt.NumberKeyframeTrack(".morphTargetInfluences["+e[o].name+"]",a,s).scale(1/i))}return new tt.AnimationClip(t,-1,r)},findByName:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},CreateClipsFromMorphTargetSequences:function(t,e){for(var i={},n=/^([\w-]*?)([\d]+)$/,r=0,o=t.length;r<o;r++){var a=t[r],s=a.name.match(n);if(s&&s.length>1){var l=i[u=s[1]];l||(i[u]=l=[]),l.push(a)}}var c=[];for(var u in i)c.push(tt.AnimationClip.CreateFromMorphTargetSequence(u,i[u],e));return c},parseAnimation:function(t,e,i){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,i,n,r){if(0!==i.length){var o=[],a=[];tt.AnimationUtils.flattenJSON(i,o,a,n),0!==o.length&&r.push(new t(e,o,a))}},r=[],o=t.name||"default",a=t.length||-1,s=t.fps||30,l=t.hierarchy||[],c=0;c<l.length;c++){var u=l[c].keys;if(u&&0!=u.length)if(u[0].morphTargets){for(var h={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var p=0;p<u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=-1;for(var f in h){var m=[],g=[];for(p=0;p!==u[d].morphTargets.length;++p){var v=u[d];m.push(v.time),g.push(v.morphTarget===f?1:0)}r.push(new tt.NumberKeyframeTrack(".morphTargetInfluence["+f+"]",m,g))}a=h.length*(s||1)}else{var y=".bones["+e[c].name+"]";n(tt.VectorKeyframeTrack,y+".position",u,"pos",r),n(tt.QuaternionKeyframeTrack,y+".quaternion",u,"rot",r),n(tt.VectorKeyframeTrack,y+".scale",u,"scl",r)}}return 0===r.length?null:new tt.AnimationClip(o,a,r)}}),tt.AnimationMixer=function(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},tt.AnimationMixer.prototype={constructor:tt.AnimationMixer,clipAction:function(t,e){var i,n=(e||this._root).uuid,r="string"==typeof t?t:t.name,o=t!==r?t:null,a=this._actionsByClip[r];if(void 0!==a){var s=a.actionByRoot[n];if(void 0!==s)return s;if(o=(i=a.knownActions[0])._clip,t!==r&&t!==o)throw new Error("Different clips with the same name detected!")}if(null===o)return null;var l=new tt.AnimationMixer._Action(this,o,e);return this._bindAction(l,i),this._addInactiveAction(l,r,n),l},existingAction:function(t,e){var i=(e||this._root).uuid,n="string"==typeof t?t:t.name,r=this._actionsByClip[n];return void 0!==r&&r.actionByRoot[i]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,a=0;a!==i;++a){var s=e[a];s.enabled&&s._update(n,t,r,o)}var l=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)l[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.name,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var c=l._cacheIndex,u=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,e[c]=u,e.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}},tt.EventDispatcher.prototype.apply(tt.AnimationMixer.prototype),tt.AnimationMixer._Action=function(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,o=new Array(r),a={endingStart:tt.ZeroCurvatureEnding,endingEnd:tt.ZeroCurvatureEnding},s=0;s!==r;++s){var l=n[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tt.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},tt.AnimationMixer._Action.prototype={constructor:tt.AnimationMixer._Action,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){this._startTime;return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){this._mixer;if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,o=r/n,a=n/r;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._currentTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+i,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){var r=this._startTime;if(null!==r){var o=(t-r)*i;if(o<0||0===i)return;this._startTime=null,e=i*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(n,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.pause=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount,o=!1;switch(n){case tt.LoopOnce:if(-1===r&&(this.loopCount=0,this._setEndings(!0,!0,!1)),e>=i)e=i;else{if(!(e<0))break;e=0}this.clampWhenFinished?this.pause=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1});break;case tt.LoopPingPong:o=!0;case tt.LoopRepeat:if(-1===r&&(t>0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=i||e<0){var a=Math.floor(e/i);e-=i*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<0){this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});break}if(0===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}if(n===tt.LoopPingPong&&1==(1&r))return this.time=e,i-e}return this.time=e,e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=tt.ZeroSlopeEnding,n.endingEnd=tt.ZeroSlopeEnding):(n.endingStart=t?this.zeroSlopeAtStart?tt.ZeroSlopeEnding:tt.ZeroCurvatureEnding:tt.WrapAroundEnding,n.endingEnd=e?this.zeroSlopeAtEnd?tt.ZeroSlopeEnding:tt.ZeroCurvatureEnding:tt.WrapAroundEnding)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=e,a[1]=r+t,s[1]=i,this}},Object.assign(tt.AnimationMixer.prototype,{_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,o=t._propertyBindings,a=t._interpolants,s=i.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==r;++u){var h=n[u],d=h.name,p=c[d];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[u].binding.parsedPath;++(p=new tt.PropertyMixer(tt.PropertyBinding.create(i,d,f),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.name,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.name,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],o=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[n],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[r];t:{for(var c in a)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new tt.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),tt.AnimationObjectGroup=function(t){this.uuid=tt.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}},tt.AnimationObjectGroup.prototype={constructor:tt.AnimationObjectGroup,add:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,p=r[d];if(void 0===p){p=i++,r[d]=p,e.push(h);for(var f=0,m=l;f!==m;++f)s[f].push(new tt.PropertyBinding(h,o[f],a[f]))}else if(p<n){var g=e[p],v=--n,y=e[v];r[y.uuid]=p,e[p]=y,r[d]=v,e[v]=h;for(f=0,m=l;f!==m;++f){var _=s[f],b=_[v],w=_[p];_[p]=b,void 0===w&&(w=new tt.PropertyBinding(h,o[f],a[f])),_[v]=w}}else e[p]!==g&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,i=(e.length,this.nCachedObjects_),n=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],c=l.uuid,u=n[c];if(void 0!==u&&u>=i){var h=i++,d=e[h];n[d.uuid]=u,e[u]=d,n[c]=h,e[h]=l;for(var p=0,f=o;p!==f;++p){var m=r[p],g=m[h],v=m[u];m[u]=g,m[h]=v}}}this.nCachedObjects_=i},uncache:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,o=this._bindings,a=o.length,s=0,l=arguments.length;s!==l;++s){var c=arguments[s],u=c.uuid,h=r[u];if(void 0!==h)if(delete r[u],h<n){var d=--n,p=e[d],f=e[_=--i];r[p.uuid]=h,e[h]=p,r[f.uuid]=d,e[d]=f,e.pop();for(var m=0,g=a;m!==g;++m){var v=(b=o[m])[d],y=b[_];b[h]=v,b[d]=y,b.pop()}}else{var _;r[(f=e[_=--i]).uuid]=h,e[h]=f,e.pop();for(m=0,g=a;m!==g;++m){var b;(b=o[m])[h]=b[_],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);n=r.length,i[t]=n,o.push(t),a.push(e),r.push(u);for(var h=c,d=s.length;h!==d;++h){var p=s[h];u[h]=new tt.PropertyBinding(p,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=i,o[i]=s,o.pop(),r[i]=r[a],r.pop(),n[i]=n[a],n.pop()}}},tt.AnimationUtils={arraySlice:function(t,e,i){return tt.AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,i)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),n=0;n!==e;++n)i[n]=n;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),o=0,a=0;a!==n;++o)for(var s=i[o]*e,l=0;l!==e;++l)r[a++]=t[s+l];return r},flattenJSON:function(t,e,i,n){for(var r=1,o=t[0];void 0!==o&&void 0===o[n];)o=t[r++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(e.push(o.time),i.push.apply(i,a)),o=t[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(e.push(o.time),a.toArray(i,i.length)),o=t[r++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(e.push(o.time),i.push(a)),o=t[r++]}while(void 0!==o)}}},tt.KeyframeTrack=function(t,e,i,n){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=tt.AnimationUtils.convertArray(e,this.TimeBufferType),this.values=tt.AnimationUtils.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()},tt.KeyframeTrack.prototype={constructor:tt.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:tt.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(t){return new tt.DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new tt.LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new tt.CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e=void 0;switch(t){case tt.InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case tt.InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case tt.InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}console.warn(i)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return tt.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return tt.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return tt.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,n=i.length,r=0,o=n-1;r!==n&&i[r]<t;)++r;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==r||o!==n){r>=o&&(r=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=tt.AnimationUtils.arraySlice(i,r,o),this.values=tt.AnimationUtils.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==r;a++){var s=i[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==n&&tt.AnimationUtils.isTypedArray(n)){a=0;for(var l=n.length;a!==l;++a){var c=n[a];if(isNaN(c)){console.error("value is not a valid number",this,a,c),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=1,r=1,o=t.length-1;r<=o;++r){var a=!1,s=t[r];if(s!==t[r+1]&&(1!==r||s!==s[0]))for(var l=r*i,c=l-i,u=l+i,h=0;h!==i;++h){var d=e[l+h];if(d!==e[c+h]||d!==e[u+h]){a=!0;break}}if(a){if(r!==n){t[n]=t[r];var p=r*i,f=n*i;for(h=0;h!==i;++h)e[f+h]=e[p+h]}++n}}return n!==t.length&&(this.times=tt.AnimationUtils.arraySlice(t,0,n),this.values=tt.AnimationUtils.arraySlice(e,0,n*i)),this}},Object.assign(tt.KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=tt.KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){console.warn("legacy JSON format detected, converting");var i=[],n=[];tt.AnimationUtils.flattenJSON(t.keys,i,n,"value"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:tt.AnimationUtils.convertArray(t.times,Array),values:tt.AnimationUtils.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tt.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return tt.VectorKeyframeTrack;case"color":return tt.ColorKeyframeTrack;case"quaternion":return tt.QuaternionKeyframeTrack;case"bool":case"boolean":return tt.BooleanKeyframeTrack;case"string":return tt.StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),tt.PropertyBinding=function(t,e,i){this.path=e,this.parsedPath=i||tt.PropertyBinding.parseTrackName(e),this.node=tt.PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t},tt.PropertyBinding.prototype={constructor:tt.PropertyBinding,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=tt.PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var o=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[i])return void console.error("  can not bind to objectName of node, undefined",this);t=t[i]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[n];if(s){var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===r){r=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=e.nodeName;console.error("  trying to update property for track: "+u+"."+n+" but it wasn't found.",t)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(tt.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:tt.PropertyBinding.prototype.getValue,_setValue_unbound:tt.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),tt.PropertyBinding.Composite=function(t,e,i){var n=i||tt.PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)},tt.PropertyBinding.Composite.prototype={constructor:tt.PropertyBinding.Composite,getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},tt.PropertyBinding.create=function(t,e,i){return t instanceof tt.AnimationObjectGroup?new tt.PropertyBinding.Composite(t,e,i):new tt.PropertyBinding(t,e,i)},tt.PropertyBinding.parseTrackName=function(t){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,i=e.exec(t);if(!i)throw new Error("cannot parse trackName at all: "+t);i.index===e.lastIndex&&e.lastIndex++;var n={nodeName:i[3],objectName:i[5],objectIndex:i[7],propertyName:i[9],propertyIndex:i[11]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},tt.PropertyBinding.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=function(t){for(var i=0;i<t.bones.length;i++){var n=t.bones[i];if(n.name===e)return n}return null}(t.skeleton);if(i)return i}if(t.children){var n=function t(i){for(var n=0;n<i.length;n++){var r=i[n];if(r.name===e||r.uuid===e)return r;var o=t(r.children);if(o)return o}return null}(t.children);if(n)return n}return null},tt.PropertyMixer=function(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},tt.PropertyMixer.prototype={constructor:tt.PropertyMixer,accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)i[r+a]=i[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*e;this._mixBufferRegion(i,n,a,1-r,e)}for(var s=e,l=e+e;s!==l;++s)if(i[s]!==i[s+e]){o.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,o=n;r!==o;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(n>=.5)for(var o=0;o!==r;++o)t[e+o]=t[i+o]},_slerp:function(t,e,i,n,r){tt.Quaternion.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var o=1-n,a=0;a!==r;++a){var s=e+a;t[s]=t[s]*o+t[i+a]*n}}},tt.BooleanKeyframeTrack=function(t,e,i){tt.KeyframeTrack.call(this,t,e,i)},tt.BooleanKeyframeTrack.prototype=Object.assign(Object.create(tt.KeyframeTrack.prototype),{constructor:tt.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:tt.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),tt.NumberKeyframeTrack=function(t,e,i,n){tt.KeyframeTrack.call(this,t,e,i,n)},tt.NumberKeyframeTrack.prototype=Object.assign(Object.create(tt.KeyframeTrack.prototype),{constructor:tt.NumberKeyframeTrack,ValueTypeName:"number"}),tt.QuaternionKeyframeTrack=function(t,e,i,n){tt.KeyframeTrack.call(this,t,e,i,n)},tt.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(tt.KeyframeTrack.prototype),{constructor:tt.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:tt.InterpolateLinear,InterpolantFactoryMethodLinear:function(t){return new tt.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),tt.StringKeyframeTrack=function(t,e,i,n){tt.KeyframeTrack.call(this,t,e,i,n)},tt.StringKeyframeTrack.prototype=Object.assign(Object.create(tt.KeyframeTrack.prototype),{constructor:tt.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:tt.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),tt.VectorKeyframeTrack=function(t,e,i,n){tt.KeyframeTrack.call(this,t,e,i,n)},tt.VectorKeyframeTrack.prototype=Object.assign(Object.create(tt.KeyframeTrack.prototype),{constructor:tt.VectorKeyframeTrack,ValueTypeName:"vector"}),tt.Audio=function(t){tt.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filter=null},tt.Audio.prototype=Object.create(tt.Object3D.prototype),tt.Audio.prototype.constructor=tt.Audio,tt.Audio.prototype.getOutput=function(){return this.gain},tt.Audio.prototype.load=function(t){var e=new tt.AudioBuffer(this.context);return e.load(t),this.setBuffer(e),this},tt.Audio.prototype.setNodeSource=function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},tt.Audio.prototype.setBuffer=function(t){var e=this;return t.onReady((function(t){e.source.buffer=t,e.sourceType="buffer",e.autoplay&&e.play()})),this},tt.Audio.prototype.play=function(){if(!0!==this.isPlaying)if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()}else console.warn("THREE.Audio: this Audio has no playback control.");else console.warn("THREE.Audio: Audio is already playing.")},tt.Audio.prototype.pause=function(){!1!==this.hasPlaybackControl?(this.source.stop(),this.startTime=this.context.currentTime):console.warn("THREE.Audio: this Audio has no playback control.")},tt.Audio.prototype.stop=function(){!1!==this.hasPlaybackControl?(this.source.stop(),this.startTime=0):console.warn("THREE.Audio: this Audio has no playback control.")},tt.Audio.prototype.connect=function(){null!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.getOutput())):this.source.connect(this.getOutput())},tt.Audio.prototype.disconnect=function(){null!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.getOutput())):this.source.disconnect(this.getOutput())},tt.Audio.prototype.getFilter=function(){return this.filter},tt.Audio.prototype.setFilter=function(t){void 0===t&&(t=null),!0===this.isPlaying?(this.disconnect(),this.filter=t,this.connect()):this.filter=t},tt.Audio.prototype.setPlaybackRate=function(t){!1!==this.hasPlaybackControl?(this.playbackRate=t,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate)):console.warn("THREE.Audio: this Audio has no playback control.")},tt.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},tt.Audio.prototype.onEnded=function(){this.isPlaying=!1},tt.Audio.prototype.setLoop=function(t){!1!==this.hasPlaybackControl?this.source.loop=t:console.warn("THREE.Audio: this Audio has no playback control.")},tt.Audio.prototype.getLoop=function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},tt.Audio.prototype.setVolume=function(t){this.gain.gain.value=t},tt.Audio.prototype.getVolume=function(){return this.gain.gain.value},tt.AudioAnalyser=function(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)},tt.AudioAnalyser.prototype={constructor:tt.AudioAnalyser,getData:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},tt.AudioBuffer=function(t){this.context=t,this.ready=!1,this.readyCallbacks=[]},tt.AudioBuffer.prototype.load=function(t){var e=this,i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(t){e.context.decodeAudioData(this.response,(function(t){e.buffer=t,e.ready=!0;for(var i=0;i<e.readyCallbacks.length;i++)e.readyCallbacks[i](e.buffer);e.readyCallbacks=[]}))},i.send(),this},tt.AudioBuffer.prototype.onReady=function(t){this.ready?t(this.buffer):this.readyCallbacks.push(t)},tt.PositionalAudio=function(t){tt.Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},tt.PositionalAudio.prototype=Object.create(tt.Audio.prototype),tt.PositionalAudio.prototype.constructor=tt.PositionalAudio,tt.PositionalAudio.prototype.getOutput=function(){return this.panner},tt.PositionalAudio.prototype.setRefDistance=function(t){this.panner.refDistance=t},tt.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance},tt.PositionalAudio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},tt.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},tt.PositionalAudio.prototype.setDistanceModel=function(t){this.panner.distanceModel=t},tt.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel},tt.PositionalAudio.prototype.setMaxDistance=function(t){this.panner.maxDistance=t},tt.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance},tt.PositionalAudio.prototype.updateMatrixWorld=function(){var t=new tt.Vector3;return function(e){tt.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}(),tt.AudioListener=function(){tt.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},tt.AudioListener.prototype=Object.create(tt.Object3D.prototype),tt.AudioListener.prototype.constructor=tt.AudioListener,tt.AudioListener.prototype.getInput=function(){return this.gain},tt.AudioListener.prototype.removeFilter=function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},tt.AudioListener.prototype.setFilter=function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},tt.AudioListener.prototype.getFilter=function(){return this.filter},tt.AudioListener.prototype.setMasterVolume=function(t){this.gain.gain.value=t},tt.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value},tt.AudioListener.prototype.updateMatrixWorld=function(){var t=new tt.Vector3,e=new tt.Quaternion,i=new tt.Vector3,n=new tt.Vector3;return function(r){tt.Object3D.prototype.updateMatrixWorld.call(this,r);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,i),n.set(0,0,-1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z)}}(),tt.Camera=function(){tt.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new tt.Matrix4,this.projectionMatrix=new tt.Matrix4},tt.Camera.prototype=Object.create(tt.Object3D.prototype),tt.Camera.prototype.constructor=tt.Camera,tt.Camera.prototype.getWorldDirection=function(){var t=new tt.Quaternion;return function(e){var i=e||new tt.Vector3;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),tt.Camera.prototype.lookAt=function(){var t=new tt.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),tt.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},tt.Camera.prototype.copy=function(t){return tt.Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},tt.CubeCamera=function(t,e,i){tt.Object3D.call(this),this.type="CubeCamera";var n=new tt.PerspectiveCamera(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new tt.Vector3(1,0,0)),this.add(n);var r=new tt.PerspectiveCamera(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new tt.Vector3(-1,0,0)),this.add(r);var o=new tt.PerspectiveCamera(90,1,t,e);o.up.set(0,0,1),o.lookAt(new tt.Vector3(0,1,0)),this.add(o);var a=new tt.PerspectiveCamera(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new tt.Vector3(0,-1,0)),this.add(a);var s=new tt.PerspectiveCamera(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new tt.Vector3(0,0,1)),this.add(s);var l=new tt.PerspectiveCamera(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new tt.Vector3(0,0,-1)),this.add(l);var c={format:tt.RGBFormat,magFilter:tt.LinearFilter,minFilter:tt.LinearFilter};this.renderTarget=new tt.WebGLRenderTargetCube(i,i,c),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,c=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,n,i),i.activeCubeFace=1,t.render(e,r,i),i.activeCubeFace=2,t.render(e,o,i),i.activeCubeFace=3,t.render(e,a,i),i.activeCubeFace=4,t.render(e,s,i),i.texture.generateMipmaps=c,i.activeCubeFace=5,t.render(e,l,i),t.setRenderTarget(null)}},tt.CubeCamera.prototype=Object.create(tt.Object3D.prototype),tt.CubeCamera.prototype.constructor=tt.CubeCamera,tt.OrthographicCamera=function(t,e,i,n,r,o){tt.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},tt.OrthographicCamera.prototype=Object.create(tt.Camera.prototype),tt.OrthographicCamera.prototype.constructor=tt.OrthographicCamera,tt.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(i-t,i+t,n+e,n-e,this.near,this.far)},tt.OrthographicCamera.prototype.copy=function(t){return tt.Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this},tt.OrthographicCamera.prototype.toJSON=function(t){var e=tt.Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,e},tt.PerspectiveCamera=function(t,e,i,n){tt.Camera.call(this),this.type="PerspectiveCamera",this.focalLength=10,this.zoom=1,this.fov=void 0!==t?t:50,this.aspect=void 0!==e?e:1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},tt.PerspectiveCamera.prototype=Object.create(tt.Camera.prototype),tt.PerspectiveCamera.prototype.constructor=tt.PerspectiveCamera,tt.PerspectiveCamera.prototype.setLens=function(t,e){void 0===e&&(e=24),this.fov=2*tt.Math.radToDeg(Math.atan(e/(2*t))),this.updateProjectionMatrix()},tt.PerspectiveCamera.prototype.setViewOffset=function(t,e,i,n,r,o){this.fullWidth=t,this.fullHeight=e,this.x=i,this.y=n,this.width=r,this.height=o,this.updateProjectionMatrix()},tt.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var t=tt.Math.radToDeg(2*Math.atan(Math.tan(.5*tt.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var e=this.fullWidth/this.fullHeight,i=Math.tan(tt.Math.degToRad(.5*t))*this.near,n=-i,r=e*n,o=e*i,a=Math.abs(o-r),s=Math.abs(i-n);this.projectionMatrix.makeFrustum(r+this.x*a/this.fullWidth,r+(this.x+this.width)*a/this.fullWidth,i-(this.y+this.height)*s/this.fullHeight,i-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(t,this.aspect,this.near,this.far)},tt.PerspectiveCamera.prototype.copy=function(t){return tt.Camera.prototype.copy.call(this,t),this.focalLength=t.focalLength,this.zoom=t.zoom,this.fov=t.fov,this.aspect=t.aspect,this.near=t.near,this.far=t.far,this},tt.PerspectiveCamera.prototype.toJSON=function(t){var e=tt.Object3D.prototype.toJSON.call(this,t);return e.object.focalLength=this.focalLength,e.object.zoom=this.zoom,e.object.fov=this.fov,e.object.aspect=this.aspect,e.object.near=this.near,e.object.far=this.far,e},tt.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new tt.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tt.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},tt.StereoCamera.prototype={constructor:tt.StereoCamera,update:(Y=new tt.Matrix4,V=new tt.Matrix4,function(t){if(N!==t.focalLength||R!==t.fov||F!==t.aspect*this.aspect||j!==t.near||U!==t.far){N=t.focalLength,R=t.fov,F=t.aspect*this.aspect,j=t.near,U=t.far;var e,i,n=t.projectionMatrix.clone(),r=.032*j/N,o=j*Math.tan(tt.Math.degToRad(.5*R));V.elements[12]=-.032,Y.elements[12]=.032,e=-o*F+r,i=o*F+r,n.elements[0]=2*j/(i-e),n.elements[8]=(i+e)/(i-e),this.cameraL.projectionMatrix.copy(n),e=-o*F-r,i=o*F-r,n.elements[0]=2*j/(i-e),n.elements[8]=(i+e)/(i-e),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(V),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Y)})},tt.Light=function(t,e){tt.Object3D.call(this),this.type="Light",this.color=new tt.Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0},tt.Light.prototype=Object.create(tt.Object3D.prototype),tt.Light.prototype.constructor=tt.Light,tt.Light.prototype.copy=function(t){return tt.Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},tt.Light.prototype.toJSON=function(t){var e=tt.Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.exponent&&(e.object.exponent=this.exponent),e},tt.LightShadow=function(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new tt.Vector2(512,512),this.map=null,this.matrix=new tt.Matrix4},tt.LightShadow.prototype={constructor:tt.LightShadow,copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)}},tt.AmbientLight=function(t,e){tt.Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0},tt.AmbientLight.prototype=Object.create(tt.Light.prototype),tt.AmbientLight.prototype.constructor=tt.AmbientLight,tt.DirectionalLight=function(t,e){tt.Light.call(this,t,e),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new tt.Object3D,this.shadow=new tt.LightShadow(new tt.OrthographicCamera(-5,5,5,-5,.5,500))},tt.DirectionalLight.prototype=Object.create(tt.Light.prototype),tt.DirectionalLight.prototype.constructor=tt.DirectionalLight,tt.DirectionalLight.prototype.copy=function(t){return tt.Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this},tt.HemisphereLight=function(t,e,i){tt.Light.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new tt.Color(e)},tt.HemisphereLight.prototype=Object.create(tt.Light.prototype),tt.HemisphereLight.prototype.constructor=tt.HemisphereLight,tt.HemisphereLight.prototype.copy=function(t){return tt.Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this},tt.PointLight=function(t,e,i,n){tt.Light.call(this,t,e),this.type="PointLight",this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new tt.LightShadow(new tt.PerspectiveCamera(90,1,.5,500))},tt.PointLight.prototype=Object.create(tt.Light.prototype),tt.PointLight.prototype.constructor=tt.PointLight,tt.PointLight.prototype.copy=function(t){return tt.Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this},tt.SpotLight=function(t,e,i,n,r,o){tt.Light.call(this,t,e),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new tt.Object3D,this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.exponent=void 0!==r?r:10,this.decay=void 0!==o?o:1,this.shadow=new tt.LightShadow(new tt.PerspectiveCamera(50,1,.5,500))},tt.SpotLight.prototype=Object.create(tt.Light.prototype),tt.SpotLight.prototype.constructor=tt.SpotLight,tt.SpotLight.prototype.copy=function(t){return tt.Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.exponent=t.exponent,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this},tt.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},tt.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},tt.Loader.prototype={constructor:tt.Loader,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:function(t,e,i){void 0===H&&(H=new tt.Color),void 0===B&&(B=new tt.TextureLoader),void 0===z&&(z=new tt.MaterialLoader);var n={};function r(t,r,o,a,s){var l,c=e+t,u=tt.Loader.Handlers.get(c);null!==u?l=u.load(c):(B.setCrossOrigin(i),l=B.load(c)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=tt.RepeatWrapping),1!==r[1]&&(l.wrapT=tt.RepeatWrapping)),void 0!==o&&l.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(l.wrapS=tt.RepeatWrapping),"mirror"===a[0]&&(l.wrapS=tt.MirroredRepeatWrapping),"repeat"===a[1]&&(l.wrapT=tt.RepeatWrapping),"mirror"===a[1]&&(l.wrapT=tt.MirroredRepeatWrapping)),void 0!==s&&(l.anisotropy=s);var h=tt.Math.generateUUID();return n[h]=l,h}var o={uuid:tt.Math.generateUUID(),type:"MeshLambertMaterial"};for(var a in t){var s=t[a];switch(a){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":o.name=s;break;case"blending":o.blending=tt[s];break;case"colorAmbient":console.warn("THREE.Loader.createMaterial: colorAmbient is no longer supported");break;case"colorDiffuse":o.color=H.fromArray(s).getHex();break;case"colorSpecular":o.specular=H.fromArray(s).getHex();break;case"colorEmissive":o.emissive=H.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial");break;case"mapDiffuse":o.map=r(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":o.lightMap=r(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":o.aoMap=r(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":o.bumpMap=r(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":o.normalMap=r(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=[s,s];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":o.specularMap=r(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":o.alphaMap=r(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":o.side=tt.BackSide;break;case"doubleSided":o.side=tt.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),o.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=tt.VertexColors),"face"===s&&(o.vertexColors=tt.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",a,s)}}return"MeshBasicMaterial"===o.type&&delete o.emissive,"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),z.setTextures(n),z.parse(o)}},tt.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],o=e[i+1];if(r.test(t))return o}return null}},tt.XHRLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.XHRLoader.prototype={constructor:tt.XHRLoader,load:function(t,e,i,n){void 0!==this.path&&(t=this.path+t);var r=this,o=tt.Cache.get(t);if(void 0!==o)return e&&setTimeout((function(){e(o)}),0),o;var a=new XMLHttpRequest;return a.overrideMimeType("text/plain"),a.open("GET",t,!0),a.addEventListener("load",(function(i){var o=i.target.response;tt.Cache.add(t,o),200===this.status?(e&&e(o),r.manager.itemEnd(t)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),e&&e(o),r.manager.itemEnd(t)):(n&&n(i),r.manager.itemError(t))}),!1),void 0!==i&&a.addEventListener("progress",(function(t){i(t)}),!1),a.addEventListener("error",(function(e){n&&n(e),r.manager.itemError(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.send(null),r.manager.itemStart(t),a},setPath:function(t){this.path=t},setResponseType:function(t){this.responseType=t},setWithCredentials:function(t){this.withCredentials=t}},tt.FontLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.FontLoader.prototype={constructor:tt.FontLoader,load:function(t,e,i,n){new tt.XHRLoader(this.manager).load(t,(function(t){e(new tt.Font(JSON.parse(t.substring(65,t.length-2))))}),i,n)}},tt.ImageLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.ImageLoader.prototype={constructor:tt.ImageLoader,load:function(t,e,i,n){void 0!==this.path&&(t=this.path+t);var r=this,o=tt.Cache.get(t);if(void 0!==o)return r.manager.itemStart(t),e?setTimeout((function(){e(o),r.manager.itemEnd(t)}),0):r.manager.itemEnd(t),o;var a=document.createElement("img");return a.addEventListener("load",(function(i){tt.Cache.add(t,this),e&&e(this),r.manager.itemEnd(t)}),!1),void 0!==i&&a.addEventListener("progress",(function(t){i(t)}),!1),a.addEventListener("error",(function(e){n&&n(e),r.manager.itemError(t)}),!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},tt.JSONLoader=function(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:tt.DefaultLoadingManager,this.withCredentials=!1},tt.JSONLoader.prototype={constructor:tt.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(t,e,i,n){var r=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:tt.Loader.prototype.extractUrlBase(t),a=new tt.XHRLoader(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,(function(i){var n=JSON.parse(i),a=n.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(n,o);e(l.geometry,l.materials)}),i,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var i=new tt.Geometry,n=void 0!==t.scale?1/t.scale:1;if(function(e){function n(t,e){return t&1<<e}var r,o,a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,M,S,k,T,C,E,A,L,D=t.faces,P=t.vertices,O=t.normals,I=t.colors,N=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&N++;for(r=0;r<N;r++)i.faceVertexUvs[r]=[]}s=0,l=P.length;for(;s<l;)(w=new tt.Vector3).x=P[s++]*e,w.y=P[s++]*e,w.z=P[s++]*e,i.vertices.push(w);s=0,l=D.length;for(;s<l;)if(p=D[s++],f=n(p,0),m=n(p,1),g=n(p,3),v=n(p,4),y=n(p,5),_=n(p,6),b=n(p,7),f){if((M=new tt.Face3).a=D[s],M.b=D[s+1],M.c=D[s+3],(S=new tt.Face3).a=D[s+1],S.b=D[s+2],S.c=D[s+3],s+=4,m&&(d=D[s++],M.materialIndex=d,S.materialIndex=d),a=i.faces.length,g)for(r=0;r<N;r++)for(C=t.uvs[r],i.faceVertexUvs[r][a]=[],i.faceVertexUvs[r][a+1]=[],o=0;o<4;o++)h=D[s++],A=C[2*h],L=C[2*h+1],E=new tt.Vector2(A,L),2!==o&&i.faceVertexUvs[r][a].push(E),0!==o&&i.faceVertexUvs[r][a+1].push(E);if(v&&(u=3*D[s++],M.normal.set(O[u++],O[u++],O[u]),S.normal.copy(M.normal)),y)for(r=0;r<4;r++)u=3*D[s++],T=new tt.Vector3(O[u++],O[u++],O[u]),2!==r&&M.vertexNormals.push(T),0!==r&&S.vertexNormals.push(T);if(_&&(c=D[s++],k=I[c],M.color.setHex(k),S.color.setHex(k)),b)for(r=0;r<4;r++)c=D[s++],k=I[c],2!==r&&M.vertexColors.push(new tt.Color(k)),0!==r&&S.vertexColors.push(new tt.Color(k));i.faces.push(M),i.faces.push(S)}else{if((x=new tt.Face3).a=D[s++],x.b=D[s++],x.c=D[s++],m&&(d=D[s++],x.materialIndex=d),a=i.faces.length,g)for(r=0;r<N;r++)for(C=t.uvs[r],i.faceVertexUvs[r][a]=[],o=0;o<3;o++)h=D[s++],A=C[2*h],L=C[2*h+1],E=new tt.Vector2(A,L),i.faceVertexUvs[r][a].push(E);if(v&&(u=3*D[s++],x.normal.set(O[u++],O[u++],O[u])),y)for(r=0;r<3;r++)u=3*D[s++],T=new tt.Vector3(O[u++],O[u++],O[u]),x.vertexNormals.push(T);if(_&&(c=D[s++],x.color.setHex(I[c])),b)for(r=0;r<3;r++)c=D[s++],x.vertexColors.push(new tt.Color(I[c]));i.faces.push(x)}}(n),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,r=t.skinWeights.length;n<r;n+=e){var o=t.skinWeights[n],a=e>1?t.skinWeights[n+1]:0,s=e>2?t.skinWeights[n+2]:0,l=e>3?t.skinWeights[n+3]:0;i.skinWeights.push(new tt.Vector4(o,a,s,l))}if(t.skinIndices)for(n=0,r=t.skinIndices.length;n<r;n+=e){var c=t.skinIndices[n],u=e>1?t.skinIndices[n+1]:0,h=e>2?t.skinIndices[n+2]:0,d=e>3?t.skinIndices[n+3]:0;i.skinIndices.push(new tt.Vector4(c,u,h,d))}i.bones=t.bones,i.bones&&i.bones.length>0&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)&&console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var n=0,r=t.morphTargets.length;n<r;n++){i.morphTargets[n]={},i.morphTargets[n].name=t.morphTargets[n].name,i.morphTargets[n].vertices=[];for(var o=i.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,l=a.length;s<l;s+=3){var c=new tt.Vector3;c.x=a[s]*e,c.y=a[s+1]*e,c.z=a[s+2]*e,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=i.faces,h=t.morphColors[0].colors;for(n=0,r=u.length;n<r;n++)u[n].color.fromArray(h,3*n)}}(n),function(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation);void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var r=0;r<n.length;r++){var o=tt.AnimationClip.parseAnimation(n[r],i.bones);o&&e.push(o)}if(i.morphTargets){var a=tt.AnimationClip.CreateClipsFromMorphTargetSequences(i.morphTargets,10);e=e.concat(a)}e.length>0&&(i.animations=e)}(),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:i};var r=tt.Loader.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:i,materials:r}}},tt.LoadingManager=function(t,e,i){var n=this,r=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){a++,!1===r&&void 0!==n.onStart&&n.onStart(t,o,a),r=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}},tt.DefaultLoadingManager=new tt.LoadingManager,tt.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.BufferGeometryLoader.prototype={constructor:tt.BufferGeometryLoader,load:function(t,e,i,n){var r=this;new tt.XHRLoader(r.manager).load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){var e=new tt.BufferGeometry,i=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var r=new n[i.type](i.array);e.setIndex(new tt.BufferAttribute(r,1))}var o=t.data.attributes;for(var a in o){var s=o[a];r=new n[s.type](s.array);e.addAttribute(a,new tt.BufferAttribute(r,s.itemSize))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var c=0,u=l.length;c!==u;++c){var h=l[c];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new tt.Vector3;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new tt.Sphere(p,d.radius)}return e}},tt.MaterialLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager,this.textures={}},tt.MaterialLoader.prototype={constructor:tt.MaterialLoader,load:function(t,e,i,n){var r=this;new tt.XHRLoader(r.manager).load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},setTextures:function(t){this.textures=t},getTexture:function(t){var e=this.textures;return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]},parse:function(t){var e=new tt[t.type];if(void 0!==t.uuid&&(e.uuid=t.uuid),void 0!==t.name&&(e.name=t.name),void 0!==t.color&&e.color.setHex(t.color),void 0!==t.roughness&&(e.roughness=t.roughness),void 0!==t.metalness&&(e.metalness=t.metalness),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.alphaTest&&(e.alphaTest=t.alphaTest),void 0!==t.depthTest&&(e.depthTest=t.depthTest),void 0!==t.depthWrite&&(e.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(e.colorWrite=t.colorWrite),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(e.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.size&&(e.size=t.size),void 0!==t.sizeAttenuation&&(e.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(e.map=this.getTexture(t.map)),void 0!==t.alphaMap&&(e.alphaMap=this.getTexture(t.alphaMap),e.transparent=!0),void 0!==t.bumpMap&&(e.bumpMap=this.getTexture(t.bumpMap)),void 0!==t.bumpScale&&(e.bumpScale=t.bumpScale),void 0!==t.normalMap&&(e.normalMap=this.getTexture(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),e.normalScale=(new tt.Vector2).fromArray(i)}if(void 0!==t.displacementMap&&(e.displacementMap=this.getTexture(t.displacementMap)),void 0!==t.displacementScale&&(e.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(e.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(e.roughnessMap=this.getTexture(t.roughnessMap)),void 0!==t.metalnessMap&&(e.metalnessMap=this.getTexture(t.metalnessMap)),void 0!==t.emissiveMap&&(e.emissiveMap=this.getTexture(t.emissiveMap)),void 0!==t.emissiveIntensity&&(e.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(e.specularMap=this.getTexture(t.specularMap)),void 0!==t.envMap&&(e.envMap=this.getTexture(t.envMap),e.combine=tt.MultiplyOperation),t.reflectivity&&(e.reflectivity=t.reflectivity),void 0!==t.lightMap&&(e.lightMap=this.getTexture(t.lightMap)),void 0!==t.lightMapIntensity&&(e.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(e.aoMap=this.getTexture(t.aoMap)),void 0!==t.aoMapIntensity&&(e.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var n=0,r=t.materials.length;n<r;n++)e.materials.push(this.parse(t.materials[n]));return e}},tt.ObjectLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager,this.texturePath=""},tt.ObjectLoader.prototype={constructor:tt.ObjectLoader,load:function(t,e,i,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this;new tt.XHRLoader(r.manager).load(t,(function(t){r.parse(JSON.parse(t),e)}),i,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseGeometries(t.geometries),n=this.parseImages(t.images,(function(){void 0!==e&&e(a)})),r=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,r),a=this.parseObject(t.object,i,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new tt.JSONLoader,n=new tt.BufferGeometryLoader,r=0,o=t.length;r<o;r++){var a,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new tt[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":a=new tt.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleBufferGeometry":a=new tt.CircleBufferGeometry(s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CircleGeometry":a=new tt.CircleGeometry(s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":a=new tt.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":a=new tt.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"SphereBufferGeometry":a=new tt.SphereBufferGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":a=new tt.DodecahedronGeometry(s.radius,s.detail);break;case"IcosahedronGeometry":a=new tt.IcosahedronGeometry(s.radius,s.detail);break;case"OctahedronGeometry":a=new tt.OctahedronGeometry(s.radius,s.detail);break;case"TetrahedronGeometry":a=new tt.TetrahedronGeometry(s.radius,s.detail);break;case"RingGeometry":a=new tt.RingGeometry(s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":a=new tt.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":a=new tt.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"LatheGeometry":a=new tt.LatheGeometry(s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=n.parse(s);break;case"Geometry":a=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new tt.MaterialLoader;n.setTextures(e);for(var r=0,o=t.length;r<o;r++){var a=n.parse(t[r]);i[a.uuid]=a}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=tt.AnimationClip.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){var i=this,n={};function r(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var o=new tt.LoadingManager(e),a=new tt.ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var c=t[s],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;n[c.uuid]=r(u)}}return n},parseTextures:function(t,e){function i(t){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),tt[t])}var n={};if(void 0!==t)for(var r=0,o=t.length;r<o;r++){var a=t[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new tt.Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=i(a.mapping)),void 0!==a.offset&&(s.offset=new tt.Vector2(a.offset[0],a.offset[1])),void 0!==a.repeat&&(s.repeat=new tt.Vector2(a.repeat[0],a.repeat[1])),void 0!==a.minFilter&&(s.minFilter=i(a.minFilter)),void 0!==a.magFilter&&(s.magFilter=i(a.magFilter)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),Array.isArray(a.wrap)&&(s.wrapS=i(a.wrap[0]),s.wrapT=i(a.wrap[1])),n[a.uuid]=s}return n},parseObject:function(){var t=new tt.Matrix4;return function(e,i,n){var r;function o(t){return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),i[t]}function a(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}switch(e.type){case"Scene":r=new tt.Scene;break;case"PerspectiveCamera":r=new tt.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":r=new tt.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":r=new tt.AmbientLight(e.color,e.intensity);break;case"DirectionalLight":r=new tt.DirectionalLight(e.color,e.intensity);break;case"PointLight":r=new tt.PointLight(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":r=new tt.SpotLight(e.color,e.intensity,e.distance,e.angle,e.exponent,e.decay);break;case"HemisphereLight":r=new tt.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=o(e.geometry),l=a(e.material);r=s.bones&&s.bones.length>0?new tt.SkinnedMesh(s,l):new tt.Mesh(s,l);break;case"LOD":r=new tt.LOD;break;case"Line":r=new tt.Line(o(e.geometry),a(e.material),e.mode);break;case"PointCloud":case"Points":r=new tt.Points(o(e.geometry),a(e.material));break;case"Sprite":r=new tt.Sprite(a(e.material));break;case"Group":r=new tt.Group;break;default:r=new tt.Object3D}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.children)for(var c in e.children)r.add(this.parseObject(e.children[c],i,n));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var d=u[h];void 0!==(c=r.getObjectByProperty("uuid",d.object))&&r.addLevel(c,d.distance)}return r}}()},tt.TextureLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.TextureLoader.prototype={constructor:tt.TextureLoader,load:function(t,e,i,n){var r=new tt.Texture,o=new tt.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),i,n),r},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},tt.CubeTextureLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager},tt.CubeTextureLoader.prototype={constructor:tt.CubeTextureLoader,load:function(t,e,i,n){var r=new tt.CubeTexture([]),o=new tt.ImageLoader(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(i){o.load(t[i],(function(t){r.images[i]=t,6===++a&&(r.needsUpdate=!0,e&&e(r))}),void 0,n)}for(var l=0;l<t.length;++l)s(l);return r},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},tt.DataTextureLoader=tt.BinaryTextureLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager,this._parser=null},tt.BinaryTextureLoader.prototype={constructor:tt.BinaryTextureLoader,load:function(t,e,i,n){var r=this,o=new tt.DataTexture,a=new tt.XHRLoader(this.manager);return a.setResponseType("arraybuffer"),a.load(t,(function(t){var i=r._parser(t);i&&(void 0!==i.image?o.image=i.image:void 0!==i.data&&(o.image.width=i.width,o.image.height=i.height,o.image.data=i.data),o.wrapS=void 0!==i.wrapS?i.wrapS:tt.ClampToEdgeWrapping,o.wrapT=void 0!==i.wrapT?i.wrapT:tt.ClampToEdgeWrapping,o.magFilter=void 0!==i.magFilter?i.magFilter:tt.LinearFilter,o.minFilter=void 0!==i.minFilter?i.minFilter:tt.LinearMipMapLinearFilter,o.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(o.format=i.format),void 0!==i.type&&(o.type=i.type),void 0!==i.mipmaps&&(o.mipmaps=i.mipmaps),1===i.mipmapCount&&(o.minFilter=tt.LinearFilter),o.needsUpdate=!0,e&&e(o,i))}),i,n),o}},tt.CompressedTextureLoader=function(t){this.manager=void 0!==t?t:tt.DefaultLoadingManager,this._parser=null},tt.CompressedTextureLoader.prototype={constructor:tt.CompressedTextureLoader,load:function(t,e,i,n){var r=this,o=[],a=new tt.CompressedTexture;a.image=o;var s=new tt.XHRLoader(this.manager);function l(l){s.load(t[l],(function(t){var i=r._parser(t,!0);o[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(a.minFilter=tt.LinearFilter),a.format=i.format,a.needsUpdate=!0,e&&e(a))}),i,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,u=0,h=t.length;u<h;++u)l(u);else s.load(t,(function(t){var i=r._parser(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)o[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+l]),o[s].format=i.format,o[s].width=i.width,o[s].height=i.height}else a.image.width=i.width,a.image.height=i.height,a.mipmaps=i.mipmaps;1===i.mipmapCount&&(a.minFilter=tt.LinearFilter),a.format=i.format,a.needsUpdate=!0,e&&e(a)}),i,n);return a},setPath:function(t){this.path=t}},tt.Material=function(){Object.defineProperty(this,"id",{value:tt.MaterialIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.type="Material",this.side=tt.FrontSide,this.opacity=1,this.transparent=!1,this.blending=tt.NormalBlending,this.blendSrc=tt.SrcAlphaFactor,this.blendDst=tt.OneMinusSrcAlphaFactor,this.blendEquation=tt.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=tt.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},tt.Material.prototype={constructor:tt.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){var n=this[e];void 0!==n?n instanceof tt.Color?n.set(i):n instanceof tt.Vector3&&i instanceof tt.Vector3?n.copy(i):this[e]="overdraw"===e?Number(i):i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color instanceof tt.Color&&(i.color=this.color.getHex()),.5!==this.roughness&&(i.roughness=this.roughness),.5!==this.metalness&&(i.metalness=this.metalness),this.emissive instanceof tt.Color&&(i.emissive=this.emissive.getHex()),this.specular instanceof tt.Color&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),this.map instanceof tt.Texture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap instanceof tt.Texture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap instanceof tt.Texture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap instanceof tt.Texture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap instanceof tt.Texture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap instanceof tt.Texture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap instanceof tt.Texture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap instanceof tt.Texture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap instanceof tt.Texture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap instanceof tt.Texture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap instanceof tt.Texture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==tt.NoColors&&(i.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==tt.SmoothShading&&(i.shading=this.shading),void 0!==this.blending&&this.blending!==tt.NormalBlending&&(i.blending=this.blending),void 0!==this.side&&this.side!==tt.FrontSide&&(i.side=this.side),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),e){var r=n(t.textures),o=n(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.side=t.side,this.opacity=t.opacity,this.transparent=t.transparent,this.blending=t.blending,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.overdraw=t.overdraw,this.visible=t.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},tt.EventDispatcher.prototype.apply(tt.Material.prototype),tt.MaterialIdCount=0,tt.LineBasicMaterial=function(t){tt.Material.call(this),this.type="LineBasicMaterial",this.color=new tt.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=tt.NoColors,this.fog=!0,this.setValues(t)},tt.LineBasicMaterial.prototype=Object.create(tt.Material.prototype),tt.LineBasicMaterial.prototype.constructor=tt.LineBasicMaterial,tt.LineBasicMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.vertexColors=t.vertexColors,this.fog=t.fog,this},tt.LineDashedMaterial=function(t){tt.Material.call(this),this.type="LineDashedMaterial",this.color=new tt.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=tt.NoColors,this.fog=!0,this.setValues(t)},tt.LineDashedMaterial.prototype=Object.create(tt.Material.prototype),tt.LineDashedMaterial.prototype.constructor=tt.LineDashedMaterial,tt.LineDashedMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this.vertexColors=t.vertexColors,this.fog=t.fog,this},tt.MeshBasicMaterial=function(t){tt.Material.call(this),this.type="MeshBasicMaterial",this.color=new tt.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=tt.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=tt.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(t)},tt.MeshBasicMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshBasicMaterial.prototype.constructor=tt.MeshBasicMaterial,tt.MeshBasicMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},tt.MeshLambertMaterial=function(t){tt.Material.call(this),this.type="MeshLambertMaterial",this.color=new tt.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=tt.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},tt.MeshLambertMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshLambertMaterial.prototype.constructor=tt.MeshLambertMaterial,tt.MeshLambertMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},tt.MeshPhongMaterial=function(t){tt.Material.call(this),this.type="MeshPhongMaterial",this.color=new tt.Color(16777215),this.specular=new tt.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new tt.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=tt.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=tt.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},tt.MeshPhongMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshPhongMaterial.prototype.constructor=tt.MeshPhongMaterial,tt.MeshPhongMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},tt.MeshStandardMaterial=function(t){tt.Material.call(this),this.type="MeshStandardMaterial",this.color=new tt.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new tt.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.fog=!0,this.shading=tt.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=tt.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},tt.MeshStandardMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshStandardMaterial.prototype.constructor=tt.MeshStandardMaterial,tt.MeshStandardMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.fog=t.fog,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},tt.MeshDepthMaterial=function(t){tt.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)},tt.MeshDepthMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshDepthMaterial.prototype.constructor=tt.MeshDepthMaterial,tt.MeshDepthMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.MeshNormalMaterial=function(t){tt.Material.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(t)},tt.MeshNormalMaterial.prototype=Object.create(tt.Material.prototype),tt.MeshNormalMaterial.prototype.constructor=tt.MeshNormalMaterial,tt.MeshNormalMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.MultiMaterial=function(t){this.uuid=tt.Math.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0},tt.MultiMaterial.prototype={constructor:tt.MultiMaterial,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var o=i[n].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},tt.PointsMaterial=function(t){tt.Material.call(this),this.type="PointsMaterial",this.color=new tt.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=tt.NoColors,this.fog=!0,this.setValues(t)},tt.PointsMaterial.prototype=Object.create(tt.Material.prototype),tt.PointsMaterial.prototype.constructor=tt.PointsMaterial,tt.PointsMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.vertexColors=t.vertexColors,this.fog=t.fog,this},tt.ShaderMaterial=function(t){tt.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=tt.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=tt.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))},tt.ShaderMaterial.prototype=Object.create(tt.Material.prototype),tt.ShaderMaterial.prototype.constructor=tt.ShaderMaterial,tt.ShaderMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=tt.UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.shading=t.shading,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.vertexColors=t.vertexColors,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},tt.ShaderMaterial.prototype.toJSON=function(t){var e=tt.Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},tt.RawShaderMaterial=function(t){tt.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},tt.RawShaderMaterial.prototype=Object.create(tt.ShaderMaterial.prototype),tt.RawShaderMaterial.prototype.constructor=tt.RawShaderMaterial,tt.SpriteMaterial=function(t){tt.Material.call(this),this.type="SpriteMaterial",this.color=new tt.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(t)},tt.SpriteMaterial.prototype=Object.create(tt.Material.prototype),tt.SpriteMaterial.prototype.constructor=tt.SpriteMaterial,tt.SpriteMaterial.prototype.copy=function(t){return tt.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.fog=t.fog,this},tt.Texture=function(t,e,i,n,r,o,a,s,l){Object.defineProperty(this,"id",{value:tt.TextureIdCount++}),this.uuid=tt.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:tt.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:tt.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:tt.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:tt.ClampToEdgeWrapping,this.magFilter=void 0!==r?r:tt.LinearFilter,this.minFilter=void 0!==o?o:tt.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:tt.RGBAFormat,this.type=void 0!==s?s:tt.UnsignedByteType,this.offset=new tt.Vector2(0,0),this.repeat=new tt.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},tt.Texture.DEFAULT_IMAGE=void 0,tt.Texture.DEFAULT_MAPPING=tt.UVMapping,tt.Texture.prototype={constructor:tt.Texture,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=tt.Math.generateUUID()),void 0===t.images[i.uuid]&&(t.images[i.uuid]={uuid:i.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(i)}),e.image=i.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===tt.UVMapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case tt.RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case tt.ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case tt.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case tt.RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case tt.ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case tt.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},tt.EventDispatcher.prototype.apply(tt.Texture.prototype),tt.TextureIdCount=0,tt.CanvasTexture=function(t,e,i,n,r,o,a,s,l){tt.Texture.call(this,t,e,i,n,r,o,a,s,l),this.needsUpdate=!0},tt.CanvasTexture.prototype=Object.create(tt.Texture.prototype),tt.CanvasTexture.prototype.constructor=tt.CanvasTexture,tt.CubeTexture=function(t,e,i,n,r,o,a,s,l){e=void 0!==e?e:tt.CubeReflectionMapping,tt.Texture.call(this,t,e,i,n,r,o,a,s,l),this.images=t,this.flipY=!1},tt.CubeTexture.prototype=Object.create(tt.Texture.prototype),tt.CubeTexture.prototype.constructor=tt.CubeTexture,tt.CubeTexture.prototype.copy=function(t){return tt.Texture.prototype.copy.call(this,t),this.images=t.images,this},tt.CompressedTexture=function(t,e,i,n,r,o,a,s,l,c,u){tt.Texture.call(this,null,o,a,s,l,c,n,r,u),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},tt.CompressedTexture.prototype=Object.create(tt.Texture.prototype),tt.CompressedTexture.prototype.constructor=tt.CompressedTexture,tt.DataTexture=function(t,e,i,n,r,o,a,s,l,c,u){tt.Texture.call(this,null,o,a,s,l,c,n,r,u),this.image={data:t,width:e,height:i},this.magFilter=void 0!==l?l:tt.NearestFilter,this.minFilter=void 0!==c?c:tt.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},tt.DataTexture.prototype=Object.create(tt.Texture.prototype),tt.DataTexture.prototype.constructor=tt.DataTexture,tt.VideoTexture=function(t,e,i,n,r,o,a,s,l){tt.Texture.call(this,t,e,i,n,r,o,a,s,l),this.generateMipmaps=!1;var c=this;!function e(){requestAnimationFrame(e),t.readyState===t.HAVE_ENOUGH_DATA&&(c.needsUpdate=!0)}()},tt.VideoTexture.prototype=Object.create(tt.Texture.prototype),tt.VideoTexture.prototype.constructor=tt.VideoTexture,tt.Group=function(){tt.Object3D.call(this),this.type="Group"},tt.Group.prototype=Object.create(tt.Object3D.prototype),tt.Group.prototype.constructor=tt.Group,tt.Points=function(t,e){tt.Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new tt.Geometry,this.material=void 0!==e?e:new tt.PointsMaterial({color:16777215*Math.random()})},tt.Points.prototype=Object.create(tt.Object3D.prototype),tt.Points.prototype.constructor=tt.Points,tt.Points.prototype.raycast=function(){var t=new tt.Matrix4,e=new tt.Ray,i=new tt.Sphere;return function(n,r){var o=this,a=this.geometry,s=this.matrixWorld,l=n.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),i.copy(a.boundingSphere),i.applyMatrix4(s),!1!==n.ray.intersectsSphere(i)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,h=new tt.Vector3;if(a instanceof tt.BufferGeometry){var d=a.index,p=a.attributes.position.array;if(null!==d)for(var f=d.array,m=0,g=f.length;m<g;m++){var v=f[m];h.fromArray(p,3*v),b(h,v)}else{m=0;for(var y=p.length/3;m<y;m++)h.fromArray(p,3*m),b(h,m)}}else{var _=a.vertices;for(m=0,y=_.length;m<y;m++)b(_[m],m)}}function b(t,i){var a=e.distanceSqToPoint(t);if(a<u){var l=e.closestPointToPoint(t);l.applyMatrix4(s);var c=n.ray.origin.distanceTo(l);if(c<n.near||c>n.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l.clone(),index:i,face:null,object:o})}}}}(),tt.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},tt.Line=function(t,e,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new tt.LineSegments(t,e);tt.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new tt.Geometry,this.material=void 0!==e?e:new tt.LineBasicMaterial({color:16777215*Math.random()})},tt.Line.prototype=Object.create(tt.Object3D.prototype),tt.Line.prototype.constructor=tt.Line,tt.Line.prototype.raycast=function(){var t=new tt.Matrix4,e=new tt.Ray,i=new tt.Sphere;return function(n,r){var o=n.linePrecision,a=o*o,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(l),!1!==n.ray.intersectsSphere(i)){t.getInverse(l),e.copy(n.ray).applyMatrix4(t);var c=new tt.Vector3,u=new tt.Vector3,h=new tt.Vector3,d=new tt.Vector3,p=this instanceof tt.LineSegments?2:1;if(s instanceof tt.BufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var g=f.array,v=0,y=g.length-1;v<y;v+=p){var _=g[v],b=g[v+1];if(c.fromArray(m,3*_),u.fromArray(m,3*b),!(e.distanceSqToSegment(c,u,d,h)>a))d.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(d))<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(v=0,y=m.length/3-1;v<y;v+=p){if(c.fromArray(m,3*v),u.fromArray(m,3*v+3),!(e.distanceSqToSegment(c,u,d,h)>a))d.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(d))<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(s instanceof tt.Geometry){var w=s.vertices,x=w.length;for(v=0;v<x-1;v+=p){var M;if(!(e.distanceSqToSegment(w[v],w[v+1],d,h)>a))d.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(d))<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}}(),tt.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},tt.LineStrip=0,tt.LinePieces=1,tt.LineSegments=function(t,e){tt.Line.call(this,t,e),this.type="LineSegments"},tt.LineSegments.prototype=Object.create(tt.Line.prototype),tt.LineSegments.prototype.constructor=tt.LineSegments,tt.Mesh=function(t,e){tt.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new tt.Geometry,this.material=void 0!==e?e:new tt.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=tt.TrianglesDrawMode,this.updateMorphTargets()},tt.Mesh.prototype=Object.create(tt.Object3D.prototype),tt.Mesh.prototype.constructor=tt.Mesh,tt.Mesh.prototype.setDrawMode=function(t){this.drawMode=t},tt.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},tt.Mesh.prototype.getMorphTargetIndexByName=function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},tt.Mesh.prototype.raycast=function(){var t=new tt.Matrix4,e=new tt.Ray,i=new tt.Sphere,n=new tt.Vector3,r=new tt.Vector3,o=new tt.Vector3,a=new tt.Vector3,s=new tt.Vector3,l=new tt.Vector3,c=new tt.Vector2,u=new tt.Vector2,h=new tt.Vector2,d=new tt.Vector3,p=new tt.Vector3,f=new tt.Vector3;function m(t,e,i,n,r,o,a){return tt.Triangle.barycoordFromPoint(t,e,i,n,d),r.multiplyScalar(d.x),o.multiplyScalar(d.y),a.multiplyScalar(d.z),r.add(o).add(a),r.clone()}function g(t,e,i,n,r,o,a){var s=t.material;if(null===(s.side===tt.BackSide?i.intersectTriangle(o,r,n,!0,a):i.intersectTriangle(n,r,o,s.side!==tt.DoubleSide,a)))return null;f.copy(a),f.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(f);return l<e.near||l>e.far?null:{distance:l,point:f.clone(),object:t}}function v(t,e,i,a,s,l,d,f){n.fromArray(a,3*l),r.fromArray(a,3*d),o.fromArray(a,3*f);var v=g(t,e,i,n,r,o,p);return v&&(s&&(c.fromArray(s,2*l),u.fromArray(s,2*d),h.fromArray(s,2*f),v.uv=m(p,n,r,o,c,u,h)),v.face=new tt.Face3(l,d,f,tt.Triangle.normal(n,r,o)),v.faceIndex=l),v}return function(d,f){var y,_,b=this.geometry,w=this.material,x=this.matrixWorld;if(void 0!==w&&(null===b.boundingSphere&&b.computeBoundingSphere(),i.copy(b.boundingSphere),i.applyMatrix4(x),!1!==d.ray.intersectsSphere(i)&&(t.getInverse(x),e.copy(d.ray).applyMatrix4(t),null===b.boundingBox||!1!==e.intersectsBox(b.boundingBox))))if(b instanceof tt.BufferGeometry){var M,S,k,T=b.index,C=b.attributes,E=C.position.array;if(void 0!==C.uv&&(y=C.uv.array),null!==T)for(var A=T.array,L=0,D=A.length;L<D;L+=3)M=A[L],S=A[L+1],k=A[L+2],(_=v(this,d,e,E,y,M,S,k))&&(_.faceIndex=Math.floor(L/3),f.push(_));else for(L=0,D=E.length;L<D;L+=9)(_=v(this,d,e,E,y,M=L/3,S=M+1,k=M+2))&&(_.index=M,f.push(_))}else if(b instanceof tt.Geometry){var P,O,I,N=w instanceof tt.MultiMaterial,R=!0===N?w.materials:null,F=b.vertices,j=b.faces,U=b.faceVertexUvs[0];U.length>0&&(y=U);for(var Y=0,V=j.length;Y<V;Y++){var H=j[Y],B=!0===N?R[H.materialIndex]:w;if(void 0!==B){if(P=F[H.a],O=F[H.b],I=F[H.c],!0===B.morphTargets){var z=b.morphTargets,W=this.morphTargetInfluences;n.set(0,0,0),r.set(0,0,0),o.set(0,0,0);for(var q=0,G=z.length;q<G;q++){var $=W[q];if(0!==$){var X=z[q].vertices;n.addScaledVector(a.subVectors(X[H.a],P),$),r.addScaledVector(s.subVectors(X[H.b],O),$),o.addScaledVector(l.subVectors(X[H.c],I),$)}}n.add(P),r.add(O),o.add(I),P=n,O=r,I=o}if(_=g(this,d,e,P,O,I,p)){if(y){var K=y[Y];c.copy(K[0]),u.copy(K[1]),h.copy(K[2]),_.uv=m(p,P,O,I,c,u,h)}_.face=H,_.faceIndex=Y,f.push(_)}}}}}}(),tt.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},tt.Bone=function(t){tt.Object3D.call(this),this.type="Bone",this.skin=t},tt.Bone.prototype=Object.create(tt.Object3D.prototype),tt.Bone.prototype.constructor=tt.Bone,tt.Bone.prototype.copy=function(t){return tt.Object3D.prototype.copy.call(this,t),this.skin=t.skin,this},tt.Skeleton=function(t,e,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new tt.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=tt.Math.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new tt.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,tt.RGBAFormat,tt.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new tt.Matrix4)}},tt.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new tt.Matrix4;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},tt.Skeleton.prototype.pose=function(){for(var t,e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},tt.Skeleton.prototype.update=(W=new tt.Matrix4,function(){for(var t=0,e=this.bones.length;t<e;t++){var i=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;W.multiplyMatrices(i,this.boneInverses[t]),W.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),tt.Skeleton.prototype.clone=function(){return new tt.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},tt.SkinnedMesh=function(t,e,i){tt.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tt.Matrix4,this.bindMatrixInverse=new tt.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],r=new tt.Bone(this),n.push(r),r.name=o.name,r.position.fromArray(o.pos),r.quaternion.fromArray(o.rotq),void 0!==o.scl&&r.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent?n[o.parent].add(n[a]):this.add(n[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new tt.Skeleton(n,void 0,i),this.matrixWorld)},tt.SkinnedMesh.prototype=Object.create(tt.Mesh.prototype),tt.SkinnedMesh.prototype.constructor=tt.SkinnedMesh,tt.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},tt.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},tt.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof tt.Geometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(r=1/e.lengthManhattan())!==1/0?e.multiplyScalar(r):e.set(1,0,0,0)}else if(this.geometry instanceof tt.BufferGeometry){var i=new tt.Vector4,n=this.geometry.attributes.skinWeight;for(t=0;t<n.count;t++){var r;i.x=n.getX(t),i.y=n.getY(t),i.z=n.getZ(t),i.w=n.getW(t),(r=1/i.lengthManhattan())!==1/0?i.multiplyScalar(r):i.set(1,0,0,0),n.setXYZW(t,i.x,i.y,i.z,i.w)}}},tt.SkinnedMesh.prototype.updateMatrixWorld=function(t){tt.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},tt.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},tt.LOD=function(){tt.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},tt.LOD.prototype=Object.create(tt.Object3D.prototype),tt.LOD.prototype.constructor=tt.LOD,tt.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length&&!(e<i[n].distance);n++);i.splice(n,0,{distance:e,object:t}),this.add(t)},tt.LOD.prototype.getObjectForDistance=function(t){for(var e=this.levels,i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object},tt.LOD.prototype.raycast=(q=new tt.Vector3,function(t,e){q.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(q);this.getObjectForDistance(i).raycast(t,e)}),tt.LOD.prototype.update=function(){var t=new tt.Vector3,e=new tt.Vector3;return function(i){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&r>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),tt.LOD.prototype.copy=function(t){tt.Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this},tt.LOD.prototype.toJSON=function(t){var e=tt.Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var o=i[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e},tt.Sprite=(G=new Uint16Array([0,1,2,0,2,3]),$=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),X=new Float32Array([0,0,1,0,1,1,0,1]),(K=new tt.BufferGeometry).setIndex(new tt.BufferAttribute(G,1)),K.addAttribute("position",new tt.BufferAttribute($,3)),K.addAttribute("uv",new tt.BufferAttribute(X,2)),function(t){tt.Object3D.call(this),this.type="Sprite",this.geometry=K,this.material=void 0!==t?t:new tt.SpriteMaterial}),tt.Sprite.prototype=Object.create(tt.Object3D.prototype),tt.Sprite.prototype.constructor=tt.Sprite,tt.Sprite.prototype.raycast=function(){var t=new tt.Vector3;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t);n>this.scale.x*this.scale.y||i.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),tt.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},tt.Particle=tt.Sprite,tt.LensFlare=function(t,e,i,n,r){tt.Object3D.call(this),this.lensFlares=[],this.positionScreen=new tt.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,n,r)},tt.LensFlare.prototype=Object.create(tt.Object3D.prototype),tt.LensFlare.prototype.constructor=tt.LensFlare,tt.LensFlare.prototype.add=function(t,e,i,n,r,o){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===o&&(o=1),void 0===r&&(r=new tt.Color(16777215)),void 0===n&&(n=tt.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:r,blending:n})},tt.LensFlare.prototype.updateLensFlares=function(){var t,e,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<i;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},tt.LensFlare.prototype.copy=function(t){tt.Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,i=t.lensFlares.length;e<i;e++)this.lensFlares.push(t.lensFlares[e]);return this},tt.Scene=function(){tt.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},tt.Scene.prototype=Object.create(tt.Object3D.prototype),tt.Scene.prototype.constructor=tt.Scene,tt.Scene.prototype.copy=function(t){return tt.Object3D.prototype.copy.call(this,t),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},tt.Fog=function(t,e,i){this.name="",this.color=new tt.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3},tt.Fog.prototype.clone=function(){return new tt.Fog(this.color.getHex(),this.near,this.far)},tt.FogExp2=function(t,e){this.name="",this.color=new tt.Color(t),this.density=void 0!==e?e:25e-5},tt.FogExp2.prototype.clone=function(){return new tt.FogExp2(this.color.getHex(),this.density)},tt.ShaderChunk={},tt.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",tt.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",tt.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",tt.ShaderChunk.ambient_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\treturn PI * ambientLightColor;\n}\n",tt.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\treflectedLight.indirectDiffuse *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n#endif\n",tt.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",tt.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",tt.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",tt.ShaderChunk.bsdfs="float calcLightAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif ( decayExponent > 0.0 ) {\n\t  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = alpha * alpha;\n\tfloat gl = dotNL + pow( a2 + ( 1.0 - a2 ) * dotNL * dotNL, 0.5 );\n\tfloat gv = dotNV + pow( a2 + ( 1.0 - a2 ) * dotNV * dotNV, 0.5 );\n\treturn 1.0 / ( gl * gv );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = alpha * alpha;\n\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / ( denom * denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = roughness * roughness;\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_Smith( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / square( ggxRoughness + 0.0001 ) - 2.0 );\n}",tt.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",tt.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",tt.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",tt.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",tt.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",tt.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat square( const in float x ) { return x*x; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nvec3 inputToLinear( in vec3 a ) {\n\t#ifdef GAMMA_INPUT\n\t\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n\t#else\n\t\treturn a;\n\t#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n\t#ifdef GAMMA_OUTPUT\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n\t#else\n\t\treturn a;\n\t#endif\n}\n",tt.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",tt.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",tt.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",tt.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\ttotalEmissiveLight *= emissiveColor.rgb;\n#endif\n",tt.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",tt.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",tt.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( STANDARD )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( STANDARD )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",tt.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvarying vec3 vReflect;\n\tuniform float refractionRatio;\n#endif\n",tt.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t#ifdef ENVMAP_MODE_REFLECTION\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t#else\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t#endif\n#endif\n",tt.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n#endif",tt.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",tt.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",tt.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",tt.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tdirectLight = getPointDirectLight( pointLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tdirectLight = getSpotDirectLight( spotLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectLight = getDirectionalDirectLight( directionalLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",tt.ShaderChunk.lights_pars="#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tIncidentLight getDirectionalDirectLight( const in DirectionalLight directionalLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tIncidentLight getPointDirectLight( const in PointLight pointLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= calcLightAttenuation( length( lVector ), pointLight.distance, pointLight.decay );\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat angleCos;\n\t\tfloat exponent;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tIncidentLight getSpotDirectLight( const in SpotLight spotLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat spotEffect = dot( directLight.direction, spotLight.direction );\n\t\tif ( spotEffect > spotLight.angleCos ) {\n\t\t\tfloat spotEffect = dot( spotLight.direction, directLight.direction );\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLight.exponent ) );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= ( spotEffect * calcLightAttenuation( length( lVector ), spotLight.distance, spotLight.decay ) );\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t}\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\treturn PI * mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( STANDARD )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t#else\n\t\t\tvec3 envMapColor = vec3( 0.0 );\n\t\t#endif\n\t\tenvMapColor.rgb = inputToLinear( envMapColor.rgb );\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( square( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t#endif\n\t\tenvMapColor.rgb = inputToLinear( envMapColor.rgb );\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",tt.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",tt.ShaderChunk.lights_phong_pars_fragment="#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * PI * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",tt.ShaderChunk.lights_phong_pars_vertex="#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\n",tt.ShaderChunk.lights_phong_vertex="#ifdef USE_ENVMAP\n\tvWorldPosition = worldPosition.xyz;\n#endif\n",tt.ShaderChunk.lights_standard_fragment="StandardMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\nmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n",tt.ShaderChunk.lights_standard_pars_fragment="struct StandardMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n};\nvoid RE_Direct_Standard( const in IncidentLight directLight, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * PI * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Standard( const in vec3 irradiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Standard( const in vec3 radiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Standard\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Standard\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Standard\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n",tt.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tdirectLight = getPointDirectLight( pointLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tdirectLight = getSpotDirectLight( spotLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tdirectLight = getDirectionalDirectLight( directionalLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tirradiance += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",tt.ShaderChunk.linear_to_gamma_fragment="\n\toutgoingLight = linearToOutput( outgoingLight );\n",tt.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",tt.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",tt.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",tt.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",tt.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\tdiffuseColor *= texelColor;\n#endif\n",tt.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",tt.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n#endif\n",tt.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",tt.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",tt.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",tt.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",tt.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",tt.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",tt.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",tt.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",tt.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",tt.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",tt.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",tt.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\treturn dot( rgba_depth, bit_shift );\n\t}\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec3 offset = vec3( - 1, 0, 1 ) * shadowRadius * 2.0 * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zyz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.zyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yzz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxz, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yzx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 21.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",tt.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",tt.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",tt.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",tt.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",tt.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",tt.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",tt.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",tt.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",tt.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tt.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",tt.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",tt.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",tt.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",tt.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",tt.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",tt.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( STANDARD ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",tt.UniformsUtils={merge:function(t){for(var e={},i=0;i<t.length;i++){var n=this.clone(t[i]);for(var r in n)e[r]=n[r]}return e},clone:function(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var r=t[i][n];r instanceof tt.Color||r instanceof tt.Vector2||r instanceof tt.Vector3||r instanceof tt.Vector4||r instanceof tt.Matrix3||r instanceof tt.Matrix4||r instanceof tt.Texture?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}return e}},tt.UniformsLib={common:{diffuse:{type:"c",value:new tt.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new tt.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new tt.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new tt.Color(16777215)}},ambient:{ambientLightColor:{type:"fv",value:[]}},lights:{directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"f"},angleCos:{type:"f"},exponent:{type:"f"},decay:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"f"},distance:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new tt.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new tt.Vector4(0,0,1,1)}}},tt.ShaderLib={basic:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.common,tt.UniformsLib.aomap,tt.UniformsLib.fog]),vertexShader:[tt.ShaderChunk.common,tt.ShaderChunk.uv_pars_vertex,tt.ShaderChunk.uv2_pars_vertex,tt.ShaderChunk.envmap_pars_vertex,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,tt.ShaderChunk.shadowmap_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.uv_vertex,tt.ShaderChunk.uv2_vertex,tt.ShaderChunk.color_vertex,tt.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",tt.ShaderChunk.beginnormal_vertex,tt.ShaderChunk.morphnormal_vertex,tt.ShaderChunk.skinnormal_vertex,tt.ShaderChunk.defaultnormal_vertex,"\t#endif",tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,tt.ShaderChunk.worldpos_vertex,tt.ShaderChunk.envmap_vertex,tt.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.uv_pars_fragment,tt.ShaderChunk.uv2_pars_fragment,tt.ShaderChunk.map_pars_fragment,tt.ShaderChunk.alphamap_pars_fragment,tt.ShaderChunk.aomap_pars_fragment,tt.ShaderChunk.envmap_pars_fragment,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.shadowmap_pars_fragment,tt.ShaderChunk.specularmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec4 diffuseColor = vec4( diffuse, opacity );",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.map_fragment,tt.ShaderChunk.color_fragment,tt.ShaderChunk.alphamap_fragment,tt.ShaderChunk.alphatest_fragment,tt.ShaderChunk.specularmap_fragment,"\tReflectedLight reflectedLight;","\treflectedLight.directDiffuse = vec3( 0.0 );","\treflectedLight.directSpecular = vec3( 0.0 );","\treflectedLight.indirectDiffuse = diffuseColor.rgb;","\treflectedLight.indirectSpecular = vec3( 0.0 );",tt.ShaderChunk.aomap_fragment,"\tvec3 outgoingLight = reflectedLight.indirectDiffuse;",tt.ShaderChunk.envmap_fragment,tt.ShaderChunk.linear_to_gamma_fragment,tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.common,tt.UniformsLib.aomap,tt.UniformsLib.lightmap,tt.UniformsLib.emissivemap,tt.UniformsLib.fog,tt.UniformsLib.ambient,tt.UniformsLib.lights,{emissive:{type:"c",value:new tt.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.uv_pars_vertex,tt.ShaderChunk.uv2_pars_vertex,tt.ShaderChunk.envmap_pars_vertex,tt.ShaderChunk.bsdfs,tt.ShaderChunk.lights_pars,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,tt.ShaderChunk.shadowmap_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.uv_vertex,tt.ShaderChunk.uv2_vertex,tt.ShaderChunk.color_vertex,tt.ShaderChunk.beginnormal_vertex,tt.ShaderChunk.morphnormal_vertex,tt.ShaderChunk.skinbase_vertex,tt.ShaderChunk.skinnormal_vertex,tt.ShaderChunk.defaultnormal_vertex,tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,tt.ShaderChunk.worldpos_vertex,tt.ShaderChunk.envmap_vertex,tt.ShaderChunk.lights_lambert_vertex,tt.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.uv_pars_fragment,tt.ShaderChunk.uv2_pars_fragment,tt.ShaderChunk.map_pars_fragment,tt.ShaderChunk.alphamap_pars_fragment,tt.ShaderChunk.aomap_pars_fragment,tt.ShaderChunk.lightmap_pars_fragment,tt.ShaderChunk.emissivemap_pars_fragment,tt.ShaderChunk.envmap_pars_fragment,tt.ShaderChunk.bsdfs,tt.ShaderChunk.ambient_pars,tt.ShaderChunk.lights_pars,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.shadowmap_pars_fragment,tt.ShaderChunk.shadowmask_pars_fragment,tt.ShaderChunk.specularmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveLight = emissive;",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.map_fragment,tt.ShaderChunk.color_fragment,tt.ShaderChunk.alphamap_fragment,tt.ShaderChunk.alphatest_fragment,tt.ShaderChunk.specularmap_fragment,tt.ShaderChunk.emissivemap_fragment,"\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );",tt.ShaderChunk.lightmap_fragment,"\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );","\t#ifdef DOUBLE_SIDED","\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;","\t#else","\t\treflectedLight.directDiffuse = vLightFront;","\t#endif","\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();",tt.ShaderChunk.aomap_fragment,"\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveLight;",tt.ShaderChunk.envmap_fragment,tt.ShaderChunk.linear_to_gamma_fragment,tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.common,tt.UniformsLib.aomap,tt.UniformsLib.lightmap,tt.UniformsLib.emissivemap,tt.UniformsLib.bumpmap,tt.UniformsLib.normalmap,tt.UniformsLib.displacementmap,tt.UniformsLib.fog,tt.UniformsLib.ambient,tt.UniformsLib.lights,{emissive:{type:"c",value:new tt.Color(0)},specular:{type:"c",value:new tt.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.uv_pars_vertex,tt.ShaderChunk.uv2_pars_vertex,tt.ShaderChunk.displacementmap_pars_vertex,tt.ShaderChunk.envmap_pars_vertex,tt.ShaderChunk.lights_phong_pars_vertex,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,tt.ShaderChunk.shadowmap_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.uv_vertex,tt.ShaderChunk.uv2_vertex,tt.ShaderChunk.color_vertex,tt.ShaderChunk.beginnormal_vertex,tt.ShaderChunk.morphnormal_vertex,tt.ShaderChunk.skinbase_vertex,tt.ShaderChunk.skinnormal_vertex,tt.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",tt.ShaderChunk.begin_vertex,tt.ShaderChunk.displacementmap_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = - mvPosition.xyz;",tt.ShaderChunk.worldpos_vertex,tt.ShaderChunk.envmap_vertex,tt.ShaderChunk.lights_phong_vertex,tt.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.uv_pars_fragment,tt.ShaderChunk.uv2_pars_fragment,tt.ShaderChunk.map_pars_fragment,tt.ShaderChunk.alphamap_pars_fragment,tt.ShaderChunk.aomap_pars_fragment,tt.ShaderChunk.lightmap_pars_fragment,tt.ShaderChunk.emissivemap_pars_fragment,tt.ShaderChunk.envmap_pars_fragment,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.bsdfs,tt.ShaderChunk.ambient_pars,tt.ShaderChunk.lights_pars,tt.ShaderChunk.lights_phong_pars_fragment,tt.ShaderChunk.shadowmap_pars_fragment,tt.ShaderChunk.bumpmap_pars_fragment,tt.ShaderChunk.normalmap_pars_fragment,tt.ShaderChunk.specularmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveLight = emissive;",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.map_fragment,tt.ShaderChunk.color_fragment,tt.ShaderChunk.alphamap_fragment,tt.ShaderChunk.alphatest_fragment,tt.ShaderChunk.specularmap_fragment,tt.ShaderChunk.normal_fragment,tt.ShaderChunk.emissivemap_fragment,tt.ShaderChunk.lights_phong_fragment,tt.ShaderChunk.lights_template,tt.ShaderChunk.aomap_fragment,"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;",tt.ShaderChunk.envmap_fragment,tt.ShaderChunk.linear_to_gamma_fragment,tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},standard:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.common,tt.UniformsLib.aomap,tt.UniformsLib.lightmap,tt.UniformsLib.emissivemap,tt.UniformsLib.bumpmap,tt.UniformsLib.normalmap,tt.UniformsLib.displacementmap,tt.UniformsLib.roughnessmap,tt.UniformsLib.metalnessmap,tt.UniformsLib.fog,tt.UniformsLib.ambient,tt.UniformsLib.lights,{emissive:{type:"c",value:new tt.Color(0)},roughness:{type:"f",value:.5},metalness:{type:"f",value:0},envMapIntensity:{type:"f",value:1}}]),vertexShader:["#define STANDARD","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.uv_pars_vertex,tt.ShaderChunk.uv2_pars_vertex,tt.ShaderChunk.displacementmap_pars_vertex,tt.ShaderChunk.envmap_pars_vertex,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,tt.ShaderChunk.shadowmap_pars_vertex,tt.ShaderChunk.specularmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.uv_vertex,tt.ShaderChunk.uv2_vertex,tt.ShaderChunk.color_vertex,tt.ShaderChunk.beginnormal_vertex,tt.ShaderChunk.morphnormal_vertex,tt.ShaderChunk.skinbase_vertex,tt.ShaderChunk.skinnormal_vertex,tt.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",tt.ShaderChunk.begin_vertex,tt.ShaderChunk.displacementmap_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = - mvPosition.xyz;",tt.ShaderChunk.worldpos_vertex,tt.ShaderChunk.envmap_vertex,tt.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define STANDARD","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","uniform float envMapIntensity;","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.uv_pars_fragment,tt.ShaderChunk.uv2_pars_fragment,tt.ShaderChunk.map_pars_fragment,tt.ShaderChunk.alphamap_pars_fragment,tt.ShaderChunk.aomap_pars_fragment,tt.ShaderChunk.lightmap_pars_fragment,tt.ShaderChunk.emissivemap_pars_fragment,tt.ShaderChunk.envmap_pars_fragment,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.bsdfs,tt.ShaderChunk.ambient_pars,tt.ShaderChunk.lights_pars,tt.ShaderChunk.lights_standard_pars_fragment,tt.ShaderChunk.shadowmap_pars_fragment,tt.ShaderChunk.bumpmap_pars_fragment,tt.ShaderChunk.normalmap_pars_fragment,tt.ShaderChunk.roughnessmap_pars_fragment,tt.ShaderChunk.metalnessmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveLight = emissive;",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.map_fragment,tt.ShaderChunk.color_fragment,tt.ShaderChunk.alphamap_fragment,tt.ShaderChunk.alphatest_fragment,tt.ShaderChunk.specularmap_fragment,tt.ShaderChunk.roughnessmap_fragment,tt.ShaderChunk.metalnessmap_fragment,tt.ShaderChunk.normal_fragment,tt.ShaderChunk.emissivemap_fragment,tt.ShaderChunk.lights_standard_fragment,tt.ShaderChunk.lights_template,tt.ShaderChunk.aomap_fragment,"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;",tt.ShaderChunk.linear_to_gamma_fragment,tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.points,tt.UniformsLib.fog]),vertexShader:["uniform float size;","uniform float scale;",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.shadowmap_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.color_vertex,tt.ShaderChunk.begin_vertex,tt.ShaderChunk.project_vertex,"\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / - mvPosition.z );","\t#else","\t\tgl_PointSize = size;","\t#endif",tt.ShaderChunk.logdepthbuf_vertex,tt.ShaderChunk.worldpos_vertex,tt.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.map_particle_pars_fragment,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.shadowmap_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.map_particle_fragment,tt.ShaderChunk.color_fragment,tt.ShaderChunk.alphatest_fragment,"\toutgoingLight = diffuseColor.rgb;",tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:tt.UniformsUtils.merge([tt.UniformsLib.common,tt.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",tt.ShaderChunk.common,tt.ShaderChunk.color_pars_fragment,tt.ShaderChunk.fog_pars_fragment,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",tt.ShaderChunk.logdepthbuf_fragment,tt.ShaderChunk.color_fragment,"\toutgoingLight = diffuseColor.rgb;",tt.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[tt.ShaderChunk.common,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",tt.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",tt.ShaderChunk.common,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",tt.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",tt.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",tt.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[tt.ShaderChunk.common,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,tt.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",tt.ShaderChunk.skinbase_vertex,tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[tt.ShaderChunk.common,tt.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",tt.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new tt.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",tt.ShaderChunk.common,tt.ShaderChunk.morphtarget_pars_vertex,tt.ShaderChunk.skinning_pars_vertex,"void main() {",tt.ShaderChunk.skinbase_vertex,tt.ShaderChunk.begin_vertex,tt.ShaderChunk.morphtarget_vertex,tt.ShaderChunk.skinning_vertex,tt.ShaderChunk.project_vertex,tt.ShaderChunk.worldpos_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",tt.ShaderChunk.common,"vec4 pack1K ( float depth ) {","\tdepth /= 1000.0;","\tconst vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bitSh * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bitMsk;","\treturn res; ","}","float unpack1K ( vec4 color ) {","\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","\treturn dot( color, bitSh ) * 1000.0;","}","void main () {","\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},tt.WebGLRenderer=function(t){console.log("THREE.WebGLRenderer",tt.REVISION);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElement("canvas"),i=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=[],u=[],h=-1,d=[],p=-1,f=new Float32Array(8),m=[],g=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var v,y=this,_=null,b=null,w=null,x=-1,M="",S=null,k=new tt.Vector4,T=null,C=new tt.Vector4,E=0,A=new tt.Color(0),L=0,D=e.width,P=e.height,O=1,I=new tt.Vector4(0,0,D,P),N=!1,R=new tt.Vector4(0,0,D,P),F=new tt.Frustum,j=new tt.Matrix4,U=new tt.Vector3,Y={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[],shadowsPointLight:0},V={geometries:0,textures:0},H={calls:0,vertices:0,faces:0,points:0};this.info={render:H,memory:V,programs:null};try{var B={alpha:n,depth:r,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l};if(null===(v=i||e.getContext("webgl",B)||e.getContext("experimental-webgl",B)))throw null!==e.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";e.addEventListener("webglcontextlost",lt,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var z=new tt.WebGLExtensions(v);z.get("OES_texture_float"),z.get("OES_texture_float_linear"),z.get("OES_texture_half_float"),z.get("OES_texture_half_float_linear"),z.get("OES_standard_derivatives"),z.get("ANGLE_instanced_arrays"),z.get("OES_element_index_uint")&&(tt.BufferGeometry.MaxIndex=4294967296);var W=new tt.WebGLCapabilities(v,z,t),q=new tt.WebGLState(v,z,Ot),G=new tt.WebGLProperties,$=new tt.WebGLObjects(v,G,this.info),X=new tt.WebGLPrograms(this,W),K=new tt.WebGLLights;this.info.programs=X.programs;var J=new tt.WebGLBufferRenderer(v,z,H),Q=new tt.WebGLIndexedBufferRenderer(v,z,H);function Z(){return null===b?O:1}function et(t,e,i,n){!0===s&&(t*=n,e*=n,i*=n),q.clearColor(t,e,i,n)}function it(){q.init(),q.scissor(k.copy(I).multiplyScalar(O)),q.viewport(C.copy(R).multiplyScalar(O)),et(A.r,A.g,A.b,L)}function nt(){_=null,S=null,M="",x=-1,q.reset()}it(),this.context=v,this.capabilities=W,this.extensions=z,this.properties=G,this.state=q;var rt=new tt.WebGLShadowMap(this,Y,$);this.shadowMap=rt;var ot,at=new tt.SpritePlugin(this,m),st=new tt.LensFlarePlugin(this,g);function lt(t){t.preventDefault(),nt(),it(),G.clear()}function ct(t){var e=t.target;e.removeEventListener("dispose",ct),function(t){var e=G.get(t);if(t.image&&e.__image__webglTextureCube)v.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;v.deleteTexture(e.__webglTexture)}G.delete(t)}(e),V.textures--}function ut(t){var e=t.target;e.removeEventListener("dispose",ut),function(t){var e=G.get(t),i=G.get(t.texture);if(!t||void 0===i.__webglTexture)return;if(v.deleteTexture(i.__webglTexture),t instanceof tt.WebGLRenderTargetCube)for(var n=0;n<6;n++)v.deleteFramebuffer(e.__webglFramebuffer[n]),v.deleteRenderbuffer(e.__webglDepthbuffer[n]);else v.deleteFramebuffer(e.__webglFramebuffer),v.deleteRenderbuffer(e.__webglDepthbuffer);G.delete(t.texture),G.delete(t)}(e),V.textures--}function ht(t){var e=t.target;e.removeEventListener("dispose",ht),function(t){dt(t),G.delete(t)}(e)}function dt(t){var e=G.get(t).program;t.program=void 0,void 0!==e&&X.releaseProgram(e)}function pt(t,e){return Math.abs(e[0])-Math.abs(t[0])}function ft(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function mt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function gt(t,e,i,n,r){var o,a;i.transparent?(o=d,a=++p):(o=u,a=++h);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=i,s.z=U.z,s.group=r):(s={id:t.id,object:t,geometry:e,material:i,z:U.z,group:r},o.push(s))}function vt(t,e,i,n){for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a.object,l=a.geometry,c=void 0===n?a.material:n,u=a.group;if(s.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s instanceof tt.ImmediateRenderObject){yt(c);var h=_t(e,i,c,s);M="",s.render((function(t){y.renderBufferImmediate(t,h,c)}))}else y.renderBufferDirect(e,i,l,c,s,u)}}function yt(t){!function(t){t.side!==tt.DoubleSide?q.enable(v.CULL_FACE):q.disable(v.CULL_FACE),q.setFlipSided(t.side===tt.BackSide)}(t),!0===t.transparent?q.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha):q.setBlending(tt.NoBlending),q.setDepthFunc(t.depthFunc),q.setDepthTest(t.depthTest),q.setDepthWrite(t.depthWrite),q.setColorWrite(t.colorWrite),q.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function _t(t,i,n,r){E=0;var o=G.get(n);void 0===o.program&&(n.needsUpdate=!0),void 0!==o.lightsHash&&o.lightsHash!==Y.hash&&(n.needsUpdate=!0),n.needsUpdate&&(!function(t,e,i){var n=G.get(t),r=X.getParameters(t,Y,e,i),o=X.getProgramCode(t,r),a=n.program,s=!0;if(void 0===a)t.addEventListener("dispose",ht);else if(a.code!==o)dt(t);else{if(void 0!==r.shaderID)return;s=!1}if(s){if(r.shaderID){var l=tt.ShaderLib[r.shaderID];n.__webglShader={name:t.type,uniforms:tt.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=n.__webglShader,a=X.acquireProgram(t,r,o),n.program=a,t.program=a}var c=a.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var u=0;u<y.maxMorphTargets;u++)c["morphTarget"+u]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(u=0;u<y.maxMorphNormals;u++)c["morphNormal"+u]>=0&&t.numSupportedMorphNormals++}n.uniformsList=[];var h=n.__webglShader.uniforms,d=n.program.getUniforms();for(var p in h){var f=d[p];f&&n.uniformsList.push([n.__webglShader.uniforms[p],f])}(t instanceof tt.MeshPhongMaterial||t instanceof tt.MeshLambertMaterial||t instanceof tt.MeshStandardMaterial||t.lights)&&(n.lightsHash=Y.hash,h.ambientLightColor.value=Y.ambient,h.directionalLights.value=Y.directional,h.spotLights.value=Y.spot,h.pointLights.value=Y.point,h.hemisphereLights.value=Y.hemi,h.directionalShadowMap.value=Y.directionalShadowMap,h.directionalShadowMatrix.value=Y.directionalShadowMatrix,h.spotShadowMap.value=Y.spotShadowMap,h.spotShadowMatrix.value=Y.spotShadowMatrix,h.pointShadowMap.value=Y.pointShadowMap,h.pointShadowMatrix.value=Y.pointShadowMatrix),n.hasDynamicUniforms=!1;for(var m=0,g=n.uniformsList.length;m<g;m++){if(!0===n.uniformsList[m][0].dynamic){n.hasDynamicUniforms=!0;break}}}(n,i,r),n.needsUpdate=!1);var a=!1,s=!1,l=!1,c=o.program,u=c.getUniforms(),h=o.__webglShader.uniforms;if(c.id!==_&&(v.useProgram(c.program),_=c.id,a=!0,s=!0,l=!0),n.id!==x&&(x=n.id,s=!0),(a||t!==S)&&(v.uniformMatrix4fv(u.projectionMatrix,!1,t.projectionMatrix.elements),W.logarithmicDepthBuffer&&v.uniform1f(u.logDepthBufFC,2/(Math.log(t.far+1)/Math.LN2)),t!==S&&(S=t,s=!0,l=!0),(n instanceof tt.ShaderMaterial||n instanceof tt.MeshPhongMaterial||n instanceof tt.MeshStandardMaterial||n.envMap)&&void 0!==u.cameraPosition&&(U.setFromMatrixPosition(t.matrixWorld),v.uniform3f(u.cameraPosition,U.x,U.y,U.z)),(n instanceof tt.MeshPhongMaterial||n instanceof tt.MeshLambertMaterial||n instanceof tt.MeshBasicMaterial||n instanceof tt.MeshStandardMaterial||n instanceof tt.ShaderMaterial||n.skinning)&&void 0!==u.viewMatrix&&v.uniformMatrix4fv(u.viewMatrix,!1,t.matrixWorldInverse.elements)),n.skinning)if(r.bindMatrix&&void 0!==u.bindMatrix&&v.uniformMatrix4fv(u.bindMatrix,!1,r.bindMatrix.elements),r.bindMatrixInverse&&void 0!==u.bindMatrixInverse&&v.uniformMatrix4fv(u.bindMatrixInverse,!1,r.bindMatrixInverse.elements),W.floatVertexTextures&&r.skeleton&&r.skeleton.useVertexTexture){if(void 0!==u.boneTexture){var d=wt();v.uniform1i(u.boneTexture,d),y.setTexture(r.skeleton.boneTexture,d)}void 0!==u.boneTextureWidth&&v.uniform1i(u.boneTextureWidth,r.skeleton.boneTextureWidth),void 0!==u.boneTextureHeight&&v.uniform1i(u.boneTextureHeight,r.skeleton.boneTextureHeight)}else r.skeleton&&r.skeleton.boneMatrices&&void 0!==u.boneGlobalMatrices&&v.uniformMatrix4fv(u.boneGlobalMatrices,!1,r.skeleton.boneMatrices);return s&&((n instanceof tt.MeshPhongMaterial||n instanceof tt.MeshLambertMaterial||n instanceof tt.MeshStandardMaterial||n.lights)&&function(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(h,l),i&&n.fog&&function(t,e){t.fogColor.value=e.color,e instanceof tt.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof tt.FogExp2&&(t.fogDensity.value=e.density)}(h,i),(n instanceof tt.MeshBasicMaterial||n instanceof tt.MeshLambertMaterial||n instanceof tt.MeshPhongMaterial||n instanceof tt.MeshStandardMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var i;e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap);if(void 0!==i){i instanceof tt.WebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof tt.WebGLRenderTargetCube?1:-1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(h,n),n instanceof tt.LineBasicMaterial?bt(h,n):n instanceof tt.LineDashedMaterial?(bt(h,n),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(h,n)):n instanceof tt.PointsMaterial?function(t,i){if(t.diffuse.value=i.color,t.opacity.value=i.opacity,t.size.value=i.size*O,t.scale.value=e.clientHeight/2,t.map.value=i.map,null!==i.map){var n=i.map.offset,r=i.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}(h,n):n instanceof tt.MeshLambertMaterial?function(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(h,n):n instanceof tt.MeshPhongMaterial?function(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(h,n):n instanceof tt.MeshStandardMaterial?function(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap);e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap);e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}(h,n):n instanceof tt.MeshDepthMaterial?(h.mNear.value=t.near,h.mFar.value=t.far,h.opacity.value=n.opacity):n instanceof tt.MeshNormalMaterial&&(h.opacity.value=n.opacity),xt(o.uniformsList)),function(t,e){v.uniformMatrix4fv(t.modelViewMatrix,!1,e.modelViewMatrix.elements),t.normalMatrix&&v.uniformMatrix3fv(t.normalMatrix,!1,e.normalMatrix.elements)}(u,r),void 0!==u.modelMatrix&&v.uniformMatrix4fv(u.modelMatrix,!1,r.matrixWorld.elements),!0===o.hasDynamicUniforms&&function(t,e,i){for(var n=[],r=0,o=t.length;r<o;r++){var a=t[r][0],s=a.onUpdateCallback;void 0!==s&&(s.bind(a)(e,i),n.push(t[r]))}xt(n)}(o.uniformsList,r,t),c}function bt(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function wt(){var t=E;return t>=W.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+W.maxTextures),E+=1,t}function xt(t){for(var e,i,n=0,r=t.length;n<r;n++){var o=t[n][0];if(!1!==o.needsUpdate){var a=o.type,s=o.value,l=t[n][1];switch(a){case"1i":v.uniform1i(l,s);break;case"1f":v.uniform1f(l,s);break;case"2f":v.uniform2f(l,s[0],s[1]);break;case"3f":v.uniform3f(l,s[0],s[1],s[2]);break;case"4f":v.uniform4f(l,s[0],s[1],s[2],s[3]);break;case"1iv":v.uniform1iv(l,s);break;case"3iv":v.uniform3iv(l,s);break;case"1fv":v.uniform1fv(l,s);break;case"2fv":v.uniform2fv(l,s);break;case"3fv":v.uniform3fv(l,s);break;case"4fv":v.uniform4fv(l,s);break;case"Matrix2fv":v.uniformMatrix2fv(l,!1,s);break;case"Matrix3fv":v.uniformMatrix3fv(l,!1,s);break;case"Matrix4fv":v.uniformMatrix4fv(l,!1,s);break;case"i":v.uniform1i(l,s);break;case"f":v.uniform1f(l,s);break;case"v2":v.uniform2f(l,s.x,s.y);break;case"v3":v.uniform3f(l,s.x,s.y,s.z);break;case"v4":v.uniform4f(l,s.x,s.y,s.z,s.w);break;case"c":v.uniform3f(l,s.r,s.g,s.b);break;case"sa":for(var c=0;c<s.length;c++)for(var u in o.properties){var h=o.properties[u],d=l[c][u],p=s[c][u];switch(h.type){case"i":v.uniform1i(d,p);break;case"f":v.uniform1f(d,p);break;case"v2":v.uniform2f(d,p.x,p.y);break;case"v3":v.uniform3f(d,p.x,p.y,p.z);break;case"v4":v.uniform4f(d,p.x,p.y,p.z,p.w);break;case"c":v.uniform3f(d,p.r,p.g,p.b);break;case"m4":v.uniformMatrix4fv(d,!1,p.elements)}}break;case"iv1":v.uniform1iv(l,s);break;case"iv":v.uniform3iv(l,s);break;case"fv1":v.uniform1fv(l,s);break;case"fv":v.uniform3fv(l,s);break;case"v2v":void 0===o._array&&(o._array=new Float32Array(2*s.length));c=0;for(var f=0,m=s.length;c<m;c++,f+=2)o._array[f+0]=s[c].x,o._array[f+1]=s[c].y;v.uniform2fv(l,o._array);break;case"v3v":void 0===o._array&&(o._array=new Float32Array(3*s.length));c=0;var g=0;for(m=s.length;c<m;c++,g+=3)o._array[g+0]=s[c].x,o._array[g+1]=s[c].y,o._array[g+2]=s[c].z;v.uniform3fv(l,o._array);break;case"v4v":void 0===o._array&&(o._array=new Float32Array(4*s.length));c=0;var _=0;for(m=s.length;c<m;c++,_+=4)o._array[_+0]=s[c].x,o._array[_+1]=s[c].y,o._array[_+2]=s[c].z,o._array[_+3]=s[c].w;v.uniform4fv(l,o._array);break;case"m2":v.uniformMatrix2fv(l,!1,s.elements);break;case"m3":v.uniformMatrix3fv(l,!1,s.elements);break;case"m3v":void 0===o._array&&(o._array=new Float32Array(9*s.length));for(c=0,m=s.length;c<m;c++)s[c].flattenToArrayOffset(o._array,9*c);v.uniformMatrix3fv(l,!1,o._array);break;case"m4":v.uniformMatrix4fv(l,!1,s.elements);break;case"m4v":void 0===o._array&&(o._array=new Float32Array(16*s.length));for(c=0,m=s.length;c<m;c++)s[c].flattenToArrayOffset(o._array,16*c);v.uniformMatrix4fv(l,!1,o._array);break;case"t":if(e=s,i=wt(),v.uniform1i(l,i),!e)continue;e instanceof tt.CubeTexture||Array.isArray(e.image)&&6===e.image.length?Ct(e,i):e instanceof tt.WebGLRenderTargetCube?Et(e.texture,i):e instanceof tt.WebGLRenderTarget?y.setTexture(e.texture,i):y.setTexture(e,i);break;case"tv":void 0===o._array&&(o._array=[]);for(c=0,m=o.value.length;c<m;c++)o._array[c]=wt();v.uniform1iv(l,o._array);for(c=0,m=o.value.length;c<m;c++)e=o.value[c],i=o._array[c],e&&(e instanceof tt.CubeTexture||e.image instanceof Array&&6===e.image.length?Ct(e,i):e instanceof tt.WebGLRenderTarget?y.setTexture(e.texture,i):e instanceof tt.WebGLRenderTargetCube?Et(e.texture,i):y.setTexture(e,i));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+a)}}}}function Mt(t,e,i){var n;if(i?(v.texParameteri(t,v.TEXTURE_WRAP_S,Ot(e.wrapS)),v.texParameteri(t,v.TEXTURE_WRAP_T,Ot(e.wrapT)),v.texParameteri(t,v.TEXTURE_MAG_FILTER,Ot(e.magFilter)),v.texParameteri(t,v.TEXTURE_MIN_FILTER,Ot(e.minFilter))):(v.texParameteri(t,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(t,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),e.wrapS===tt.ClampToEdgeWrapping&&e.wrapT===tt.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),v.texParameteri(t,v.TEXTURE_MAG_FILTER,Pt(e.magFilter)),v.texParameteri(t,v.TEXTURE_MIN_FILTER,Pt(e.minFilter)),e.minFilter!==tt.NearestFilter&&e.minFilter!==tt.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),n=z.get("EXT_texture_filter_anisotropic")){if(e.type===tt.FloatType&&null===z.get("OES_texture_float_linear"))return;if(e.type===tt.HalfFloatType&&null===z.get("OES_texture_half_float_linear"))return;(e.anisotropy>1||G.get(e).__currentAnisotropy)&&(v.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,y.getMaxAnisotropy())),G.get(e).__currentAnisotropy=e.anisotropy)}}function St(t,e,i){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",ct),t.__webglTexture=v.createTexture(),V.textures++),q.activeTexture(v.TEXTURE0+i),q.bindTexture(v.TEXTURE_2D,t.__webglTexture),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,e.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,e.unpackAlignment);var n=kt(e.image,W.maxTextureSize);(function(t){return t.wrapS!==tt.ClampToEdgeWrapping||t.wrapT!==tt.ClampToEdgeWrapping||t.minFilter!==tt.NearestFilter&&t.minFilter!==tt.LinearFilter})(e)&&!1===Tt(n)&&(n=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElement("canvas");return e.width=tt.Math.nearestPowerOfTwo(t.width),e.height=tt.Math.nearestPowerOfTwo(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}(n));var r=Tt(n),o=Ot(e.format),a=Ot(e.type);Mt(v.TEXTURE_2D,e,r);var s,l=e.mipmaps;if(e instanceof tt.DataTexture)if(l.length>0&&r){for(var c=0,u=l.length;c<u;c++)s=l[c],q.texImage2D(v.TEXTURE_2D,c,o,s.width,s.height,0,o,a,s.data);e.generateMipmaps=!1}else q.texImage2D(v.TEXTURE_2D,0,o,n.width,n.height,0,o,a,n.data);else if(e instanceof tt.CompressedTexture)for(c=0,u=l.length;c<u;c++)s=l[c],e.format!==tt.RGBAFormat&&e.format!==tt.RGBFormat?q.getCompressedTextureFormats().indexOf(o)>-1?q.compressedTexImage2D(v.TEXTURE_2D,c,o,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):q.texImage2D(v.TEXTURE_2D,c,o,s.width,s.height,0,o,a,s.data);else if(l.length>0&&r){for(c=0,u=l.length;c<u;c++)s=l[c],q.texImage2D(v.TEXTURE_2D,c,o,o,a,s);e.generateMipmaps=!1}else q.texImage2D(v.TEXTURE_2D,0,o,o,a,n);e.generateMipmaps&&r&&v.generateMipmap(v.TEXTURE_2D),t.__version=e.version,e.onUpdate&&e.onUpdate(e)}function kt(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),n=document.createElement("canvas");return n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function Tt(t){return tt.Math.isPowerOfTwo(t.width)&&tt.Math.isPowerOfTwo(t.height)}function Ct(t,e){var i=G.get(t);if(6===t.image.length)if(t.version>0&&i.__version!==t.version){i.__image__webglTextureCube||(t.addEventListener("dispose",ct),i.__image__webglTextureCube=v.createTexture(),V.textures++),q.activeTexture(v.TEXTURE0+e),q.bindTexture(v.TEXTURE_CUBE_MAP,i.__image__webglTextureCube),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var n=t instanceof tt.CompressedTexture,r=t.image[0]instanceof tt.DataTexture,o=[],a=0;a<6;a++)!y.autoScaleCubemaps||n||r?o[a]=r?t.image[a].image:t.image[a]:o[a]=kt(t.image[a],W.maxCubemapSize);var s=Tt(o[0]),l=Ot(t.format),c=Ot(t.type);Mt(v.TEXTURE_CUBE_MAP,t,s);for(a=0;a<6;a++)if(n)for(var u,h=o[a].mipmaps,d=0,p=h.length;d<p;d++)u=h[d],t.format!==tt.RGBAFormat&&t.format!==tt.RGBFormat?q.getCompressedTextureFormats().indexOf(l)>-1?q.compressedTexImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,d,l,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):q.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,d,l,u.width,u.height,0,l,c,u.data);else r?q.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,o[a].width,o[a].height,0,l,c,o[a].data):q.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,l,c,o[a]);t.generateMipmaps&&s&&v.generateMipmap(v.TEXTURE_CUBE_MAP),i.__version=t.version,t.onUpdate&&t.onUpdate(t)}else q.activeTexture(v.TEXTURE0+e),q.bindTexture(v.TEXTURE_CUBE_MAP,i.__image__webglTextureCube)}function Et(t,e){q.activeTexture(v.TEXTURE0+e),q.bindTexture(v.TEXTURE_CUBE_MAP,G.get(t).__webglTexture)}function At(t,e,i,n){var r=Ot(e.texture.format),o=Ot(e.texture.type);q.texImage2D(n,0,r,e.width,e.height,0,r,o,null),v.bindFramebuffer(v.FRAMEBUFFER,t),v.framebufferTexture2D(v.FRAMEBUFFER,i,n,G.get(e.texture).__webglTexture,0),v.bindFramebuffer(v.FRAMEBUFFER,null)}function Lt(t,e){v.bindRenderbuffer(v.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_COMPONENT16,e.width,e.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_STENCIL,e.width,e.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.RENDERBUFFER,t)):v.renderbufferStorage(v.RENDERBUFFER,v.RGBA4,e.width,e.height),v.bindRenderbuffer(v.RENDERBUFFER,null)}function Dt(t){var e=G.get(t),i=G.get(t.texture);t.addEventListener("dispose",ut),i.__webglTexture=v.createTexture(),V.textures++;var n=t instanceof tt.WebGLRenderTargetCube,r=tt.Math.isPowerOfTwo(t.width)&&tt.Math.isPowerOfTwo(t.height);if(n){e.__webglFramebuffer=[];for(var o=0;o<6;o++)e.__webglFramebuffer[o]=v.createFramebuffer()}else e.__webglFramebuffer=v.createFramebuffer();if(n){q.bindTexture(v.TEXTURE_CUBE_MAP,i.__webglTexture),Mt(v.TEXTURE_CUBE_MAP,t.texture,r);for(o=0;o<6;o++)At(e.__webglFramebuffer[o],t,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+o);t.texture.generateMipmaps&&r&&v.generateMipmap(v.TEXTURE_CUBE_MAP),q.bindTexture(v.TEXTURE_CUBE_MAP,null)}else q.bindTexture(v.TEXTURE_2D,i.__webglTexture),Mt(v.TEXTURE_2D,t.texture,r),At(e.__webglFramebuffer,t,v.COLOR_ATTACHMENT0,v.TEXTURE_2D),t.texture.generateMipmaps&&r&&v.generateMipmap(v.TEXTURE_2D),q.bindTexture(v.TEXTURE_2D,null);t.depthBuffer&&function(t){var e=G.get(t);if(t instanceof tt.WebGLRenderTargetCube){e.__webglDepthbuffer=[];for(var i=0;i<6;i++)v.bindFramebuffer(v.FRAMEBUFFER,e.__webglFramebuffer[i]),e.__webglDepthbuffer[i]=v.createRenderbuffer(),Lt(e.__webglDepthbuffer[i],t)}else v.bindFramebuffer(v.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=v.createRenderbuffer(),Lt(e.__webglDepthbuffer,t);v.bindFramebuffer(v.FRAMEBUFFER,null)}(t)}function Pt(t){return t===tt.NearestFilter||t===tt.NearestMipMapNearestFilter||t===tt.NearestMipMapLinearFilter?v.NEAREST:v.LINEAR}function Ot(t){var e;if(t===tt.RepeatWrapping)return v.REPEAT;if(t===tt.ClampToEdgeWrapping)return v.CLAMP_TO_EDGE;if(t===tt.MirroredRepeatWrapping)return v.MIRRORED_REPEAT;if(t===tt.NearestFilter)return v.NEAREST;if(t===tt.NearestMipMapNearestFilter)return v.NEAREST_MIPMAP_NEAREST;if(t===tt.NearestMipMapLinearFilter)return v.NEAREST_MIPMAP_LINEAR;if(t===tt.LinearFilter)return v.LINEAR;if(t===tt.LinearMipMapNearestFilter)return v.LINEAR_MIPMAP_NEAREST;if(t===tt.LinearMipMapLinearFilter)return v.LINEAR_MIPMAP_LINEAR;if(t===tt.UnsignedByteType)return v.UNSIGNED_BYTE;if(t===tt.UnsignedShort4444Type)return v.UNSIGNED_SHORT_4_4_4_4;if(t===tt.UnsignedShort5551Type)return v.UNSIGNED_SHORT_5_5_5_1;if(t===tt.UnsignedShort565Type)return v.UNSIGNED_SHORT_5_6_5;if(t===tt.ByteType)return v.BYTE;if(t===tt.ShortType)return v.SHORT;if(t===tt.UnsignedShortType)return v.UNSIGNED_SHORT;if(t===tt.IntType)return v.INT;if(t===tt.UnsignedIntType)return v.UNSIGNED_INT;if(t===tt.FloatType)return v.FLOAT;if(null!==(e=z.get("OES_texture_half_float"))&&t===tt.HalfFloatType)return e.HALF_FLOAT_OES;if(t===tt.AlphaFormat)return v.ALPHA;if(t===tt.RGBFormat)return v.RGB;if(t===tt.RGBAFormat)return v.RGBA;if(t===tt.LuminanceFormat)return v.LUMINANCE;if(t===tt.LuminanceAlphaFormat)return v.LUMINANCE_ALPHA;if(t===tt.AddEquation)return v.FUNC_ADD;if(t===tt.SubtractEquation)return v.FUNC_SUBTRACT;if(t===tt.ReverseSubtractEquation)return v.FUNC_REVERSE_SUBTRACT;if(t===tt.ZeroFactor)return v.ZERO;if(t===tt.OneFactor)return v.ONE;if(t===tt.SrcColorFactor)return v.SRC_COLOR;if(t===tt.OneMinusSrcColorFactor)return v.ONE_MINUS_SRC_COLOR;if(t===tt.SrcAlphaFactor)return v.SRC_ALPHA;if(t===tt.OneMinusSrcAlphaFactor)return v.ONE_MINUS_SRC_ALPHA;if(t===tt.DstAlphaFactor)return v.DST_ALPHA;if(t===tt.OneMinusDstAlphaFactor)return v.ONE_MINUS_DST_ALPHA;if(t===tt.DstColorFactor)return v.DST_COLOR;if(t===tt.OneMinusDstColorFactor)return v.ONE_MINUS_DST_COLOR;if(t===tt.SrcAlphaSaturateFactor)return v.SRC_ALPHA_SATURATE;if(null!==(e=z.get("WEBGL_compressed_texture_s3tc"))){if(t===tt.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===tt.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===tt.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===tt.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(e=z.get("WEBGL_compressed_texture_pvrtc"))){if(t===tt.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===tt.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===tt.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===tt.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(e=z.get("WEBGL_compressed_texture_etc1"))&&t===tt.RGB_ETC1_Format)return e.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(e=z.get("EXT_blend_minmax"))){if(t===tt.MinEquation)return e.MIN_EXT;if(t===tt.MaxEquation)return e.MAX_EXT}return 0}this.getContext=function(){return v},this.getContextAttributes=function(){return v.getContextAttributes()},this.forceContextLoss=function(){z.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){if(void 0!==ot)return ot;var t=z.get("EXT_texture_filter_anisotropic");return ot=null!==t?v.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getPrecision=function(){return W.precision},this.getPixelRatio=function(){return O},this.setPixelRatio=function(t){void 0!==t&&(O=t,this.setSize(R.z,R.w,!1))},this.getSize=function(){return{width:D,height:P}},this.setSize=function(t,i,n){D=t,P=i,e.width=t*O,e.height=i*O,!1!==n&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i)},this.setViewport=function(t,e,i,n){q.viewport(R.set(t,e,i,n))},this.setScissor=function(t,e,i,n){q.scissor(I.set(t,e,i,n))},this.setScissorTest=function(t){q.setScissorTest(N=t)},this.getClearColor=function(){return A},this.setClearColor=function(t,e){A.set(t),L=void 0!==e?e:1,et(A.r,A.g,A.b,L)},this.getClearAlpha=function(){return L},this.setClearAlpha=function(t){L=t,et(A.r,A.g,A.b,L)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=v.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=v.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=v.STENCIL_BUFFER_BIT),v.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.resetGLState=nt,this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1)},this.renderBufferImmediate=function(t,e,i){q.initAttributes();var n=G.get(t);t.hasPositions&&!n.position&&(n.position=v.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=v.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=v.createBuffer()),t.hasColors&&!n.color&&(n.color=v.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(v.bindBuffer(v.ARRAY_BUFFER,n.position),v.bufferData(v.ARRAY_BUFFER,t.positionArray,v.DYNAMIC_DRAW),q.enableAttribute(r.position),v.vertexAttribPointer(r.position,3,v.FLOAT,!1,0,0)),t.hasNormals){if(v.bindBuffer(v.ARRAY_BUFFER,n.normal),"MeshPhongMaterial"!==i.type&&"MeshStandardMaterial"!==i.type&&i.shading===tt.FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,l=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,u=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=l,s[o+1]=c,s[o+2]=u,s[o+3]=l,s[o+4]=c,s[o+5]=u,s[o+6]=l,s[o+7]=c,s[o+8]=u}v.bufferData(v.ARRAY_BUFFER,t.normalArray,v.DYNAMIC_DRAW),q.enableAttribute(r.normal),v.vertexAttribPointer(r.normal,3,v.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(v.bindBuffer(v.ARRAY_BUFFER,n.uv),v.bufferData(v.ARRAY_BUFFER,t.uvArray,v.DYNAMIC_DRAW),q.enableAttribute(r.uv),v.vertexAttribPointer(r.uv,2,v.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==tt.NoColors&&(v.bindBuffer(v.ARRAY_BUFFER,n.color),v.bufferData(v.ARRAY_BUFFER,t.colorArray,v.DYNAMIC_DRAW),q.enableAttribute(r.color),v.vertexAttribPointer(r.color,3,v.FLOAT,!1,0,0)),q.disableUnusedAttributes(),v.drawArrays(v.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,o){yt(n);var a=_t(t,e,n,r),s=!1,l=i.id+"_"+a.id+"_"+n.wireframe;l!==M&&(M=l,s=!0);var c=r.morphTargetInfluences;if(void 0!==c){for(var u=[],h=0,d=c.length;h<d;h++){var p=c[h];u.push([p,h])}u.sort(pt),u.length>8&&(u.length=8);var m=i.morphAttributes;for(h=0,d=u.length;h<d;h++){p=u[h];if(f[h]=p[0],0!==p[0]){var g=p[1];!0===n.morphTargets&&m.position&&i.addAttribute("morphTarget"+h,m.position[g]),!0===n.morphNormals&&m.normal&&i.addAttribute("morphNormal"+h,m.normal[g])}else!0===n.morphTargets&&i.removeAttribute("morphTarget"+h),!0===n.morphNormals&&i.removeAttribute("morphNormal"+h)}var y=a.getUniforms();null!==y.morphTargetInfluences&&v.uniform1fv(y.morphTargetInfluences,f),s=!0}g=i.index;var _,b=i.attributes.position;!0===n.wireframe&&(g=$.getWireframeAttribute(i)),null!==g?(_=Q).setIndex(g):_=J,s&&(!function(t,e,i,n){var r;if(i instanceof tt.InstancedBufferGeometry&&null===(r=z.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===n&&(n=0);q.initAttributes();var o=i.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var l in a){var c=a[l];if(c>=0){var u=o[l];if(void 0!==u){var h=u.itemSize,d=$.getAttributeBuffer(u);if(u instanceof tt.InterleavedBufferAttribute){var p=u.data,f=p.stride,m=u.offset;p instanceof tt.InstancedInterleavedBuffer?(q.enableAttributeAndDivisor(c,p.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=p.meshPerAttribute*p.count)):q.enableAttribute(c),v.bindBuffer(v.ARRAY_BUFFER,d),v.vertexAttribPointer(c,h,v.FLOAT,!1,f*p.array.BYTES_PER_ELEMENT,(n*f+m)*p.array.BYTES_PER_ELEMENT)}else u instanceof tt.InstancedBufferAttribute?(q.enableAttributeAndDivisor(c,u.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):q.enableAttribute(c),v.bindBuffer(v.ARRAY_BUFFER,d),v.vertexAttribPointer(c,h,v.FLOAT,!1,0,n*h*4)}else if(void 0!==s){var g=s[l];if(void 0!==g)switch(g.length){case 2:v.vertexAttrib2fv(c,g);break;case 3:v.vertexAttrib3fv(c,g);break;case 4:v.vertexAttrib4fv(c,g);break;default:v.vertexAttrib1fv(c,g)}}}}q.disableUnusedAttributes()}(n,a,i),null!==g&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,$.getAttributeBuffer(g)));var w=1/0;null!==g?w=g.count:void 0!==b&&(w=b.count);var x=i.drawRange.start,S=i.drawRange.count,k=null!==o?o.start:0,T=null!==o?o.count:1/0,C=Math.max(0,x,k),E=Math.min(0+w,x+S,k+T)-1,A=Math.max(0,E-C+1);if(r instanceof tt.Mesh)if(!0===n.wireframe)q.setLineWidth(n.wireframeLinewidth*Z()),_.setMode(v.LINES);else switch(r.drawMode){case tt.TrianglesDrawMode:_.setMode(v.TRIANGLES);break;case tt.TriangleStripDrawMode:_.setMode(v.TRIANGLE_STRIP);break;case tt.TriangleFanDrawMode:_.setMode(v.TRIANGLE_FAN)}else if(r instanceof tt.Line){var L=n.linewidth;void 0===L&&(L=1),q.setLineWidth(L*Z()),r instanceof tt.LineSegments?_.setMode(v.LINES):_.setMode(v.LINE_STRIP)}else r instanceof tt.Points&&_.setMode(v.POINTS);i instanceof tt.InstancedBufferGeometry&&i.maxInstancedCount>0?_.renderInstances(i,C,A):_.render(C,A)},this.render=function(t,e,i,n){if(e instanceof tt.Camera!=!1){var r=t.fog;if(M="",x=-1,S=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromMatrix(j),c.length=0,h=-1,p=-1,m.length=0,g.length=0,function t(e,i){if(!1===e.visible)return;if(e.layers.test(i.layers))if(e instanceof tt.Light)c.push(e);else if(e instanceof tt.Sprite)!1!==e.frustumCulled&&!0!==F.intersectsObject(e)||m.push(e);else if(e instanceof tt.LensFlare)g.push(e);else if(e instanceof tt.ImmediateRenderObject)!0===y.sortObjects&&(U.setFromMatrixPosition(e.matrixWorld),U.applyProjection(j)),gt(e,null,e.material,U.z,null);else if((e instanceof tt.Mesh||e instanceof tt.Line||e instanceof tt.Points)&&(e instanceof tt.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===F.intersectsObject(e))){var n=e.material;if(!0===n.visible){!0===y.sortObjects&&(U.setFromMatrixPosition(e.matrixWorld),U.applyProjection(j));var r=$.update(e);if(n instanceof tt.MultiMaterial)for(var o=r.groups,a=n.materials,s=0,l=o.length;s<l;s++){var u=o[s],h=a[u.materialIndex];!0===h.visible&&gt(e,r,h,U.z,u)}else gt(e,r,n,U.z,null)}}var d=e.children;for(s=0,l=d.length;s<l;s++)t(d[s],i)}(t,e),u.length=h+1,d.length=p+1,!0===y.sortObjects&&(u.sort(ft),d.sort(mt)),function(t,e){var i,n,r,o,a,s,l=0,c=0,u=0,h=e.matrixWorldInverse,d=0,p=0,f=0,m=0,g=0;for(Y.shadowsPointLight=0,i=0,n=t.length;i<n;i++)if(r=t[i],o=r.color,a=r.intensity,s=r.distance,r instanceof tt.AmbientLight)l+=o.r*a,c+=o.g*a,u+=o.b*a;else if(r instanceof tt.DirectionalLight){(v=K.get(r)).color.copy(r.color).multiplyScalar(r.intensity),v.direction.setFromMatrixPosition(r.matrixWorld),U.setFromMatrixPosition(r.target.matrixWorld),v.direction.sub(U),v.direction.transformDirection(h),v.shadow=r.castShadow,r.castShadow&&(v.shadowBias=r.shadow.bias,v.shadowRadius=r.shadow.radius,v.shadowMapSize=r.shadow.mapSize,Y.shadows[g++]=r),Y.directionalShadowMap[d]=r.shadow.map,Y.directionalShadowMatrix[d]=r.shadow.matrix,Y.directional[d++]=v}else if(r instanceof tt.SpotLight){(v=K.get(r)).position.setFromMatrixPosition(r.matrixWorld),v.position.applyMatrix4(h),v.color.copy(o).multiplyScalar(a),v.distance=s,v.direction.setFromMatrixPosition(r.matrixWorld),U.setFromMatrixPosition(r.target.matrixWorld),v.direction.sub(U),v.direction.transformDirection(h),v.angleCos=Math.cos(r.angle),v.exponent=r.exponent,v.decay=0===r.distance?0:r.decay,v.shadow=r.castShadow,r.castShadow&&(v.shadowBias=r.shadow.bias,v.shadowRadius=r.shadow.radius,v.shadowMapSize=r.shadow.mapSize,Y.shadows[g++]=r),Y.spotShadowMap[f]=r.shadow.map,Y.spotShadowMatrix[f]=r.shadow.matrix,Y.spot[f++]=v}else if(r instanceof tt.PointLight){(v=K.get(r)).position.setFromMatrixPosition(r.matrixWorld),v.position.applyMatrix4(h),v.color.copy(r.color).multiplyScalar(r.intensity),v.distance=r.distance,v.decay=0===r.distance?0:r.decay,v.shadow=r.castShadow,r.castShadow&&(v.shadowBias=r.shadow.bias,v.shadowRadius=r.shadow.radius,v.shadowMapSize=r.shadow.mapSize,Y.shadows[g++]=r),Y.pointShadowMap[p]=r.shadow.map,void 0===Y.pointShadowMatrix[p]&&(Y.pointShadowMatrix[p]=new tt.Matrix4),U.setFromMatrixPosition(r.matrixWorld).negate(),Y.pointShadowMatrix[p].identity().setPosition(U),Y.point[p++]=v}else if(r instanceof tt.HemisphereLight){var v;(v=K.get(r)).direction.setFromMatrixPosition(r.matrixWorld),v.direction.transformDirection(h),v.direction.normalize(),v.skyColor.copy(r.color).multiplyScalar(a),v.groundColor.copy(r.groundColor).multiplyScalar(a),Y.hemi[m++]=v}Y.ambient[0]=l,Y.ambient[1]=c,Y.ambient[2]=u,Y.directional.length=d,Y.spot.length=f,Y.point.length=p,Y.hemi.length=m,Y.shadows.length=g,Y.hash=d+","+p+","+f+","+m+","+g}(c,e),rt.render(t,e),H.calls=0,H.vertices=0,H.faces=0,H.points=0,void 0===i&&(i=null),this.setRenderTarget(i),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),t.overrideMaterial){var o=t.overrideMaterial;vt(u,e,r,o),vt(d,e,r,o)}else q.setBlending(tt.NoBlending),vt(u,e,r),vt(d,e,r);if(at.render(t,e),st.render(t,e,C),i){var a=i.texture;a.generateMipmaps&&Tt(i)&&a.minFilter!==tt.NearestFilter&&a.minFilter!==tt.LinearFilter&&function(t){var e=t instanceof tt.WebGLRenderTargetCube?v.TEXTURE_CUBE_MAP:v.TEXTURE_2D,i=G.get(t.texture).__webglTexture;q.bindTexture(e,i),v.generateMipmap(e),q.bindTexture(e,null)}(i)}q.setDepthTest(!0),q.setDepthWrite(!0),q.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){t===tt.CullFaceNone?q.disable(v.CULL_FACE):(e===tt.FrontFaceDirectionCW?v.frontFace(v.CW):v.frontFace(v.CCW),t===tt.CullFaceBack?v.cullFace(v.BACK):t===tt.CullFaceFront?v.cullFace(v.FRONT):v.cullFace(v.FRONT_AND_BACK),q.enable(v.CULL_FACE))},this.setTexture=function(t,e){var i=G.get(t);if(t.version>0&&i.__version!==t.version){var n=t.image;return void 0===n?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t):!1===n.complete?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t):void St(i,t,e)}q.activeTexture(v.TEXTURE0+e),q.bindTexture(v.TEXTURE_2D,i.__webglTexture)},this.setRenderTarget=function(t){b=t,t&&void 0===G.get(t).__webglFramebuffer&&Dt(t);var e,i=t instanceof tt.WebGLRenderTargetCube;if(t){var n=G.get(t);e=i?n.__webglFramebuffer[t.activeCubeFace]:n.__webglFramebuffer,k.copy(t.scissor),T=t.scissorTest,C.copy(t.viewport)}else e=null,k.copy(I).multiplyScalar(O),T=N,C.copy(R).multiplyScalar(O);if(w!==e&&(v.bindFramebuffer(v.FRAMEBUFFER,e),w=e),q.scissor(k),q.setScissorTest(T),q.viewport(C),i){var r=G.get(t.texture);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,0)}},this.readRenderTargetPixels=function(t,e,i,n,r,o){if(t instanceof tt.WebGLRenderTarget!=!1){var a=G.get(t).__webglFramebuffer;if(a){var s=!1;a!==w&&(v.bindFramebuffer(v.FRAMEBUFFER,a),s=!0);try{var l=t.texture;if(l.format!==tt.RGBAFormat&&Ot(l.format)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l.type===tt.UnsignedByteType||Ot(l.type)===v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===tt.FloatType&&z.get("WEBGL_color_buffer_float")||l.type===tt.HalfFloatType&&z.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");v.checkFramebufferStatus(v.FRAMEBUFFER)===v.FRAMEBUFFER_COMPLETE?v.readPixels(e,i,n,r,Ot(l.format),Ot(l.type),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&v.bindFramebuffer(v.FRAMEBUFFER,w)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}},tt.WebGLRenderTarget=function(t,e,i){this.uuid=tt.Math.generateUUID(),this.width=t,this.height=e,this.scissor=new tt.Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new tt.Vector4(0,0,t,e),void 0===(i=i||{}).minFilter&&(i.minFilter=tt.LinearFilter),this.texture=new tt.Texture(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer},tt.WebGLRenderTarget.prototype={constructor:tt.WebGLRenderTarget,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.shareDepthFrom=t.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},tt.EventDispatcher.prototype.apply(tt.WebGLRenderTarget.prototype),tt.WebGLRenderTargetCube=function(t,e,i){tt.WebGLRenderTarget.call(this,t,e,i),this.activeCubeFace=0},tt.WebGLRenderTargetCube.prototype=Object.create(tt.WebGLRenderTarget.prototype),tt.WebGLRenderTargetCube.prototype.constructor=tt.WebGLRenderTargetCube,tt.WebGLBufferRenderer=function(t,e,i){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.calls++,i.vertices+=r,n===t.TRIANGLES&&(i.faces+=r/3)},this.renderInstances=function(r){var o=e.get("ANGLE_instanced_arrays");if(null!==o){var a=r.attributes.position,s=0;a instanceof tt.InterleavedBufferAttribute?(s=a.data.count,o.drawArraysInstancedANGLE(n,0,s,r.maxInstancedCount)):(s=a.count,o.drawArraysInstancedANGLE(n,0,s,r.maxInstancedCount)),i.calls++,i.vertices+=s*r.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=r.maxInstancedCount*s/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},tt.WebGLIndexedBufferRenderer=function(t,e,i){var n,r,o;this.setMode=function(t){n=t},this.setIndex=function(i){i.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(r=t.UNSIGNED_INT,o=4):(r=t.UNSIGNED_SHORT,o=2)},this.render=function(e,a){t.drawElements(n,a,r,e*o),i.calls++,i.vertices+=a,n===t.TRIANGLES&&(i.faces+=a/3)},this.renderInstances=function(a,s,l){var c=e.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(n,l,r,s*o,a.maxInstancedCount),i.calls++,i.vertices+=l*a.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=a.maxInstancedCount*l/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},tt.WebGLExtensions=function(t){var e={};this.get=function(i){if(void 0!==e[i])return e[i];var n;switch(i){case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=t.getExtension("WEBGL_compressed_texture_etc1");break;default:n=t.getExtension(i)}return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=n,n}},tt.WebGLCapabilities=function(t,e,i){function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=n,this.precision=void 0!==i.precision?i.precision:"highp",this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer&&i.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!e.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var r=n(this.precision);r!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",r,"instead."),this.precision=r),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!e.get("EXT_frag_depth"))},tt.WebGLGeometries=function(t,e,i){var n={};function r(t){var a=t.target,s=n[a.id];null!==s.index&&o(s.index),function(t){for(var e in t)o(t[e])}(s.attributes),a.removeEventListener("dispose",r),delete n[a.id];var l=e.get(a);l.wireframe&&o(l.wireframe),e.delete(a);var c=e.get(s);c.wireframe&&o(c.wireframe),e.delete(s),i.memory.geometries--}function o(i){var n=function(t){return t instanceof tt.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(i);void 0!==n&&(t.deleteBuffer(n),function(t){t instanceof tt.InterleavedBufferAttribute?e.delete(t.data):e.delete(t)}(i))}this.get=function(t){var e,o=t.geometry;return void 0!==n[o.id]?n[o.id]:(o.addEventListener("dispose",r),o instanceof tt.BufferGeometry?e=o:o instanceof tt.Geometry&&(void 0===o._bufferGeometry&&(o._bufferGeometry=(new tt.BufferGeometry).setFromObject(t)),e=o._bufferGeometry),n[o.id]=e,i.memory.geometries++,e)}},tt.WebGLLights=function(){var t={};this.get=function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new tt.Vector3,color:new tt.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new tt.Vector2};break;case"SpotLight":i={position:new tt.Vector3,direction:new tt.Vector3,color:new tt.Color,distance:0,angleCos:0,exponent:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new tt.Vector2};break;case"PointLight":i={position:new tt.Vector3,color:new tt.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new tt.Vector2};break;case"HemisphereLight":i={direction:new tt.Vector3,skyColor:new tt.Color,groundColor:new tt.Color}}return t[e.id]=i,i}},tt.WebGLObjects=function(t,e,i){var n=new tt.WebGLGeometries(t,e,i);function r(i,n){var r=i instanceof tt.InterleavedBufferAttribute?i.data:i,o=e.get(r);void 0===o.__webglBuffer?function(e,i,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var r=i.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,i.array,r),e.version=i.version}(o,r,n):o.version!==r.version&&function(e,i,n){t.bindBuffer(n,e.__webglBuffer),!1===i.dynamic||-1===i.updateRange.count?t.bufferSubData(n,0,i.array):0===i.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0);e.version=i.version}(o,r,n)}function o(t,e,i){if(e>i){var n=e;e=i,i=n}var r=t[e];return void 0===r?(t[e]=[i],!0):-1===r.indexOf(i)&&(r.push(i),!0)}this.getAttributeBuffer=function(t){return t instanceof tt.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},this.getWireframeAttribute=function(i){var n=e.get(i);if(void 0!==n.wireframe)return n.wireframe;var a,s=[],l=i.index,c=i.attributes,u=c.position;if(null!==l)for(var h={},d=0,p=(a=l.array).length;d<p;d+=3){var f=a[d+0],m=a[d+1],g=a[d+2];o(h,f,m)&&s.push(f,m),o(h,m,g)&&s.push(m,g),o(h,g,f)&&s.push(g,f)}else for(d=0,p=(a=c.position.array).length/3-1;d<p;d+=3){f=d+0,m=d+1,g=d+2;s.push(f,m,m,g,g,f)}var v=u.count>65535?Uint32Array:Uint16Array,y=new tt.BufferAttribute(new v(s),1);return r(y,t.ELEMENT_ARRAY_BUFFER),n.wireframe=y,y},this.update=function(e){var i=n.get(e);e.geometry instanceof tt.Geometry&&i.updateFromObject(e);var o=i.index,a=i.attributes;for(var s in null!==o&&r(o,t.ELEMENT_ARRAY_BUFFER),a)r(a[s],t.ARRAY_BUFFER);var l=i.morphAttributes;for(var s in l)for(var c=l[s],u=0,h=c.length;u<h;u++)r(c[u],t.ARRAY_BUFFER);return i}},tt.WebGLProgram=function(){var t=0,e=/^([\w\d_]+)\.([\w\d_]+)$/,i=/^([\w\d_]+)\[(\d+)\]\.([\w\d_]+)$/,n=/^([\w\d_]+)\[0\]$/;function r(t){return""!==t}function o(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function a(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,n){for(var r="",o=parseInt(e);o<parseInt(i);o++)r+=n.replace(/\[ i \]/g,"[ "+o+" ]");return r}))}return function(s,l,c,u){var h=s.context,d=c.extensions,p=c.defines,f=c.__webglShader.vertexShader,m=c.__webglShader.fragmentShader,g="SHADOWMAP_TYPE_BASIC";u.shadowMapType===tt.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":u.shadowMapType===tt.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var v="ENVMAP_TYPE_CUBE",y="ENVMAP_MODE_REFLECTION",_="ENVMAP_BLENDING_MULTIPLY";if(u.envMap){switch(c.envMap.mapping){case tt.CubeReflectionMapping:case tt.CubeRefractionMapping:v="ENVMAP_TYPE_CUBE";break;case tt.EquirectangularReflectionMapping:case tt.EquirectangularRefractionMapping:v="ENVMAP_TYPE_EQUIREC";break;case tt.SphericalReflectionMapping:v="ENVMAP_TYPE_SPHERE"}switch(c.envMap.mapping){case tt.CubeRefractionMapping:case tt.EquirectangularRefractionMapping:y="ENVMAP_MODE_REFRACTION"}switch(c.combine){case tt.MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case tt.MixOperation:_="ENVMAP_BLENDING_MIX";break;case tt.AddOperation:_="ENVMAP_BLENDING_ADD"}}var b,w,x=s.gammaFactor>0?s.gammaFactor:1,M=function(t,e,i){return[(t=t||{}).derivatives||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(r).join("\n")}(d,u,s.extensions),S=function(t){var e=[];for(var i in t){var n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}(p),k=h.createProgram();c instanceof tt.RawShaderMaterial?(b="",w=""):(b=["precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+c.__webglShader.name,S,u.supportsVertexTextures?"#define VERTEX_TEXTURES":"",s.gammaInput?"#define GAMMA_INPUT":"",s.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+x,"#define MAX_BONES "+u.maxBones,u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+y:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.displacementMap&&u.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.useVertexTexture?"#define BONE_TEXTURE":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals&&!1===u.flatShading?"#define USE_MORPHNORMALS":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+g:"",u.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&s.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(r).join("\n"),w=[M,"precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+c.__webglShader.name,S,u.alphaTest?"#define ALPHATEST "+u.alphaTest:"",s.gammaInput?"#define GAMMA_INPUT":"",s.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+x,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+v:"",u.envMap?"#define "+y:"",u.envMap?"#define "+_:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+g:"",u.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&s.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",u.envMap&&s.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(r).join("\n")),f=o(f,u),m=o(m,u),c instanceof tt.ShaderMaterial==!1&&(f=a(f),m=a(m));var T=b+f,C=w+m,E=tt.WebGLShader(h,h.VERTEX_SHADER,T),A=tt.WebGLShader(h,h.FRAGMENT_SHADER,C);h.attachShader(k,E),h.attachShader(k,A),void 0!==c.index0AttributeName?h.bindAttribLocation(k,0,c.index0AttributeName):!0===u.morphTargets&&h.bindAttribLocation(k,0,"position"),h.linkProgram(k);var L,D,P=h.getProgramInfoLog(k),O=h.getShaderInfoLog(E),I=h.getShaderInfoLog(A),N=!0,R=!0;return!1===h.getProgramParameter(k,h.LINK_STATUS)?(N=!1,console.error("THREE.WebGLProgram: shader error: ",h.getError(),"gl.VALIDATE_STATUS",h.getProgramParameter(k,h.VALIDATE_STATUS),"gl.getProgramInfoLog",P,O,I)):""!==P?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):""!==O&&""!==I||(R=!1),R&&(this.diagnostics={runnable:N,material:c,programLog:P,vertexShader:{log:O,prefix:b},fragmentShader:{log:I,prefix:w}}),h.deleteShader(E),h.deleteShader(A),this.getUniforms=function(){return void 0===L&&(L=function(t,r,o){for(var a={},s=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),l=0;l<s;l++){var c=t.getActiveUniform(r,l).name,u=t.getUniformLocation(r,c),h=e.exec(c);if(h){var d=h[1],p=h[2],f=a[d];f||(f=a[d]={}),f[p]=u}else if(h=i.exec(c)){var m=h[1],g=h[2],v=h[3],y=a[m];y||(y=a[m]=[]);var _=y[g];_||(_=y[g]={}),_[v]=u}else{if(h=n.exec(c))a[m=h[1]]=u;else a[c]=u}}return a}(h,k)),L},this.getAttributes=function(){return void 0===D&&(D=function(t,e,i){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<r;o++){var a=t.getActiveAttrib(e,o).name;n[a]=t.getAttribLocation(e,a)}return n}(h,k)),D},this.destroy=function(){h.deleteProgram(k),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=t++,this.code=l,this.usedTimes=1,this.program=k,this.vertexShader=E,this.fragmentShader=A,this}}(),tt.WebGLPrograms=function(t,e){var i=[],n={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"standard",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},r=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","pointLightShadows","shadowMapType","alphaTest","doubleSided","flipSided"];this.getParameters=function(i,r,o,a){var s=n[i.type],l=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var i=e.maxVertexUniforms,n=Math.floor((i-20)/4);return void 0!==t&&t instanceof tt.SkinnedMesh&&(n=Math.min(t.skeleton.bones.length,n))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)"),n}(a),c=t.getPrecision();return null!==i.precision&&(c=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",c,"instead."),{shaderID:s,precision:c,supportsVertexTextures:e.vertexTextures,map:!!i.map,envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,combine:i.combine,vertexColors:i.vertexColors,fog:o,useFog:i.fog,fogExp:o instanceof tt.FogExp2,flatShading:i.shading===tt.FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:l,useVertexTexture:e.floatVertexTextures&&a&&a.skeleton&&a.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numHemiLights:r.hemi.length,pointLightShadows:r.shadowsPointLight,shadowMapEnabled:t.shadowMap.enabled&&a.receiveShadow&&r.shadows.length>0,shadowMapType:t.shadowMap.type,alphaTest:i.alphaTest,doubleSided:i.side===tt.DoubleSide,flipSided:i.side===tt.BackSide}},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var o=0;o<r.length;o++){var a=r[o];i.push(a),i.push(e[a])}return i.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var l=i[a];if(l.code===r){++(o=l).usedTimes;break}}return void 0===o&&(o=new tt.WebGLProgram(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i},tt.WebGLProperties=function(){var t={};this.get=function(e){var i=e.uuid,n=t[i];return void 0===n&&(n={},t[i]=n),n},this.delete=function(e){delete t[e.uuid]},this.clear=function(){t={}}},tt.WebGLShader=function(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}(i)),n},tt.WebGLShadowMap=function(t,e,i){for(var n=t.context,r=t.state,o=new tt.Frustum,a=new tt.Matrix4,s=new tt.Vector3,l=new tt.Vector3,c=[],u=new Array(4),h=new Array(4),d=[new tt.Vector3(1,0,0),new tt.Vector3(-1,0,0),new tt.Vector3(0,0,1),new tt.Vector3(0,0,-1),new tt.Vector3(0,1,0),new tt.Vector3(0,-1,0)],p=[new tt.Vector3(0,1,0),new tt.Vector3(0,1,0),new tt.Vector3(0,1,0),new tt.Vector3(0,1,0),new tt.Vector3(0,0,1),new tt.Vector3(0,0,-1)],f=[new tt.Vector4,new tt.Vector4,new tt.Vector4,new tt.Vector4,new tt.Vector4,new tt.Vector4],m=tt.ShaderLib.depthRGBA,g=tt.UniformsUtils.clone(m.uniforms),v=tt.ShaderLib.distanceRGBA,y=tt.UniformsUtils.clone(v.uniforms),_=0;4!==_;++_){var b=0!=(1&_),w=0!=(2&_),x=new tt.ShaderMaterial({uniforms:g,vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,morphTargets:b,skinning:w});x._shadowPass=!0,u[_]=x;var M=new tt.ShaderMaterial({uniforms:y,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:b,skinning:w});M._shadowPass=!0,h[_]=M}var S=this;function k(t,e,i,n){var r=t.geometry,o=null,a=u,s=t.customDepthMaterial;if(i&&(a=h,s=t.customDistanceMaterial),s)o=s;else{var l=0;void 0!==r.morphTargets&&r.morphTargets.length>0&&e.morphTargets&&(l|=1),t instanceof tt.SkinnedMesh&&e.skinning&&(l|=2),o=a[l]}return o.visible=e.visible,o.wireframe=e.wireframe,o.wireframeLinewidth=e.wireframeLinewidth,i&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(n),o}function T(t,e,i){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t instanceof tt.Mesh||t instanceof tt.Line||t instanceof tt.Points))if(t.castShadow&&(!1===t.frustumCulled||!0===o.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),c.push(t));for(var n=t.children,r=0,a=n.length;r<a;r++)T(n[r],e,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tt.PCFShadowMap,this.cullFace=tt.CullFaceFront,this.render=function(u,h){var m,g;if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)){r.clearColor(1,1,1,1),r.disable(n.BLEND),r.enable(n.CULL_FACE),n.frontFace(n.CCW),n.cullFace(S.cullFace===tt.CullFaceFront?n.FRONT:n.BACK),r.setDepthTest(!0),r.setScissorTest(!1);for(var v=e.shadows,y=0,_=v.length;y<_;y++){var b=v[y],w=b.shadow,x=w.camera,M=w.mapSize;if(b instanceof tt.PointLight){m=6,g=!0;var C=M.x/4,E=M.y/2;f[0].set(2*C,E,C,E),f[1].set(0,E,C,E),f[2].set(3*C,E,C,E),f[3].set(C,E,C,E),f[4].set(3*C,0,C,E),f[5].set(C,0,C,E)}else m=1,g=!1;if(null===w.map){var A={minFilter:tt.LinearFilter,magFilter:tt.LinearFilter,format:tt.RGBAFormat};w.map=new tt.WebGLRenderTarget(M.x,M.y,A),b instanceof tt.SpotLight&&(x.aspect=M.x/M.y),x.updateProjectionMatrix()}var L=w.map,D=w.matrix;l.setFromMatrixPosition(b.matrixWorld),x.position.copy(l),t.setRenderTarget(L),t.clear();for(var P=0;P<m;P++){if(g){s.copy(x.position),s.add(d[P]),x.up.copy(p[P]),x.lookAt(s);var O=f[P];r.viewport(O)}else s.setFromMatrixPosition(b.target.matrixWorld),x.lookAt(s);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),D.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),D.multiply(x.projectionMatrix),D.multiply(x.matrixWorldInverse),a.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),o.setFromMatrix(a),c.length=0,T(u,h,x);for(var I=0,N=c.length;I<N;I++){var R=c[I],F=i.update(R),j=R.material;if(j instanceof tt.MultiMaterial)for(var U=F.groups,Y=j.materials,V=0,H=U.length;V<H;V++){var B=U[V],z=Y[B.materialIndex];if(!0===z.visible){var W=k(R,z,g,l);t.renderBufferDirect(x,null,F,W,R,B)}}else{W=k(R,j,g,l);t.renderBufferDirect(x,null,F,W,R,null)}}}t.resetGLState()}var q=t.getClearColor(),G=t.getClearAlpha();t.setClearColor(q,G),r.enable(n.BLEND),S.cullFace===tt.CullFaceFront&&n.cullFace(n.BACK),t.resetGLState(),S.needsUpdate=!1}}},tt.WebGLState=function(t,e,i){var n=this,r=new tt.Vector4,o=new Uint8Array(16),a=new Uint8Array(16),s=new Uint8Array(16),l={},c=null,u=null,h=null,d=null,p=null,f=null,m=null,g=null,v=null,y=null,_=null,b=null,w=null,x=null,M=null,S=null,k=null,T=null,C=null,E=null,A=null,L=null,D=null,P=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),O=void 0,I={},N=new tt.Vector4,R=null,F=null,j=new tt.Vector4,U=new tt.Vector4;this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.frontFace(t.CCW),t.cullFace(t.BACK),this.enable(t.CULL_FACE),this.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var t=0,e=o.length;t<e;t++)o[t]=0},this.enableAttribute=function(i){(o[i]=1,0===a[i]&&(t.enableVertexAttribArray(i),a[i]=1),0!==s[i])&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i,0),s[i]=0)},this.enableAttributeAndDivisor=function(e,i,n){o[e]=1,0===a[e]&&(t.enableVertexAttribArray(e),a[e]=1),s[e]!==i&&(n.vertexAttribDivisorANGLE(e,i),s[e]=i)},this.disableUnusedAttributes=function(){for(var e=0,i=a.length;e<i;e++)a[e]!==o[e]&&(t.disableVertexAttribArray(e),a[e]=0)},this.enable=function(e){!0!==l[e]&&(t.enable(e),l[e]=!0)},this.disable=function(e){!1!==l[e]&&(t.disable(e),l[e]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)c.push(i[n]);return c},this.setBlending=function(e,n,r,o,a,s,l){e===tt.NoBlending?this.disable(t.BLEND):this.enable(t.BLEND),e!==u&&(e===tt.AdditiveBlending?(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===tt.SubtractiveBlending?(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===tt.MultiplyBlending?(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),u=e),e===tt.CustomBlending?(a=a||n,s=s||r,l=l||o,n===h&&a===f||(t.blendEquationSeparate(i(n),i(a)),h=n,f=a),r===d&&o===p&&s===m&&l===g||(t.blendFuncSeparate(i(r),i(o),i(s),i(l)),d=r,p=o,m=s,g=l)):(h=null,d=null,p=null,f=null,m=null,g=null)},this.setDepthFunc=function(e){if(v!==e){if(e)switch(e){case tt.NeverDepth:t.depthFunc(t.NEVER);break;case tt.AlwaysDepth:t.depthFunc(t.ALWAYS);break;case tt.LessDepth:t.depthFunc(t.LESS);break;case tt.LessEqualDepth:t.depthFunc(t.LEQUAL);break;case tt.EqualDepth:t.depthFunc(t.EQUAL);break;case tt.GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case tt.GreaterDepth:t.depthFunc(t.GREATER);break;case tt.NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);v=e}},this.setDepthTest=function(e){e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)},this.setDepthWrite=function(e){y!==e&&(t.depthMask(e),y=e)},this.setColorWrite=function(e){_!==e&&(t.colorMask(e,e,e,e),_=e)},this.setStencilFunc=function(e,i,n){w===e&&x===i&&M===n||(t.stencilFunc(e,i,n),w=e,x=i,M=n)},this.setStencilOp=function(e,i,n){S===e&&k===i&&T===n||(t.stencilOp(e,i,n),S=e,k=i,T=n)},this.setStencilTest=function(e){e?this.enable(t.STENCIL_TEST):this.disable(t.STENCIL_TEST)},this.setStencilWrite=function(e){b!==e&&(t.stencilMask(e),b=e)},this.setFlipSided=function(e){C!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),C=e)},this.setLineWidth=function(e){e!==E&&(t.lineWidth(e),E=e)},this.setPolygonOffset=function(e,i,n){e?this.enable(t.POLYGON_OFFSET_FILL):this.disable(t.POLYGON_OFFSET_FILL),!e||A===i&&L===n||(t.polygonOffset(i,n),A=i,L=n)},this.getScissorTest=function(){return D},this.setScissorTest=function(e){D=e,e?this.enable(t.SCISSOR_TEST):this.disable(t.SCISSOR_TEST)},this.activeTexture=function(e){void 0===e&&(e=t.TEXTURE0+P-1),O!==e&&(t.activeTexture(e),O=e)},this.bindTexture=function(e,i){void 0===O&&n.activeTexture();var r=I[O];void 0===r&&(r={type:void 0,texture:void 0},I[O]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i),r.type=e,r.texture=i)},this.compressedTexImage2D=function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.texImage2D=function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.clearColor=function(e,i,n,o){r.set(e,i,n,o),!1===N.equals(r)&&(t.clearColor(e,i,n,o),N.copy(r))},this.clearDepth=function(e){R!==e&&(t.clearDepth(e),R=e)},this.clearStencil=function(e){F!==e&&(t.clearStencil(e),F=e)},this.scissor=function(e){!1===j.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),j.copy(e))},this.viewport=function(e){!1===U.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),U.copy(e))},this.reset=function(){for(var e=0;e<a.length;e++)1===a[e]&&(t.disableVertexAttribArray(e),a[e]=0);l={},c=null,u=null,_=null,y=null,b=null,C=null}},tt.LensFlarePlugin=function(t,e){var i,n,r,o,a,s,l,c,u=t.context,h=t.state;function d(){var e,d=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),p=new Uint16Array([0,1,2,0,2,3]);i=u.createBuffer(),n=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i),u.bufferData(u.ARRAY_BUFFER,d,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,n),u.bufferData(u.ELEMENT_ARRAY_BUFFER,p,u.STATIC_DRAW),l=u.createTexture(),c=u.createTexture(),h.bindTexture(u.TEXTURE_2D,l),u.texImage2D(u.TEXTURE_2D,0,u.RGB,16,16,0,u.RGB,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),h.bindTexture(u.TEXTURE_2D,c),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,16,16,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),e=(s=u.getParameter(u.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0)?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},r=function(e){var i=u.createProgram(),n=u.createShader(u.FRAGMENT_SHADER),r=u.createShader(u.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return u.shaderSource(n,o+e.fragmentShader),u.shaderSource(r,o+e.vertexShader),u.compileShader(n),u.compileShader(r),u.attachShader(i,n),u.attachShader(i,r),u.linkProgram(i),i}(e),o={vertex:u.getAttribLocation(r,"position"),uv:u.getAttribLocation(r,"uv")},a={renderType:u.getUniformLocation(r,"renderType"),map:u.getUniformLocation(r,"map"),occlusionMap:u.getUniformLocation(r,"occlusionMap"),opacity:u.getUniformLocation(r,"opacity"),color:u.getUniformLocation(r,"color"),scale:u.getUniformLocation(r,"scale"),rotation:u.getUniformLocation(r,"rotation"),screenPosition:u.getUniformLocation(r,"screenPosition")}}this.render=function(p,f,m){if(0!==e.length){var g=new tt.Vector3,v=m.w/m.z,y=.5*m.z,_=.5*m.w,b=16/m.w,w=new tt.Vector2(b*v,b),x=new tt.Vector3(1,1,0),M=new tt.Vector2(1,1);void 0===r&&d(),u.useProgram(r),h.initAttributes(),h.enableAttribute(o.vertex),h.enableAttribute(o.uv),h.disableUnusedAttributes(),u.uniform1i(a.occlusionMap,0),u.uniform1i(a.map,1),u.bindBuffer(u.ARRAY_BUFFER,i),u.vertexAttribPointer(o.vertex,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(o.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,n),h.disable(u.CULL_FACE),h.setDepthWrite(!1);for(var S=0,k=e.length;S<k;S++){b=16/m.w,w.set(b*v,b);var T=e[S];if(g.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),g.applyMatrix4(f.matrixWorldInverse),g.applyProjection(f.projectionMatrix),x.copy(g),M.x=x.x*y+y,M.y=x.y*_+_,s||M.x>0&&M.x<m.z&&M.y>0&&M.y<m.w){h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,null),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,l),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGB,m.x+M.x-8,m.y+M.y-8,16,16,0),u.uniform1i(a.renderType,0),u.uniform2f(a.scale,w.x,w.y),u.uniform3f(a.screenPosition,x.x,x.y,x.z),h.disable(u.BLEND),h.enable(u.DEPTH_TEST),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,c),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,m.x+M.x-8,m.y+M.y-8,16,16,0),u.uniform1i(a.renderType,1),h.disable(u.DEPTH_TEST),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,l),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),T.positionScreen.copy(x),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),u.uniform1i(a.renderType,2),h.enable(u.BLEND);for(var C=0,E=T.lensFlares.length;C<E;C++){var A=T.lensFlares[C];A.opacity>.001&&A.scale>.001&&(x.x=A.x,x.y=A.y,x.z=A.z,b=A.size*A.scale/m.w,w.x=b*v,w.y=b,u.uniform3f(a.screenPosition,x.x,x.y,x.z),u.uniform2f(a.scale,w.x,w.y),u.uniform1f(a.rotation,A.rotation),u.uniform1f(a.opacity,A.opacity),u.uniform3f(a.color,A.color.r,A.color.g,A.color.b),h.setBlending(A.blending,A.blendEquation,A.blendSrc,A.blendDst),t.setTexture(A.texture,1),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0))}}}h.enable(u.CULL_FACE),h.enable(u.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}},tt.SpritePlugin=function(t,e){var i,n,r,o,a,s,l=t.context,c=t.state,u=new tt.Vector3,h=new tt.Quaternion,d=new tt.Vector3;function p(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),c=new Uint16Array([0,1,2,0,2,3]);i=l.createBuffer(),n=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,i),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,n),l.bufferData(l.ELEMENT_ARRAY_BUFFER,c,l.STATIC_DRAW),r=function(){var e=l.createProgram(),i=l.createShader(l.VERTEX_SHADER),n=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),l.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),l.compileShader(i),l.compileShader(n),l.attachShader(e,i),l.attachShader(e,n),l.linkProgram(e),e}(),o={position:l.getAttribLocation(r,"position"),uv:l.getAttribLocation(r,"uv")},a={uvOffset:l.getUniformLocation(r,"uvOffset"),uvScale:l.getUniformLocation(r,"uvScale"),rotation:l.getUniformLocation(r,"rotation"),scale:l.getUniformLocation(r,"scale"),color:l.getUniformLocation(r,"color"),map:l.getUniformLocation(r,"map"),opacity:l.getUniformLocation(r,"opacity"),modelViewMatrix:l.getUniformLocation(r,"modelViewMatrix"),projectionMatrix:l.getUniformLocation(r,"projectionMatrix"),fogType:l.getUniformLocation(r,"fogType"),fogDensity:l.getUniformLocation(r,"fogDensity"),fogNear:l.getUniformLocation(r,"fogNear"),fogFar:l.getUniformLocation(r,"fogFar"),fogColor:l.getUniformLocation(r,"fogColor"),alphaTest:l.getUniformLocation(r,"alphaTest")};var u=document.createElement("canvas");u.width=8,u.height=8;var h=u.getContext("2d");h.fillStyle="white",h.fillRect(0,0,8,8),(s=new tt.Texture(u)).needsUpdate=!0}function f(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(m,g){if(0!==e.length){void 0===r&&p(),l.useProgram(r),c.initAttributes(),c.enableAttribute(o.position),c.enableAttribute(o.uv),c.disableUnusedAttributes(),c.disable(l.CULL_FACE),c.enable(l.BLEND),l.bindBuffer(l.ARRAY_BUFFER,i),l.vertexAttribPointer(o.position,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(o.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,n),l.uniformMatrix4fv(a.projectionMatrix,!1,g.projectionMatrix.elements),c.activeTexture(l.TEXTURE0),l.uniform1i(a.map,0);var v=0,y=0,_=m.fog;_?(l.uniform3f(a.fogColor,_.color.r,_.color.g,_.color.b),_ instanceof tt.Fog?(l.uniform1f(a.fogNear,_.near),l.uniform1f(a.fogFar,_.far),l.uniform1i(a.fogType,1),v=1,y=1):_ instanceof tt.FogExp2&&(l.uniform1f(a.fogDensity,_.density),l.uniform1i(a.fogType,2),v=2,y=2)):(l.uniform1i(a.fogType,0),v=0,y=0);for(var b=0,w=e.length;b<w;b++){(M=e[b]).modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,M.matrixWorld),M.z=-M.modelViewMatrix.elements[14]}e.sort(f);var x=[];for(b=0,w=e.length;b<w;b++){var M,S=(M=e[b]).material;l.uniform1f(a.alphaTest,S.alphaTest),l.uniformMatrix4fv(a.modelViewMatrix,!1,M.modelViewMatrix.elements),M.matrixWorld.decompose(u,h,d),x[0]=d.x,x[1]=d.y;var k=0;m.fog&&S.fog&&(k=y),v!==k&&(l.uniform1i(a.fogType,k),v=k),null!==S.map?(l.uniform2f(a.uvOffset,S.map.offset.x,S.map.offset.y),l.uniform2f(a.uvScale,S.map.repeat.x,S.map.repeat.y)):(l.uniform2f(a.uvOffset,0,0),l.uniform2f(a.uvScale,1,1)),l.uniform1f(a.opacity,S.opacity),l.uniform3f(a.color,S.color.r,S.color.g,S.color.b),l.uniform1f(a.rotation,S.rotation),l.uniform2fv(a.scale,x),c.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),c.setDepthTest(S.depthTest),c.setDepthWrite(S.depthWrite),S.map&&S.map.image&&S.map.image.width?t.setTexture(S.map,0):t.setTexture(s,0),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)}c.enable(l.CULL_FACE),t.resetGLState()}}},Object.defineProperties(tt.Box2.prototype,{empty:{value:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)}}}),Object.defineProperties(tt.Box3.prototype,{empty:{value:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)}},isIntersectionSphere:{value:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}}),Object.defineProperties(tt.Matrix3.prototype,{multiplyVector3:{value:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)}},multiplyVector3Array:{value:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}}}),Object.defineProperties(tt.Matrix4.prototype,{extractPosition:{value:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)}},setRotationFromQuaternion:{value:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)}},multiplyVector3:{value:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)}},multiplyVector4:{value:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)}},multiplyVector3Array:{value:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}},rotateAxis:{value:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)}},crossVector:{value:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)}},translate:{value:function(t){console.error("THREE.Matrix4: .translate() has been removed.")}},rotateX:{value:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")}},rotateY:{value:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")}},rotateZ:{value:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")}},rotateByAxis:{value:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}}),Object.defineProperties(tt.Plane.prototype,{isIntersectionLine:{value:function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)}}}),Object.defineProperties(tt.Quaternion.prototype,{multiplyVector3:{value:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)}}}),Object.defineProperties(tt.Ray.prototype,{isIntersectionBox:{value:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)}},isIntersectionPlane:{value:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)}},isIntersectionSphere:{value:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}}),Object.defineProperties(tt.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")}},setEulerFromQuaternion:{value:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")}},getPositionFromMatrix:{value:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)}},getScaleFromMatrix:{value:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)}},getColumnFromMatrix:{value:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)}}}),tt.Face4=function(t,e,i,n,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new tt.Face3(t,e,i,r,o,a)},Object.defineProperties(tt.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},getChildByName:{value:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)}},renderDepth:{set:function(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")}},translate:{value:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(tt,{PointCloud:{value:function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new tt.Points(t,e)}},ParticleSystem:{value:function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new tt.Points(t,e)}}}),Object.defineProperties(tt.Light.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(tt.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.defineProperties(tt.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}},addIndex:{value:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)}},addDrawCall:{value:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)}},clearDrawCalls:{value:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()}},computeTangents:{value:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")}},computeOffsets:{value:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}}),Object.defineProperties(tt.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new tt.Color}}}),Object.defineProperties(tt,{PointCloudMaterial:{value:function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new tt.PointsMaterial(t)}},ParticleBasicMaterial:{value:function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new tt.PointsMaterial(t)}},ParticleSystemMaterial:{value:function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new tt.PointsMaterial(t)}}}),Object.defineProperties(tt.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(t){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(tt.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.defineProperties(tt.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")}},supportsHalfFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")}},supportsStandardDerivatives:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")}},supportsCompressedTextureS3TC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")}},supportsCompressedTexturePVRTC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")}},supportsBlendMinMax:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures}},supportsInstancedArrays:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")}},enableScissorTest:{value:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)}},initMaterial:{value:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")}},addPrePlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")}},addPostPlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")}},updateShadowMap:{value:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(tt.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),tt.GeometryUtils={merge:function(t,e,i){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e instanceof tt.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},tt.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new tt.TextureLoader;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,i,void 0,n);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new tt.CubeTextureLoader;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,i,void 0,n);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},tt.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},tt.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},tt.MeshFaceMaterial=tt.MultiMaterial,tt.CurveUtils={tangentQuadraticBezier:function(t,e,i,n){return 2*(1-t)*(i-e)+2*t*(n-i)},tangentCubicBezier:function(t,e,i,n,r){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*r},tangentSpline:function(t,e,i,n,r){return 6*t*t-6*t+(3*t*t-4*t+1)+(-6*t*t+6*t)+(3*t*t-2*t)},interpolate:function(t,e,i,n,r){var o=.5*(i-t),a=.5*(n-e),s=r*r;return(2*e-2*i+o+a)*(r*s)+(-3*e+3*i-2*o-a)*s+o*r+e}},tt.SceneUtils={createMultiMaterialObject:function(t,e){for(var i=new tt.Group,n=0,r=e.length;n<r;n++)i.add(new tt.Mesh(t,e[n]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var n=new tt.Matrix4;n.getInverse(i.matrixWorld),t.applyMatrix(n),e.remove(t),i.add(t)}},tt.ShapeUtils={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},triangulate:function(){function t(t,e,i,n,r,o){var a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x;if(s=t[o[e]].x,l=t[o[e]].y,c=t[o[i]].x,u=t[o[i]].y,h=t[o[n]].x,d=t[o[n]].y,Number.EPSILON>(c-s)*(d-l)-(u-l)*(h-s))return!1;for(m=h-c,g=d-u,v=s-h,y=l-d,_=c-s,b=u-l,a=0;a<r;a++)if(p=t[o[a]].x,f=t[o[a]].y,!(p===s&&f===l||p===c&&f===u||p===h&&f===d)&&(w=_*(f-l)-b*(p-s),x=v*(f-d)-y*(p-h),m*(f-u)-g*(p-c)>=-Number.EPSILON&&x>=-Number.EPSILON&&w>=-Number.EPSILON))return!1;return!0}return function(e,i){var n=e.length;if(n<3)return null;var r,o,a,s=[],l=[],c=[];if(tt.ShapeUtils.area(e)>0)for(o=0;o<n;o++)l[o]=o;else for(o=0;o<n;o++)l[o]=n-1-o;var u=n,h=2*u;for(o=u-1;u>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),i?c:s;if(u<=(r=o)&&(r=0),u<=(o=r+1)&&(o=0),u<=(a=o+1)&&(a=0),t(e,r,o,a,u,l)){var d,p,f,m,g;for(d=l[r],p=l[o],f=l[a],s.push([e[d],e[p],e[f]]),c.push([l[r],l[o],l[a]]),m=o,g=o+1;g<u;m++,g++)l[m]=l[g];h=2*--u}}return i?c:s}}(),triangulateShape:function(t,e){function i(t,e,i){return t.x!==e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function n(t,e,n,r,o){var a=e.x-t.x,s=e.y-t.y,l=r.x-n.x,c=r.y-n.y,u=t.x-n.x,h=t.y-n.y,d=s*l-a*c,p=s*u-a*h;if(Math.abs(d)>Number.EPSILON){var f;if(d>0){if(p<0||p>d)return[];if((f=c*u-l*h)<0||f>d)return[]}else{if(p>0||p<d)return[];if((f=c*u-l*h)>0||f<d)return[]}if(0===f)return!o||0!==p&&p!==d?[t]:[];if(f===d)return!o||0!==p&&p!==d?[e]:[];if(0===p)return[n];if(p===d)return[r];var m=f/d;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==p||c*u!=l*h)return[];var g,v,y,_,b,w,x,M,S=0===a&&0===s,k=0===l&&0===c;return S&&k?t.x!==n.x||t.y!==n.y?[]:[t]:S?i(n,r,t)?[t]:[]:k?i(t,e,n)?[n]:[]:(0!==a?(t.x<e.x?(g=t,y=t.x,v=e,_=e.x):(g=e,y=e.x,v=t,_=t.x),n.x<r.x?(b=n,x=n.x,w=r,M=r.x):(b=r,x=r.x,w=n,M=n.x)):(t.y<e.y?(g=t,y=t.y,v=e,_=e.y):(g=e,y=e.y,v=t,_=t.y),n.y<r.y?(b=n,x=n.y,w=r,M=r.y):(b=r,x=r.y,w=n,M=n.y)),y<=x?_<x?[]:_===x?o?[]:[b]:_<=M?[b,v]:[b,w]:y>M?[]:y===M?o?[]:[g]:_<=M?[g,v]:[g,w])}function r(t,e,i,n){var r=e.x-t.x,o=e.y-t.y,a=i.x-t.x,s=i.y-t.y,l=n.x-t.x,c=n.y-t.y,u=r*s-o*a,h=r*c-o*l;if(Math.abs(u)>Number.EPSILON){var d=l*s-c*a;return u>0?h>=0&&d>=0:h>=0||d>=0}return h>0}for(var o,a,s,l,c,u,h={},d=t.concat(),p=0,f=e.length;p<f;p++)Array.prototype.push.apply(d,e[p]);for(o=0,a=d.length;o<a;o++)void 0!==h[c=d[o].x+":"+d[o].y]&&console.warn("THREE.Shape: Duplicate point",c),h[c]=o;var m=function(t,e){var i,o=t.concat();function a(t,e){var n=o.length-1,a=t-1;a<0&&(a=n);var s=t+1;s>n&&(s=0);var l=r(o[t],o[a],o[s],i[e]);if(!l)return!1;var c=i.length-1,u=e-1;u<0&&(u=c);var h=e+1;return h>c&&(h=0),!!(l=r(i[e],i[u],i[h],o[t]))}function s(t,e){var i,r;for(i=0;i<o.length;i++)if(r=i+1,r%=o.length,n(t,e,o[i],o[r],!0).length>0)return!0;return!1}var l=[];function c(t,i){var r,o,a,s;for(r=0;r<l.length;r++)for(o=e[l[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,n(t,i,o[a],o[s],!0).length>0)return!0;return!1}for(var u,h,d,p,f,m,g,v,y,_,b=[],w=0,x=e.length;w<x;w++)l.push(w);for(var M=0,S=2*l.length;l.length>0;){if(--S<0){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(h=M;h<o.length;h++){d=o[h],u=-1;for(w=0;w<l.length;w++)if(f=l[w],void 0===b[m=d.x+":"+d.y+":"+f]){i=e[f];for(var k=0;k<i.length;k++)if(p=i[k],a(h,k)&&!s(d,p)&&!c(d,p)){u=k,l.splice(w,1),g=o.slice(0,h+1),v=o.slice(h),y=i.slice(u),_=i.slice(0,u+1),o=g.concat(y).concat(_).concat(v),M=h;break}if(u>=0)break;b[m]=!0}if(u>=0)break}}return o}(t,e),g=tt.ShapeUtils.triangulate(m,!1);for(o=0,a=g.length;o<a;o++)for(l=g[o],s=0;s<3;s++)void 0!==(u=h[c=l[s].x+":"+l[s].y])&&(l[s]=u);return g.concat()},isClockWise:function(t){return tt.ShapeUtils.area(t)<0},b2:function(t,e,i,n){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,n)},b3:function(t,e,i,n,r){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,r)}},tt.Curve=function(){},tt.Curve.prototype={constructor:tt.Curve,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);var e,i=[];for(e=0;e<=t;e++)i.push(this.getPoint(e/t));return i},getSpacedPoints:function(t){t||(t=5);var e,i=[];for(e=0;e<=t;e++)i.push(this.getPointAt(e/t));return i},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),o=0;for(n.push(0),i=1;i<=t;i++)o+=(e=this.getPoint(i/t)).distanceTo(r),n.push(o),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,o=n.length;i=e||t*n[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=n[r=Math.floor(s+(l-s)/2)]-i)<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(n[r=l]===i)return r/(o-1);var c=n[r];return(r+(i-c)/(n[r+1]-c))/(o-1)},getTangent:function(t){var e=t-1e-4,i=t+1e-4;e<0&&(e=0),i>1&&(i=1);var n=this.getPoint(e);return this.getPoint(i).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)}},tt.Curve.create=function(t,e){return t.prototype=Object.create(tt.Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},tt.CurvePath=function(){this.curves=[],this.autoClose=!1},tt.CurvePath.prototype=Object.create(tt.Curve.prototype),tt.CurvePath.prototype.constructor=tt.CurvePath,tt.CurvePath.prototype.add=function(t){this.curves.push(t)},tt.CurvePath.prototype.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new tt.LineCurve(e,t))},tt.CurvePath.prototype.getPoint=function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=e){var r=i[n]-e,o=this.curves[n],a=1-r/o.getLength();return o.getPointAt(a)}n++}return null},tt.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},tt.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},tt.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t);return this.createGeometry(e)},tt.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},tt.CurvePath.prototype.createGeometry=function(t){for(var e=new tt.Geometry,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new tt.Vector3(r.x,r.y,r.z||0))}return e},tt.Font=function(t){this.data=t},tt.Font.prototype={constructor:tt.Font,generateShapes:function(t,e,i){function n(t,e,n){var o=r.glyphs[t]||r.glyphs["?"];if(o){var a,s,l,c,u,h,d,p,f,m,g,v=new tt.Path,y=[],_=tt.ShapeUtils.b2,b=tt.ShapeUtils.b3;if(o.o)for(var w=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),x=0,M=w.length;x<M;){switch(w[x++]){case"m":a=w[x++]*e+n,s=w[x++]*e,v.moveTo(a,s);break;case"l":a=w[x++]*e+n,s=w[x++]*e,v.lineTo(a,s);break;case"q":if(l=w[x++]*e+n,c=w[x++]*e,d=w[x++]*e+n,p=w[x++]*e,v.quadraticCurveTo(d,p,l,c),g=y[y.length-1]){u=g.x,h=g.y;for(var S=1;S<=i;S++){_(k=S/i,u,d,l),_(k,h,p,c)}}break;case"b":if(l=w[x++]*e+n,c=w[x++]*e,d=w[x++]*e+n,p=w[x++]*e,f=w[x++]*e+n,m=w[x++]*e,v.bezierCurveTo(d,p,f,m,l,c),g=y[y.length-1]){u=g.x,h=g.y;for(S=1;S<=i;S++){var k;b(k=S/i,u,d,f,l),b(k,h,p,m,c)}}}}return{offset:o.ha*e,path:v}}}void 0===e&&(e=100),void 0===i&&(i=4);for(var r=this.data,o=function(t){for(var i=String(t).split(""),o=e/r.resolution,a=0,s=[],l=0;l<i.length;l++){var c=n(i[l],o,a);a+=c.offset,s.push(c.path)}return s}(t),a=[],s=0,l=o.length;s<l;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}},tt.Path=function(t){tt.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},tt.Path.prototype=Object.create(tt.CurvePath.prototype),tt.Path.prototype.constructor=tt.Path,tt.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},tt.Path.prototype.moveTo=function(t,e){this.actions.push({action:"moveTo",args:[t,e]})},tt.Path.prototype.lineTo=function(t,e){var i=this.actions[this.actions.length-1].args,n=i[i.length-2],r=i[i.length-1],o=new tt.LineCurve(new tt.Vector2(n,r),new tt.Vector2(t,e));this.curves.push(o),this.actions.push({action:"lineTo",args:[t,e]})},tt.Path.prototype.quadraticCurveTo=function(t,e,i,n){var r=this.actions[this.actions.length-1].args,o=r[r.length-2],a=r[r.length-1],s=new tt.QuadraticBezierCurve(new tt.Vector2(o,a),new tt.Vector2(t,e),new tt.Vector2(i,n));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[t,e,i,n]})},tt.Path.prototype.bezierCurveTo=function(t,e,i,n,r,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1],c=new tt.CubicBezierCurve(new tt.Vector2(s,l),new tt.Vector2(t,e),new tt.Vector2(i,n),new tt.Vector2(r,o));this.curves.push(c),this.actions.push({action:"bezierCurveTo",args:[t,e,i,n,r,o]})},tt.Path.prototype.splineThru=function(t){var e=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,n=i[i.length-2],r=i[i.length-1],o=[new tt.Vector2(n,r)];Array.prototype.push.apply(o,t);var a=new tt.SplineCurve(o);this.curves.push(a),this.actions.push({action:"splineThru",args:e})},tt.Path.prototype.arc=function(t,e,i,n,r,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1];this.absarc(t+s,e+l,i,n,r,o)},tt.Path.prototype.absarc=function(t,e,i,n,r,o){this.absellipse(t,e,i,i,n,r,o)},tt.Path.prototype.ellipse=function(t,e,i,n,r,o,a,s){var l=this.actions[this.actions.length-1].args,c=l[l.length-2],u=l[l.length-1];this.absellipse(t+c,e+u,i,n,r,o,a,s)},tt.Path.prototype.absellipse=function(t,e,i,n,r,o,a,s){var l=[t,e,i,n,r,o,a,s||0],c=new tt.EllipseCurve(t,e,i,n,r,o,a,s);this.curves.push(c);var u=c.getPoint(1);l.push(u.x),l.push(u.y),this.actions.push({action:"ellipse",args:l})},tt.Path.prototype.getSpacedPoints=function(t){t||(t=40);for(var e=[],i=0;i<t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},tt.Path.prototype.getPoints=function(t){t=t||12;for(var e,i,n,r,o,a,s,l,c,u,h,d=tt.ShapeUtils.b2,p=tt.ShapeUtils.b3,f=[],m=0,g=this.actions.length;m<g;m++){var v=this.actions[m],y=v.action,_=v.args;switch(y){case"moveTo":case"lineTo":f.push(new tt.Vector2(_[0],_[1]));break;case"quadraticCurveTo":e=_[2],i=_[3],o=_[0],a=_[1],f.length>0?(s=(c=f[f.length-1]).x,l=c.y):(s=(c=this.actions[m-1].args)[c.length-2],l=c[c.length-1]);for(var b=1;b<=t;b++){u=d(P=b/t,s,o,e),h=d(P,l,a,i),f.push(new tt.Vector2(u,h))}break;case"bezierCurveTo":e=_[4],i=_[5],o=_[0],a=_[1],n=_[2],r=_[3],f.length>0?(s=(c=f[f.length-1]).x,l=c.y):(s=(c=this.actions[m-1].args)[c.length-2],l=c[c.length-1]);for(b=1;b<=t;b++){u=p(P=b/t,s,o,n,e),h=p(P,l,a,r,i),f.push(new tt.Vector2(u,h))}break;case"splineThru":c=this.actions[m-1].args;var w=[new tt.Vector2(c[c.length-2],c[c.length-1])],x=t*_[0].length;w=w.concat(_[0]);var M=new tt.SplineCurve(w);for(b=1;b<=x;b++)f.push(M.getPointAt(b/x));break;case"arc":var S=_[0],k=_[1],T=_[2],C=_[3],E=_[4],A=!!_[5],L=E-C,D=2*t;for(b=1;b<=D;b++){var P=b/D;A||(P=1-P),O=C+P*L,u=S+T*Math.cos(O),h=k+T*Math.sin(O),f.push(new tt.Vector2(u,h))}break;case"ellipse":S=_[0],k=_[1];var O,I,N,R=_[2],F=_[3],j=(C=_[4],E=_[5],A=!!_[6],_[7]);L=E-C,D=2*t;0!==j&&(I=Math.cos(j),N=Math.sin(j));for(b=1;b<=D;b++){P=b/D;if(A||(P=1-P),O=C+P*L,u=S+R*Math.cos(O),h=k+F*Math.sin(O),0!==j){var U=u;u=(U-S)*I-(h-k)*N+S,h=(U-S)*N+(h-k)*I+k}f.push(new tt.Vector2(u,h))}}}var Y=f[f.length-1];return Math.abs(Y.x-f[0].x)<Number.EPSILON&&Math.abs(Y.y-f[0].y)<Number.EPSILON&&f.splice(f.length-1,1),this.autoClose&&f.push(f[0]),f},tt.Path.prototype.toShapes=function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],o=new tt.Shape;o.actions=r.actions,o.curves=r.curves,e.push(o)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,o=0;o<i;r=o++){var a=e[r],s=e[o],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],l=-l,s=e[r],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var u=c*(t.x-a.x)-l*(t.y-a.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var r=tt.ShapeUtils.isClockWise,o=function(t){for(var e=[],i=new tt.Path,n=0,r=t.length;n<r;n++){var o=t[n],a=o.args,s=o.action;"moveTo"===s&&0!==i.actions.length&&(e.push(i),i=new tt.Path),i[s].apply(i,a)}return 0!==i.actions.length&&e.push(i),e}(this.actions);if(0===o.length)return[];if(!0===e)return i(o);var a,s,l,c=[];if(1===o.length)return s=o[0],(l=new tt.Shape).actions=s.actions,l.curves=s.curves,c.push(l),c;var u=!r(o[0].getPoints());u=t?!u:u;var h,d,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=r(h=(s=o[v]).getPoints()),(a=t?!a:a)?(!u&&f[g]&&g++,f[g]={s:new tt.Shape,p:h},f[g].s.actions=s.actions,f[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!f[0])return i(o);if(f.length>1){for(var _=!1,b=[],w=0,x=f.length;w<x;w++)p[w]=[];for(w=0,x=f.length;w<x;w++)for(var M=m[w],S=0;S<M.length;S++){for(var k=M[S],T=!0,C=0;C<f.length;C++)n(k.p,f[C].p)&&(w!==C&&b.push({froms:w,tos:C,hole:S}),T?(T=!1,p[C].push(k)):_=!0);T&&p[w].push(k)}b.length>0&&(_||(m=p))}v=0;for(var E=f.length;v<E;v++){l=f[v].s,c.push(l);for(var A=0,L=(d=m[v]).length;A<L;A++)l.holes.push(d[A].h)}return c},tt.Shape=function(){tt.Path.apply(this,arguments),this.holes=[]},tt.Shape.prototype=Object.create(tt.Path.prototype),tt.Shape.prototype.constructor=tt.Shape,tt.Shape.prototype.extrude=function(t){return new tt.ExtrudeGeometry(this,t)},tt.Shape.prototype.makeGeometry=function(t){return new tt.ShapeGeometry(this,t)},tt.Shape.prototype.getPointsHoles=function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},tt.Shape.prototype.extractAllPoints=function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},tt.Shape.prototype.extractPoints=function(t){return this.extractAllPoints(t)},tt.LineCurve=function(t,e){this.v1=t,this.v2=e},tt.LineCurve.prototype=Object.create(tt.Curve.prototype),tt.LineCurve.prototype.constructor=tt.LineCurve,tt.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},tt.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},tt.LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},tt.QuadraticBezierCurve=function(t,e,i){this.v0=t,this.v1=e,this.v2=i},tt.QuadraticBezierCurve.prototype=Object.create(tt.Curve.prototype),tt.QuadraticBezierCurve.prototype.constructor=tt.QuadraticBezierCurve,tt.QuadraticBezierCurve.prototype.getPoint=function(t){var e=tt.ShapeUtils.b2;return new tt.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},tt.QuadraticBezierCurve.prototype.getTangent=function(t){var e=tt.CurveUtils.tangentQuadraticBezier;return new tt.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()},tt.CubicBezierCurve=function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n},tt.CubicBezierCurve.prototype=Object.create(tt.Curve.prototype),tt.CubicBezierCurve.prototype.constructor=tt.CubicBezierCurve,tt.CubicBezierCurve.prototype.getPoint=function(t){var e=tt.ShapeUtils.b3;return new tt.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},tt.CubicBezierCurve.prototype.getTangent=function(t){var e=tt.CurveUtils.tangentCubicBezier;return new tt.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},tt.SplineCurve=function(t){this.points=null==t?[]:t},tt.SplineCurve.prototype=Object.create(tt.Curve.prototype),tt.SplineCurve.prototype.constructor=tt.SplineCurve,tt.SplineCurve.prototype.getPoint=function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,o=e[0===n?n:n-1],a=e[n],s=e[n>e.length-2?e.length-1:n+1],l=e[n>e.length-3?e.length-1:n+2],c=tt.CurveUtils.interpolate;return new tt.Vector2(c(o.x,a.x,s.x,l.x,r),c(o.y,a.y,s.y,l.y,r))},tt.EllipseCurve=function(t,e,i,n,r,o,a,s){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},tt.EllipseCurve.prototype=Object.create(tt.Curve.prototype),tt.EllipseCurve.prototype.constructor=tt.EllipseCurve,tt.EllipseCurve.prototype.getPoint=function(t){var e,i=this.aEndAngle-this.aStartAngle;i<0&&(i+=2*Math.PI),i>2*Math.PI&&(i-=2*Math.PI),e=!0===this.aClockwise?this.aEndAngle+(1-t)*(2*Math.PI-i):this.aStartAngle+t*i;var n=this.aX+this.xRadius*Math.cos(e),r=this.aY+this.yRadius*Math.sin(e);if(0!==this.aRotation){var o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),s=n,l=r;n=(s-this.aX)*o-(l-this.aY)*a+this.aX,r=(s-this.aX)*a+(l-this.aY)*o+this.aY}return new tt.Vector2(n,r)},tt.ArcCurve=function(t,e,i,n,r,o){tt.EllipseCurve.call(this,t,e,i,i,n,r,o)},tt.ArcCurve.prototype=Object.create(tt.EllipseCurve.prototype),tt.ArcCurve.prototype.constructor=tt.ArcCurve,tt.LineCurve3=tt.Curve.create((function(t,e){this.v1=t,this.v2=e}),(function(t){var e=new tt.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e})),tt.QuadraticBezierCurve3=tt.Curve.create((function(t,e,i){this.v0=t,this.v1=e,this.v2=i}),(function(t){var e=tt.ShapeUtils.b2;return new tt.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))})),tt.CubicBezierCurve3=tt.Curve.create((function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}),(function(t){var e=tt.ShapeUtils.b3;return new tt.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),tt.SplineCurve3=tt.Curve.create((function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=null==t?[]:t}),(function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,o=e[0==n?n:n-1],a=e[n],s=e[n>e.length-2?e.length-1:n+1],l=e[n>e.length-3?e.length-1:n+2],c=tt.CurveUtils.interpolate;return new tt.Vector3(c(o.x,a.x,s.x,l.x,r),c(o.y,a.y,s.y,l.y,r),c(o.z,a.z,s.z,l.z,r))})),tt.CatmullRomCurve3=function(){var t=new tt.Vector3,e=new r,i=new r,n=new r;function r(){}return r.prototype.init=function(t,e,i,n){this.c0=t,this.c1=i,this.c2=-3*t+3*e-2*i-n,this.c3=2*t-2*e+i+n},r.prototype.initNonuniformCatmullRom=function(t,e,i,n,r,o,a){var s=(e-t)/r-(i-t)/(r+o)+(i-e)/o,l=(i-e)/o-(n-e)/(o+a)+(n-i)/a;s*=o,l*=o,this.init(e,i,s,l)},r.prototype.initCatmullRom=function(t,e,i,n,r){this.init(e,i,r*(i-t),r*(n-e))},r.prototype.calc=function(t){var e=t*t,i=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*i},tt.Curve.create((function(t){this.points=t||[],this.closed=!1}),(function(r){var o,a,s,l,c,u,h,d,p=this.points;if((l=p.length)<2&&console.log("duh, you need at least 2 points"),s=(o=(l-(this.closed?0:1))*r)-(a=Math.floor(o)),this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/p.length)+1)*p.length:0===s&&a===l-1&&(a=l-2,s=1),this.closed||a>0?c=p[(a-1)%l]:(t.subVectors(p[0],p[1]).add(p[0]),c=t),u=p[a%l],h=p[(a+1)%l],this.closed||a+2<l?d=p[(a+2)%l]:(t.subVectors(p[l-1],p[l-2]).add(p[l-1]),d=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var f="chordal"===this.type?.5:.25,m=Math.pow(c.distanceToSquared(u),f),g=Math.pow(u.distanceToSquared(h),f),v=Math.pow(h.distanceToSquared(d),f);g<1e-4&&(g=1),m<1e-4&&(m=g),v<1e-4&&(v=g),e.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,m,g,v),i.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,m,g,v),n.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,m,g,v)}else if("catmullrom"===this.type){var y=void 0!==this.tension?this.tension:.5;e.initCatmullRom(c.x,u.x,h.x,d.x,y),i.initCatmullRom(c.y,u.y,h.y,d.y,y),n.initCatmullRom(c.z,u.z,h.z,d.z,y)}return new tt.Vector3(e.calc(s),i.calc(s),n.calc(s))}))}(),tt.ClosedSplineCurve3=function(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),tt.CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0},tt.ClosedSplineCurve3.prototype=Object.create(tt.CatmullRomCurve3.prototype),tt.BoxGeometry=function(t,e,i,n,r,o){tt.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:o},this.widthSegments=n||1,this.heightSegments=r||1,this.depthSegments=o||1;var a=this,s=t/2,l=e/2,c=i/2;function u(t,e,i,n,r,o,s,l){var c,u,h,d=a.widthSegments,p=a.heightSegments,f=r/2,m=o/2,g=a.vertices.length;"x"===t&&"y"===e||"y"===t&&"x"===e?c="z":"x"===t&&"z"===e||"z"===t&&"x"===e?(c="y",p=a.depthSegments):("z"===t&&"y"===e||"y"===t&&"z"===e)&&(c="x",d=a.depthSegments);var v=d+1,y=p+1,_=r/d,b=o/p,w=new tt.Vector3;for(w[c]=s>0?1:-1,h=0;h<y;h++)for(u=0;u<v;u++){var x=new tt.Vector3;x[t]=(u*_-f)*i,x[e]=(h*b-m)*n,x[c]=s,a.vertices.push(x)}for(h=0;h<p;h++)for(u=0;u<d;u++){var M=u+v*h,S=u+v*(h+1),k=u+1+v*(h+1),T=u+1+v*h,C=new tt.Vector2(u/d,1-h/p),E=new tt.Vector2(u/d,1-(h+1)/p),A=new tt.Vector2((u+1)/d,1-(h+1)/p),L=new tt.Vector2((u+1)/d,1-h/p),D=new tt.Face3(M+g,S+g,T+g);D.normal.copy(w),D.vertexNormals.push(w.clone(),w.clone(),w.clone()),D.materialIndex=l,a.faces.push(D),a.faceVertexUvs[0].push([C,E,L]),(D=new tt.Face3(S+g,k+g,T+g)).normal.copy(w),D.vertexNormals.push(w.clone(),w.clone(),w.clone()),D.materialIndex=l,a.faces.push(D),a.faceVertexUvs[0].push([E.clone(),A,L.clone()])}}u("z","y",-1,-1,i,e,s,0),u("z","y",1,-1,i,e,-s,1),u("x","z",1,1,t,i,l,2),u("x","z",1,-1,t,i,-l,3),u("x","y",1,-1,t,e,c,4),u("x","y",-1,-1,t,e,-c,5),this.mergeVertices()},tt.BoxGeometry.prototype=Object.create(tt.Geometry.prototype),tt.BoxGeometry.prototype.constructor=tt.BoxGeometry,tt.CubeGeometry=tt.BoxGeometry,tt.CircleGeometry=function(t,e,i,n){tt.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new tt.CircleBufferGeometry(t,e,i,n))},tt.CircleGeometry.prototype=Object.create(tt.Geometry.prototype),tt.CircleGeometry.prototype.constructor=tt.CircleGeometry,tt.CircleBufferGeometry=function(t,e,i,n){tt.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=e+2,o=new Float32Array(3*r),a=new Float32Array(3*r),s=new Float32Array(2*r);a[2]=1,s[0]=.5,s[1]=.5;for(var l=0,c=3,u=2;l<=e;l++,c+=3,u+=2){var h=i+l/e*n;o[c]=t*Math.cos(h),o[c+1]=t*Math.sin(h),a[c+2]=1,s[u]=(o[c]/t+1)/2,s[u+1]=(o[c+1]/t+1)/2}var d=[];for(c=1;c<=e;c++)d.push(c,c+1,0);this.setIndex(new tt.BufferAttribute(new Uint16Array(d),1)),this.addAttribute("position",new tt.BufferAttribute(o,3)),this.addAttribute("normal",new tt.BufferAttribute(a,3)),this.addAttribute("uv",new tt.BufferAttribute(s,2)),this.boundingSphere=new tt.Sphere(new tt.Vector3,t)},tt.CircleBufferGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.CircleBufferGeometry.prototype.constructor=tt.CircleBufferGeometry,tt.CylinderGeometry=function(t,e,i,n,r,o,a,s){tt.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},t=void 0!==t?t:20,e=void 0!==e?e:20,i=void 0!==i?i:100,n=n||8,r=r||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l,c,u=i/2,h=[],d=[];for(c=0;c<=r;c++){var p=[],f=[],m=c/r,g=m*(e-t)+t;for(l=0;l<=n;l++){var v=l/n,y=new tt.Vector3;y.x=g*Math.sin(v*s+a),y.y=-m*i+u,y.z=g*Math.cos(v*s+a),this.vertices.push(y),p.push(this.vertices.length-1),f.push(new tt.Vector2(v,1-m))}h.push(p),d.push(f)}var _,b,w=(e-t)/i;for(l=0;l<n;l++)for(0!==t?(_=this.vertices[h[0][l]].clone(),b=this.vertices[h[0][l+1]].clone()):(_=this.vertices[h[1][l]].clone(),b=this.vertices[h[1][l+1]].clone()),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*w).normalize(),b.setY(Math.sqrt(b.x*b.x+b.z*b.z)*w).normalize(),c=0;c<r;c++){var x=h[c][l],M=h[c+1][l],S=h[c+1][l+1],k=h[c][l+1],T=_.clone(),C=_.clone(),E=b.clone(),A=b.clone(),L=d[c][l].clone(),D=d[c+1][l].clone(),P=d[c+1][l+1].clone(),O=d[c][l+1].clone();this.faces.push(new tt.Face3(x,M,k,[T,C,A])),this.faceVertexUvs[0].push([L,D,O]),this.faces.push(new tt.Face3(M,S,k,[C.clone(),E,A.clone()])),this.faceVertexUvs[0].push([D.clone(),P,O.clone()])}if(!1===o&&t>0)for(this.vertices.push(new tt.Vector3(0,u,0)),l=0;l<n;l++){x=h[0][l],M=h[0][l+1],S=this.vertices.length-1,T=new tt.Vector3(0,1,0),C=new tt.Vector3(0,1,0),E=new tt.Vector3(0,1,0),L=d[0][l].clone(),D=d[0][l+1].clone(),P=new tt.Vector2(D.x,0);this.faces.push(new tt.Face3(x,M,S,[T,C,E],void 0,1)),this.faceVertexUvs[0].push([L,D,P])}if(!1===o&&e>0)for(this.vertices.push(new tt.Vector3(0,-u,0)),l=0;l<n;l++){x=h[r][l+1],M=h[r][l],S=this.vertices.length-1,T=new tt.Vector3(0,-1,0),C=new tt.Vector3(0,-1,0),E=new tt.Vector3(0,-1,0),L=d[r][l+1].clone(),D=d[r][l].clone(),P=new tt.Vector2(D.x,1);this.faces.push(new tt.Face3(x,M,S,[T,C,E],void 0,2)),this.faceVertexUvs[0].push([L,D,P])}this.computeFaceNormals()},tt.CylinderGeometry.prototype=Object.create(tt.Geometry.prototype),tt.CylinderGeometry.prototype.constructor=tt.CylinderGeometry,tt.EdgesGeometry=function(t,e){tt.BufferGeometry.call(this),e=void 0!==e?e:1;var i=Math.cos(tt.Math.degToRad(e)),n=[0,0],r={};function o(t,e){return t-e}var a,s=["a","b","c"];t instanceof tt.BufferGeometry?(a=new tt.Geometry).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var l=a.vertices,c=a.faces,u=0,h=c.length;u<h;u++)for(var d=c[u],p=0;p<3;p++){n[0]=d[s[p]],n[1]=d[s[(p+1)%3]],n.sort(o),void 0===r[m=n.toString()]?r[m]={vert1:n[0],vert2:n[1],face1:u,face2:void 0}:r[m].face2=u}var f=[];for(var m in r){var g=r[m];if(void 0===g.face2||c[g.face1].normal.dot(c[g.face2].normal)<=i){var v=l[g.vert1];f.push(v.x),f.push(v.y),f.push(v.z),v=l[g.vert2],f.push(v.x),f.push(v.y),f.push(v.z)}}this.addAttribute("position",new tt.BufferAttribute(new Float32Array(f),3))},tt.EdgesGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.EdgesGeometry.prototype.constructor=tt.EdgesGeometry,tt.ExtrudeGeometry=function(t,e){void 0!==t?(tt.Geometry.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]},tt.ExtrudeGeometry.prototype=Object.create(tt.Geometry.prototype),tt.ExtrudeGeometry.prototype.constructor=tt.ExtrudeGeometry,tt.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];this.addShape(r,e)}},tt.ExtrudeGeometry.prototype.addShape=function(t,e){var i,n,r,o,a,s,l,c,u=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,d=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.curveSegments?e.curveSegments:12,g=void 0!==e.steps?e.steps:1,v=e.extrudePath,y=!1,_=void 0!==e.UVGenerator?e.UVGenerator:tt.ExtrudeGeometry.WorldUVGenerator;v&&(i=v.getSpacedPoints(g),y=!0,f=!1,n=void 0!==e.frames?e.frames:new tt.TubeGeometry.FrenetFrames(v,g,!1),r=new tt.Vector3,o=new tt.Vector3,a=new tt.Vector3),f||(p=0,h=0,d=0);var b=this,w=this.vertices.length,x=t.extractPoints(m),M=x.shape,S=x.holes,k=!tt.ShapeUtils.isClockWise(M);if(k){for(M=M.reverse(),l=0,c=S.length;l<c;l++)s=S[l],tt.ShapeUtils.isClockWise(s)&&(S[l]=s.reverse());k=!1}var T=tt.ShapeUtils.triangulateShape(M,S),C=M;for(l=0,c=S.length;l<c;l++)s=S[l],M=M.concat(s);function E(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var A,L,D,P,O,I,N=M.length,R=T.length;function F(t,e,i){var n,r,o=1,a=t.x-e.x,s=t.y-e.y,l=i.x-t.x,c=i.y-t.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),p=Math.sqrt(l*l+c*c),f=e.x-s/d,m=e.y+a/d,g=((i.x-c/p-f)*c-(i.y+l/p-m)*l)/(a*c-s*l),v=(n=f+a*g-t.x)*n+(r=m+s*g-t.y)*r;if(v<=2)return new tt.Vector2(n,r);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(n=-s,r=a,o=Math.sqrt(u)):(n=a,r=s,o=Math.sqrt(u/2))}return new tt.Vector2(n/o,r/o)}for(var j=[],U=0,Y=C.length,V=Y-1,H=U+1;U<Y;U++,V++,H++)V===Y&&(V=0),H===Y&&(H=0),j[U]=F(C[U],C[V],C[H]);var B,z,W=[],q=j.concat();for(l=0,c=S.length;l<c;l++){for(s=S[l],B=[],U=0,V=(Y=s.length)-1,H=U+1;U<Y;U++,V++,H++)V===Y&&(V=0),H===Y&&(H=0),B[U]=F(s[U],s[V],s[H]);W.push(B),q=q.concat(B)}for(A=0;A<p;A++){for(P=h*(1-(D=A/p)),L=d*Math.sin(D*Math.PI/2),U=0,Y=C.length;U<Y;U++)$((O=E(C[U],j[U],L)).x,O.y,-P);for(l=0,c=S.length;l<c;l++)for(s=S[l],B=W[l],U=0,Y=s.length;U<Y;U++)$((O=E(s[U],B[U],L)).x,O.y,-P)}for(L=d,U=0;U<N;U++)O=f?E(M[U],q[U],L):M[U],y?(o.copy(n.normals[0]).multiplyScalar(O.x),r.copy(n.binormals[0]).multiplyScalar(O.y),a.copy(i[0]).add(o).add(r),$(a.x,a.y,a.z)):$(O.x,O.y,0);for(z=1;z<=g;z++)for(U=0;U<N;U++)O=f?E(M[U],q[U],L):M[U],y?(o.copy(n.normals[z]).multiplyScalar(O.x),r.copy(n.binormals[z]).multiplyScalar(O.y),a.copy(i[z]).add(o).add(r),$(a.x,a.y,a.z)):$(O.x,O.y,u/g*z);for(A=p-1;A>=0;A--){for(P=h*(1-(D=A/p)),L=d*Math.sin(D*Math.PI/2),U=0,Y=C.length;U<Y;U++)$((O=E(C[U],j[U],L)).x,O.y,u+P);for(l=0,c=S.length;l<c;l++)for(s=S[l],B=W[l],U=0,Y=s.length;U<Y;U++)O=E(s[U],B[U],L),y?$(O.x,O.y+i[g-1].y,i[g-1].x+P):$(O.x,O.y,u+P)}function G(t,e){var i,n;for(U=t.length;--U>=0;){i=U,(n=U-1)<0&&(n=t.length-1);var r=0,o=g+2*p;for(r=0;r<o;r++){var a=N*r,s=N*(r+1);K(e+i+a,e+n+a,e+n+s,e+i+s,t,r,o,i,n)}}}function $(t,e,i){b.vertices.push(new tt.Vector3(t,e,i))}function X(t,e,i){t+=w,e+=w,i+=w,b.faces.push(new tt.Face3(t,e,i,null,null,0));var n=_.generateTopUV(b,t,e,i);b.faceVertexUvs[0].push(n)}function K(t,e,i,n,r,o,a,s,l){t+=w,e+=w,i+=w,n+=w,b.faces.push(new tt.Face3(t,e,n,null,null,1)),b.faces.push(new tt.Face3(e,i,n,null,null,1));var c=_.generateSideWallUV(b,t,e,i,n);b.faceVertexUvs[0].push([c[0],c[1],c[3]]),b.faceVertexUvs[0].push([c[1],c[2],c[3]])}!function(){if(f){var t=0,e=N*t;for(U=0;U<R;U++)X((I=T[U])[2]+e,I[1]+e,I[0]+e);for(e=N*(t=g+2*p),U=0;U<R;U++)X((I=T[U])[0]+e,I[1]+e,I[2]+e)}else{for(U=0;U<R;U++)X((I=T[U])[2],I[1],I[0]);for(U=0;U<R;U++)X((I=T[U])[0]+N*g,I[1]+N*g,I[2]+N*g)}}(),function(){var t=0;for(G(C,t),t+=C.length,l=0,c=S.length;l<c;l++)G(s=S[l],t),t+=s.length}()},tt.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,i,n){var r=t.vertices,o=r[e],a=r[i],s=r[n];return[new tt.Vector2(o.x,o.y),new tt.Vector2(a.x,a.y),new tt.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,i,n,r){var o=t.vertices,a=o[e],s=o[i],l=o[n],c=o[r];return Math.abs(a.y-s.y)<.01?[new tt.Vector2(a.x,1-a.z),new tt.Vector2(s.x,1-s.z),new tt.Vector2(l.x,1-l.z),new tt.Vector2(c.x,1-c.z)]:[new tt.Vector2(a.y,1-a.z),new tt.Vector2(s.y,1-s.z),new tt.Vector2(l.y,1-l.z),new tt.Vector2(c.y,1-c.z)]}},tt.ShapeGeometry=function(t,e){tt.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(t)&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},tt.ShapeGeometry.prototype=Object.create(tt.Geometry.prototype),tt.ShapeGeometry.prototype.constructor=tt.ShapeGeometry,tt.ShapeGeometry.prototype.addShapeList=function(t,e){for(var i=0,n=t.length;i<n;i++)this.addShape(t[i],e);return this},tt.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var i,n,r,o=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?tt.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,l=this.vertices.length,c=t.extractPoints(o),u=c.shape,h=c.holes,d=!tt.ShapeUtils.isClockWise(u);if(d){for(u=u.reverse(),i=0,n=h.length;i<n;i++)r=h[i],tt.ShapeUtils.isClockWise(r)&&(h[i]=r.reverse());d=!1}var p=tt.ShapeUtils.triangulateShape(u,h);for(i=0,n=h.length;i<n;i++)r=h[i],u=u.concat(r);var f,m,g=u.length,v=p.length;for(i=0;i<g;i++)f=u[i],this.vertices.push(new tt.Vector3(f.x,f.y,0));for(i=0;i<v;i++){var y=(m=p[i])[0]+l,_=m[1]+l,b=m[2]+l;this.faces.push(new tt.Face3(y,_,b,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,y,_,b))}},tt.LatheGeometry=function(t,e,i,n){tt.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},e=e||12,i=i||0,n=n||2*Math.PI;for(var r=1/(t.length-1),o=1/e,a=0,s=e;a<=s;a++)for(var l=i+a*o*n,c=Math.sin(l),u=Math.cos(l),h=0,d=t.length;h<d;h++){var p=t[h],f=new tt.Vector3;f.x=p.x*c,f.y=p.y,f.z=p.x*u,this.vertices.push(f)}var m=t.length;for(a=0,s=e;a<s;a++)for(h=0,d=t.length-1;h<d;h++){var g=h+m*a,v=g,y=g+m,_=g+1+m,b=g+1,w=a*o,x=h*r,M=w+o,S=x+r;this.faces.push(new tt.Face3(v,y,b)),this.faceVertexUvs[0].push([new tt.Vector2(w,x),new tt.Vector2(M,x),new tt.Vector2(w,S)]),this.faces.push(new tt.Face3(y,_,b)),this.faceVertexUvs[0].push([new tt.Vector2(M,x),new tt.Vector2(M,S),new tt.Vector2(w,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},tt.LatheGeometry.prototype=Object.create(tt.Geometry.prototype),tt.LatheGeometry.prototype.constructor=tt.LatheGeometry,tt.PlaneGeometry=function(t,e,i,n){tt.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new tt.PlaneBufferGeometry(t,e,i,n))},tt.PlaneGeometry.prototype=Object.create(tt.Geometry.prototype),tt.PlaneGeometry.prototype.constructor=tt.PlaneGeometry,tt.PlaneBufferGeometry=function(t,e,i,n){tt.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};for(var r=t/2,o=e/2,a=Math.floor(i)||1,s=Math.floor(n)||1,l=a+1,c=s+1,u=t/a,h=e/s,d=new Float32Array(l*c*3),p=new Float32Array(l*c*3),f=new Float32Array(l*c*2),m=0,g=0,v=0;v<c;v++)for(var y=v*h-o,_=0;_<l;_++){var b=_*u-r;d[m]=b,d[m+1]=-y,p[m+2]=1,f[g]=_/a,f[g+1]=1-v/s,m+=3,g+=2}m=0;var w=new(d.length/3>65535?Uint32Array:Uint16Array)(a*s*6);for(v=0;v<s;v++)for(_=0;_<a;_++){var x=_+l*v,M=_+l*(v+1),S=_+1+l*(v+1),k=_+1+l*v;w[m]=x,w[m+1]=M,w[m+2]=k,w[m+3]=M,w[m+4]=S,w[m+5]=k,m+=6}this.setIndex(new tt.BufferAttribute(w,1)),this.addAttribute("position",new tt.BufferAttribute(d,3)),this.addAttribute("normal",new tt.BufferAttribute(p,3)),this.addAttribute("uv",new tt.BufferAttribute(f,2))},tt.PlaneBufferGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.PlaneBufferGeometry.prototype.constructor=tt.PlaneBufferGeometry,tt.RingGeometry=function(t,e,i,n,r,o){tt.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:o},t=t||0,e=e||50,r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var a,s,l=[],c=t,u=(e-t)/(n=void 0!==n?Math.max(1,n):8);for(a=0;a<n+1;a++){for(s=0;s<i+1;s++){var h=new tt.Vector3,d=r+s/i*o;h.x=c*Math.cos(d),h.y=c*Math.sin(d),this.vertices.push(h),l.push(new tt.Vector2((h.x/e+1)/2,(h.y/e+1)/2))}c+=u}var p=new tt.Vector3(0,0,1);for(a=0;a<n;a++){var f=a*(i+1);for(s=0;s<i;s++){var m=d=s+f,g=d+i+1,v=d+i+2;this.faces.push(new tt.Face3(m,g,v,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[m].clone(),l[g].clone(),l[v].clone()]),m=d,g=d+i+2,v=d+1,this.faces.push(new tt.Face3(m,g,v,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[m].clone(),l[g].clone(),l[v].clone()])}}this.computeFaceNormals(),this.boundingSphere=new tt.Sphere(new tt.Vector3,c)},tt.RingGeometry.prototype=Object.create(tt.Geometry.prototype),tt.RingGeometry.prototype.constructor=tt.RingGeometry,tt.SphereGeometry=function(t,e,i,n,r,o,a){tt.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new tt.SphereBufferGeometry(t,e,i,n,r,o,a))},tt.SphereGeometry.prototype=Object.create(tt.Geometry.prototype),tt.SphereGeometry.prototype.constructor=tt.SphereGeometry,tt.SphereBufferGeometry=function(t,e,i,n,r,o,a){tt.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;for(var s=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=(e+1)*(i+1),c=new tt.BufferAttribute(new Float32Array(3*l),3),u=new tt.BufferAttribute(new Float32Array(3*l),3),h=new tt.BufferAttribute(new Float32Array(2*l),2),d=0,p=[],f=new tt.Vector3,m=0;m<=i;m++){for(var g=[],v=m/i,y=0;y<=e;y++){var _=y/e,b=-t*Math.cos(n+_*r)*Math.sin(o+v*a),w=t*Math.cos(o+v*a),x=t*Math.sin(n+_*r)*Math.sin(o+v*a);f.set(b,w,x).normalize(),c.setXYZ(d,b,w,x),u.setXYZ(d,f.x,f.y,f.z),h.setXY(d,_,1-v),g.push(d),d++}p.push(g)}var M=[];for(m=0;m<i;m++)for(y=0;y<e;y++){var S=p[m][y+1],k=p[m][y],T=p[m+1][y],C=p[m+1][y+1];(0!==m||o>0)&&M.push(S,k,C),(m!==i-1||s<Math.PI)&&M.push(k,T,C)}this.setIndex(new(c.count>65535?tt.Uint32Attribute:tt.Uint16Attribute)(M,1)),this.addAttribute("position",c),this.addAttribute("normal",u),this.addAttribute("uv",h),this.boundingSphere=new tt.Sphere(new tt.Vector3,t)},tt.SphereBufferGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.SphereBufferGeometry.prototype.constructor=tt.SphereBufferGeometry,tt.TextGeometry=function(t,e){var i=(e=e||{}).font;if(i instanceof tt.Font==!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new tt.Geometry;var n=i.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),tt.ExtrudeGeometry.call(this,n,e),this.type="TextGeometry"},tt.TextGeometry.prototype=Object.create(tt.ExtrudeGeometry.prototype),tt.TextGeometry.prototype.constructor=tt.TextGeometry,tt.TorusGeometry=function(t,e,i,n,r){tt.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||100,e=e||40,i=i||8,n=n||6,r=r||2*Math.PI;for(var o=new tt.Vector3,a=[],s=[],l=0;l<=i;l++)for(var c=0;c<=n;c++){var u=c/n*r,h=l/i*Math.PI*2;o.x=t*Math.cos(u),o.y=t*Math.sin(u);var d=new tt.Vector3;d.x=(t+e*Math.cos(h))*Math.cos(u),d.y=(t+e*Math.cos(h))*Math.sin(u),d.z=e*Math.sin(h),this.vertices.push(d),a.push(new tt.Vector2(c/n,l/i)),s.push(d.clone().sub(o).normalize())}for(l=1;l<=i;l++)for(c=1;c<=n;c++){var p=(n+1)*l+c-1,f=(n+1)*(l-1)+c-1,m=(n+1)*(l-1)+c,g=(n+1)*l+c,v=new tt.Face3(p,f,g,[s[p].clone(),s[f].clone(),s[g].clone()]);this.faces.push(v),this.faceVertexUvs[0].push([a[p].clone(),a[f].clone(),a[g].clone()]),v=new tt.Face3(f,m,g,[s[f].clone(),s[m].clone(),s[g].clone()]),this.faces.push(v),this.faceVertexUvs[0].push([a[f].clone(),a[m].clone(),a[g].clone()])}this.computeFaceNormals()},tt.TorusGeometry.prototype=Object.create(tt.Geometry.prototype),tt.TorusGeometry.prototype.constructor=tt.TorusGeometry,tt.TorusKnotGeometry=function(t,e,i,n,r,o,a){tt.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,p:r,q:o,heightScale:a},t=t||100,e=e||40,i=i||64,n=n||8,r=r||2,o=o||3,a=a||1;for(var s=new Array(i),l=new tt.Vector3,c=new tt.Vector3,u=new tt.Vector3,h=0;h<i;++h){s[h]=new Array(n);var d=h/i*2*r*Math.PI,p=L(d,o,r,t,a),f=L(d+.01,o,r,t,a);l.subVectors(f,p),c.addVectors(f,p),u.crossVectors(l,c),c.crossVectors(u,l),u.normalize(),c.normalize();for(var m=0;m<n;++m){var g=m/n*2*Math.PI,v=-e*Math.cos(g),y=e*Math.sin(g),_=new tt.Vector3;_.x=p.x+v*c.x+y*u.x,_.y=p.y+v*c.y+y*u.y,_.z=p.z+v*c.z+y*u.z,s[h][m]=this.vertices.push(_)-1}}for(h=0;h<i;++h)for(m=0;m<n;++m){var b=(h+1)%i,w=(m+1)%n,x=s[h][m],M=s[b][m],S=s[b][w],k=s[h][w],T=new tt.Vector2(h/i,m/n),C=new tt.Vector2((h+1)/i,m/n),E=new tt.Vector2((h+1)/i,(m+1)/n),A=new tt.Vector2(h/i,(m+1)/n);this.faces.push(new tt.Face3(x,M,k)),this.faceVertexUvs[0].push([T,C,A]),this.faces.push(new tt.Face3(M,S,k)),this.faceVertexUvs[0].push([C.clone(),E,A.clone()])}function L(t,e,i,n,r){var o=Math.cos(t),a=Math.sin(t),s=e/i*t,l=Math.cos(s),c=n*(2+l)*.5*o,u=n*(2+l)*a*.5,h=r*n*Math.sin(s)*.5;return new tt.Vector3(c,u,h)}this.computeFaceNormals(),this.computeVertexNormals()},tt.TorusKnotGeometry.prototype=Object.create(tt.Geometry.prototype),tt.TorusKnotGeometry.prototype.constructor=tt.TorusKnotGeometry,tt.TubeGeometry=function(t,e,i,n,r,o){tt.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:i,radialSegments:n,closed:r,taper:o},e=e||64,i=i||1,n=n||8,r=r||!1,o=o||tt.TubeGeometry.NoTaper;var a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,M,S,k,T=[],C=this,E=e+1,A=new tt.Vector3,L=new tt.TubeGeometry.FrenetFrames(t,e,r),D=L.tangents,P=L.normals,O=L.binormals;function I(t,e,i){return C.vertices.push(new tt.Vector3(t,e,i))-1}for(this.tangents=D,this.normals=P,this.binormals=O,f=0;f<E;f++)for(T[f]=[],l=f/(E-1),p=t.getPointAt(l),D[f],a=P[f],s=O[f],u=i*o(l),m=0;m<n;m++)c=m/n*2*Math.PI,h=-u*Math.cos(c),d=u*Math.sin(c),A.copy(p),A.x+=h*a.x+d*s.x,A.y+=h*a.y+d*s.y,A.z+=h*a.z+d*s.z,T[f][m]=I(A.x,A.y,A.z);for(f=0;f<e;f++)for(m=0;m<n;m++)g=r?(f+1)%e:f+1,v=(m+1)%n,y=T[f][m],_=T[g][m],b=T[g][v],w=T[f][v],x=new tt.Vector2(f/e,m/n),M=new tt.Vector2((f+1)/e,m/n),S=new tt.Vector2((f+1)/e,(m+1)/n),k=new tt.Vector2(f/e,(m+1)/n),this.faces.push(new tt.Face3(y,_,w)),this.faceVertexUvs[0].push([x,M,k]),this.faces.push(new tt.Face3(_,b,w)),this.faceVertexUvs[0].push([M.clone(),S,k.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},tt.TubeGeometry.prototype=Object.create(tt.Geometry.prototype),tt.TubeGeometry.prototype.constructor=tt.TubeGeometry,tt.TubeGeometry.NoTaper=function(t){return 1},tt.TubeGeometry.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},tt.TubeGeometry.FrenetFrames=function(t,e,i){var n,r,o,a,s,l,c,u=new tt.Vector3,h=[],d=[],p=[],f=new tt.Vector3,m=new tt.Matrix4,g=e+1;for(this.tangents=h,this.normals=d,this.binormals=p,l=0;l<g;l++)c=l/(g-1),h[l]=t.getTangentAt(c),h[l].normalize();for(function(){d[0]=new tt.Vector3,p[0]=new tt.Vector3,r=Number.MAX_VALUE,o=Math.abs(h[0].x),a=Math.abs(h[0].y),s=Math.abs(h[0].z),o<=r&&(r=o,u.set(1,0,0));a<=r&&(r=a,u.set(0,1,0));s<=r&&u.set(0,0,1);f.crossVectors(h[0],u).normalize(),d[0].crossVectors(h[0],f),p[0].crossVectors(h[0],d[0])}(),l=1;l<g;l++)d[l]=d[l-1].clone(),p[l]=p[l-1].clone(),f.crossVectors(h[l-1],h[l]),f.length()>Number.EPSILON&&(f.normalize(),n=Math.acos(tt.Math.clamp(h[l-1].dot(h[l]),-1,1)),d[l].applyMatrix4(m.makeRotationAxis(f,n))),p[l].crossVectors(h[l],d[l]);if(i)for(n=Math.acos(tt.Math.clamp(d[0].dot(d[g-1]),-1,1)),n/=g-1,h[0].dot(f.crossVectors(d[0],d[g-1]))>0&&(n=-n),l=1;l<g;l++)d[l].applyMatrix4(m.makeRotationAxis(h[l],n*l)),p[l].crossVectors(h[l],d[l])},tt.PolyhedronGeometry=function(t,e,i,n){tt.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},i=i||1,n=n||0;for(var r=this,o=0,a=t.length;o<a;o+=3)b(new tt.Vector3(t[o],t[o+1],t[o+2]));var s=this.vertices,l=[],c=(o=0,0);for(a=e.length;o<a;o+=3,c++){var u=s[e[o]],h=s[e[o+1]],d=s[e[o+2]];l[c]=new tt.Face3(u.index,h.index,d.index,[u.clone(),h.clone(),d.clone()],void 0,c)}var p=new tt.Vector3;for(o=0,a=l.length;o<a;o++)x(l[o],n);for(o=0,a=this.faceVertexUvs[0].length;o<a;o++){var f=this.faceVertexUvs[0][o],m=f[0].x,g=f[1].x,v=f[2].x,y=Math.max(m,g,v),_=Math.min(m,g,v);y>.9&&_<.1&&(m<.2&&(f[0].x+=1),g<.2&&(f[1].x+=1),v<.2&&(f[2].x+=1))}for(o=0,a=this.vertices.length;o<a;o++)this.vertices[o].multiplyScalar(i);function b(t){var e=t.normalize().clone();e.index=r.vertices.push(e)-1;var i=M(t)/2/Math.PI+.5,n=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;return e.uv=new tt.Vector2(i,1-n),e}function w(t,e,i,n){var o=new tt.Face3(t.index,e.index,i.index,[t.clone(),e.clone(),i.clone()],void 0,n);r.faces.push(o),p.copy(t).add(e).add(i).divideScalar(3);var a=M(p);r.faceVertexUvs[0].push([S(t.uv,t,a),S(e.uv,e,a),S(i.uv,i,a)])}function x(t,e){for(var i=Math.pow(2,e),n=b(r.vertices[t.a]),o=b(r.vertices[t.b]),a=b(r.vertices[t.c]),s=[],l=t.materialIndex,c=0;c<=i;c++){s[c]=[];for(var u=b(n.clone().lerp(a,c/i)),h=b(o.clone().lerp(a,c/i)),d=i-c,p=0;p<=d;p++)s[c][p]=0===p&&c===i?u:b(u.clone().lerp(h,p/d))}for(c=0;c<i;c++)for(p=0;p<2*(i-c)-1;p++){var f=Math.floor(p/2);p%2==0?w(s[c][f+1],s[c+1][f],s[c][f],l):w(s[c][f+1],s[c+1][f+1],s[c+1][f],l)}}function M(t){return Math.atan2(t.z,-t.x)}function S(t,e,i){return i<0&&1===t.x&&(t=new tt.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new tt.Vector2(i/2/Math.PI+.5,t.y)),t.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new tt.Sphere(new tt.Vector3,i)},tt.PolyhedronGeometry.prototype=Object.create(tt.Geometry.prototype),tt.PolyhedronGeometry.prototype.constructor=tt.PolyhedronGeometry,tt.DodecahedronGeometry=function(t,e){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n];tt.PolyhedronGeometry.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}},tt.DodecahedronGeometry.prototype=Object.create(tt.PolyhedronGeometry.prototype),tt.DodecahedronGeometry.prototype.constructor=tt.DodecahedronGeometry,tt.IcosahedronGeometry=function(t,e){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];tt.PolyhedronGeometry.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},tt.IcosahedronGeometry.prototype=Object.create(tt.PolyhedronGeometry.prototype);tt.IcosahedronGeometry.prototype.constructor=tt.IcosahedronGeometry,tt.OctahedronGeometry=function(t,e){tt.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},tt.OctahedronGeometry.prototype=Object.create(tt.PolyhedronGeometry.prototype),tt.OctahedronGeometry.prototype.constructor=tt.OctahedronGeometry,tt.TetrahedronGeometry=function(t,e){tt.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},tt.TetrahedronGeometry.prototype=Object.create(tt.PolyhedronGeometry.prototype),tt.TetrahedronGeometry.prototype.constructor=tt.TetrahedronGeometry,tt.ParametricGeometry=function(t,e,i){tt.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i};var n,r,o,a,s,l,c,u,h,d,p,f,m=this.vertices,g=this.faces,v=this.faceVertexUvs[0],y=e+1;for(n=0;n<=i;n++)for(a=n/i,r=0;r<=e;r++)o=t(r/e,a),m.push(o);for(n=0;n<i;n++)for(r=0;r<e;r++)s=n*y+r,l=n*y+r+1,c=(n+1)*y+r+1,u=(n+1)*y+r,h=new tt.Vector2(r/e,n/i),d=new tt.Vector2((r+1)/e,n/i),p=new tt.Vector2((r+1)/e,(n+1)/i),f=new tt.Vector2(r/e,(n+1)/i),g.push(new tt.Face3(s,l,u)),v.push([h,d,f]),g.push(new tt.Face3(l,c,u)),v.push([d.clone(),p,f.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},tt.ParametricGeometry.prototype=Object.create(tt.Geometry.prototype),tt.ParametricGeometry.prototype.constructor=tt.ParametricGeometry,tt.WireframeGeometry=function(t){tt.BufferGeometry.call(this);var e=[0,0],i={};function n(t,e){return t-e}var r=["a","b","c"];if(t instanceof tt.Geometry){for(var o=t.vertices,a=t.faces,s=0,l=new Uint32Array(6*a.length),c=0,u=a.length;c<u;c++)for(var h=a[c],d=0;d<3;d++){e[0]=h[r[d]],e[1]=h[r[(d+1)%3]],e.sort(n),void 0===i[x=e.toString()]&&(l[2*s]=e[0],l[2*s+1]=e[1],i[x]=!0,s++)}var p=new Float32Array(2*s*3);for(c=0,u=s;c<u;c++)for(d=0;d<2;d++){var f=o[l[2*c+d]];p[(M=6*c+3*d)+0]=f.x,p[M+1]=f.y,p[M+2]=f.z}this.addAttribute("position",new tt.BufferAttribute(p,3))}else if(t instanceof tt.BufferGeometry)if(null!==t.index){var m=t.index.array,g=(o=t.attributes.position,t.groups);s=0;0===g.length&&t.addGroup(0,m.length);l=new Uint32Array(2*m.length);for(var v=0,y=g.length;v<y;++v)for(var _=g[v],b=_.start,w=(c=b,b+_.count);c<w;c+=3)for(d=0;d<3;d++){var x;e[0]=m[c+d],e[1]=m[c+(d+1)%3],e.sort(n),void 0===i[x=e.toString()]&&(l[2*s]=e[0],l[2*s+1]=e[1],i[x]=!0,s++)}for(p=new Float32Array(2*s*3),c=0,u=s;c<u;c++)for(d=0;d<2;d++){var M=6*c+3*d,S=l[2*c+d];p[M+0]=o.getX(S),p[M+1]=o.getY(S),p[M+2]=o.getZ(S)}this.addAttribute("position",new tt.BufferAttribute(p,3))}else{var k=(s=(o=t.attributes.position.array).length/3)/3;for(p=new Float32Array(2*s*3),c=0,u=k;c<u;c++)for(d=0;d<3;d++){var T=9*c+3*d;p[(M=18*c+6*d)+0]=o[T],p[M+1]=o[T+1],p[M+2]=o[T+2];S=9*c+(d+1)%3*3;p[M+3]=o[S],p[M+4]=o[S+1],p[M+5]=o[S+2]}this.addAttribute("position",new tt.BufferAttribute(p,3))}},tt.WireframeGeometry.prototype=Object.create(tt.BufferGeometry.prototype),tt.WireframeGeometry.prototype.constructor=tt.WireframeGeometry,tt.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new tt.BufferGeometry;n.addAttribute("position",new tt.BufferAttribute(e,3)),n.addAttribute("color",new tt.BufferAttribute(i,3));var r=new tt.LineBasicMaterial({vertexColors:tt.VertexColors});tt.LineSegments.call(this,n,r)},tt.AxisHelper.prototype=Object.create(tt.LineSegments.prototype),tt.AxisHelper.prototype.constructor=tt.AxisHelper,tt.ArrowHelper=function(){var t=new tt.Geometry;t.vertices.push(new tt.Vector3(0,0,0),new tt.Vector3(0,1,0));var e=new tt.CylinderGeometry(0,.5,1,5,1);return e.translate(0,-.5,0),function(i,n,r,o,a,s){tt.Object3D.call(this),void 0===o&&(o=16776960),void 0===r&&(r=1),void 0===a&&(a=.2*r),void 0===s&&(s=.2*a),this.position.copy(n),this.line=new tt.Line(t,new tt.LineBasicMaterial({color:o})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tt.Mesh(e,new tt.MeshBasicMaterial({color:o})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(r,a,s)}}(),tt.ArrowHelper.prototype=Object.create(tt.Object3D.prototype),tt.ArrowHelper.prototype.constructor=tt.ArrowHelper,tt.ArrowHelper.prototype.setDirection=(Q=new tt.Vector3,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Q.set(t.z,0,-t.x).normalize(),J=Math.acos(t.y),this.quaternion.setFromAxisAngle(Q,J))}),tt.ArrowHelper.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},tt.ArrowHelper.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},tt.BoxHelper=function(t){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new tt.BufferGeometry;n.setIndex(new tt.BufferAttribute(e,1)),n.addAttribute("position",new tt.BufferAttribute(i,3)),tt.LineSegments.call(this,n,new tt.LineBasicMaterial({color:16776960})),void 0!==t&&this.update(t)},tt.BoxHelper.prototype=Object.create(tt.LineSegments.prototype),tt.BoxHelper.prototype.constructor=tt.BoxHelper,tt.BoxHelper.prototype.update=function(){var t=new tt.Box3;return function(e){if(t.setFromObject(e),!t.isEmpty()){var i=t.min,n=t.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=i.x,o[4]=n.y,o[5]=n.z,o[6]=i.x,o[7]=i.y,o[8]=n.z,o[9]=n.x,o[10]=i.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=i.z,o[15]=i.x,o[16]=n.y,o[17]=i.z,o[18]=i.x,o[19]=i.y,o[20]=i.z,o[21]=n.x,o[22]=i.y,o[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),tt.BoundingBoxHelper=function(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new tt.Box3,tt.Mesh.call(this,new tt.BoxGeometry(1,1,1),new tt.MeshBasicMaterial({color:i,wireframe:!0}))},tt.BoundingBoxHelper.prototype=Object.create(tt.Mesh.prototype),tt.BoundingBoxHelper.prototype.constructor=tt.BoundingBoxHelper,tt.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},tt.CameraHelper=function(t){var e=new tt.Geometry,i=new tt.LineBasicMaterial({color:16777215,vertexColors:tt.FaceColors}),n={};function r(t,e,i){o(t,i),o(e,i)}function o(t,i){e.vertices.push(new tt.Vector3),e.colors.push(new tt.Color(i)),void 0===n[t]&&(n[t]=[]),n[t].push(e.vertices.length-1)}r("n1","n2",16755200),r("n2","n4",16755200),r("n4","n3",16755200),r("n3","n1",16755200),r("f1","f2",16755200),r("f2","f4",16755200),r("f4","f3",16755200),r("f3","f1",16755200),r("n1","f1",16755200),r("n2","f2",16755200),r("n3","f3",16755200),r("n4","f4",16755200),r("p","n1",16711680),r("p","n2",16711680),r("p","n3",16711680),r("p","n4",16711680),r("u1","u2",43775),r("u2","u3",43775),r("u3","u1",43775),r("c","t",16777215),r("p","c",3355443),r("cn1","cn2",3355443),r("cn3","cn4",3355443),r("cf1","cf2",3355443),r("cf3","cf4",3355443),tt.LineSegments.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},tt.CameraHelper.prototype=Object.create(tt.LineSegments.prototype),tt.CameraHelper.prototype.constructor=tt.CameraHelper,tt.CameraHelper.prototype.update=function(){var t,e,i=new tt.Vector3,n=new tt.Camera;function r(r,o,a,s){i.set(o,a,s).unproject(n);var l=e[r];if(void 0!==l)for(var c=0,u=l.length;c<u;c++)t.vertices[l[c]].copy(i)}return function(){t=this.geometry,e=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),r("c",0,0,-1),r("t",0,0,1),r("n1",-1,-1,-1),r("n2",1,-1,-1),r("n3",-1,1,-1),r("n4",1,1,-1),r("f1",-1,-1,1),r("f2",1,-1,1),r("f3",-1,1,1),r("f4",1,1,1),r("u1",.7,1.1,-1),r("u2",-.7,1.1,-1),r("u3",0,2,-1),r("cf1",-1,0,1),r("cf2",1,0,1),r("cf3",0,-1,1),r("cf4",0,1,1),r("cn1",-1,0,-1),r("cn2",1,0,-1),r("cn3",0,-1,-1),r("cn4",0,1,-1),t.verticesNeedUpdate=!0}}(),tt.DirectionalLightHelper=function(t,e){tt.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,e=e||1;var i=new tt.Geometry;i.vertices.push(new tt.Vector3(-e,e,0),new tt.Vector3(e,e,0),new tt.Vector3(e,-e,0),new tt.Vector3(-e,-e,0),new tt.Vector3(-e,e,0));var n=new tt.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new tt.Line(i,n),this.add(this.lightPlane),(i=new tt.Geometry).vertices.push(new tt.Vector3,new tt.Vector3),(n=new tt.LineBasicMaterial({fog:!1})).color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new tt.Line(i,n),this.add(this.targetLine),this.update()},tt.DirectionalLightHelper.prototype=Object.create(tt.Object3D.prototype),tt.DirectionalLightHelper.prototype.constructor=tt.DirectionalLightHelper,tt.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},tt.DirectionalLightHelper.prototype.update=function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(i),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(i),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),tt.EdgesHelper=function(t,e,i){var n=void 0!==e?e:16777215;tt.LineSegments.call(this,new tt.EdgesGeometry(t.geometry,i),new tt.LineBasicMaterial({color:n})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},tt.EdgesHelper.prototype=Object.create(tt.LineSegments.prototype),tt.EdgesHelper.prototype.constructor=tt.EdgesHelper,tt.FaceNormalsHelper=function(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s instanceof tt.Geometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new tt.BufferGeometry,c=new tt.Float32Attribute(2*a*3,3);l.addAttribute("position",c),tt.LineSegments.call(this,l,new tt.LineBasicMaterial({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},tt.FaceNormalsHelper.prototype=Object.create(tt.LineSegments.prototype),tt.FaceNormalsHelper.prototype.constructor=tt.FaceNormalsHelper,tt.FaceNormalsHelper.prototype.update=function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Matrix3;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,c=0,u=s.length;c<u;c++){var h=s[c],d=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(n),e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),r.setXYZ(l,t.x,t.y,t.z),l+=1,r.setXYZ(l,e.x,e.y,e.z),l+=1}return r.needsUpdate=!0,this}}(),tt.GridHelper=function(t,e){var i=new tt.Geometry,n=new tt.LineBasicMaterial({vertexColors:tt.VertexColors});this.color1=new tt.Color(4473924),this.color2=new tt.Color(8947848);for(var r=-t;r<=t;r+=e){i.vertices.push(new tt.Vector3(-t,0,r),new tt.Vector3(t,0,r),new tt.Vector3(r,0,-t),new tt.Vector3(r,0,t));var o=0===r?this.color1:this.color2;i.colors.push(o,o,o,o)}tt.LineSegments.call(this,i,n)},tt.GridHelper.prototype=Object.create(tt.LineSegments.prototype),tt.GridHelper.prototype.constructor=tt.GridHelper,tt.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},tt.HemisphereLightHelper=function(t,e){tt.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new tt.Color,new tt.Color];var i=new tt.SphereGeometry(e,4,2);i.rotateX(-Math.PI/2);for(var n=0;n<8;n++)i.faces[n].color=this.colors[n<4?0:1];var r=new tt.MeshBasicMaterial({vertexColors:tt.FaceColors,wireframe:!0});this.lightSphere=new tt.Mesh(i,r),this.add(this.lightSphere),this.update()},tt.HemisphereLightHelper.prototype=Object.create(tt.Object3D.prototype),tt.HemisphereLightHelper.prototype.constructor=tt.HemisphereLightHelper,tt.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},tt.HemisphereLightHelper.prototype.update=(Z=new tt.Vector3,function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(Z.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}),tt.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var i=new tt.SphereGeometry(e,4,2),n=new tt.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),tt.Mesh.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},tt.PointLightHelper.prototype=Object.create(tt.Mesh.prototype),tt.PointLightHelper.prototype.constructor=tt.PointLightHelper,tt.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},tt.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},tt.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new tt.Geometry,i=0;i<this.bones.length;i++){this.bones[i].parent instanceof tt.Bone&&(e.vertices.push(new tt.Vector3),e.vertices.push(new tt.Vector3),e.colors.push(new tt.Color(0,0,1)),e.colors.push(new tt.Color(0,1,0)))}e.dynamic=!0;var n=new tt.LineBasicMaterial({vertexColors:tt.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});tt.LineSegments.call(this,e,n),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},tt.SkeletonHelper.prototype=Object.create(tt.LineSegments.prototype),tt.SkeletonHelper.prototype.constructor=tt.SkeletonHelper,tt.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof tt.Bone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},tt.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new tt.Matrix4).getInverse(this.root.matrixWorld),i=new tt.Matrix4,n=0,r=0;r<this.bones.length;r++){var o=this.bones[r];o.parent instanceof tt.Bone&&(i.multiplyMatrices(e,o.matrixWorld),t.vertices[n].setFromMatrixPosition(i),i.multiplyMatrices(e,o.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(i),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},tt.SpotLightHelper=function(t){tt.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new tt.CylinderGeometry(0,1,1,8,1,!0);e.translate(0,-.5,0),e.rotateX(-Math.PI/2);var i=new tt.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new tt.Mesh(e,i),this.add(this.cone),this.update()},tt.SpotLightHelper.prototype=Object.create(tt.Object3D.prototype),tt.SpotLightHelper.prototype.constructor=tt.SpotLightHelper,tt.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},tt.SpotLightHelper.prototype.update=function(){var t=new tt.Vector3,e=new tt.Vector3;return function(){var i=this.light.distance?this.light.distance:1e4,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),tt.VertexNormalsHelper=function(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s instanceof tt.Geometry?a=3*s.faces.length:s instanceof tt.BufferGeometry&&(a=s.attributes.normal.count);var l=new tt.BufferGeometry,c=new tt.Float32Attribute(2*a*3,3);l.addAttribute("position",c),tt.LineSegments.call(this,l,new tt.LineBasicMaterial({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},tt.VertexNormalsHelper.prototype=Object.create(tt.LineSegments.prototype),tt.VertexNormalsHelper.prototype.constructor=tt.VertexNormalsHelper,tt.VertexNormalsHelper.prototype.update=function(){var t=new tt.Vector3,e=new tt.Vector3,i=new tt.Matrix3;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a instanceof tt.Geometry)for(var s=a.vertices,l=a.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[n[p]]],g=d.vertexNormals[p];t.copy(m).applyMatrix4(r),e.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}else if(a instanceof tt.BufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(c=0,p=0,f=v.count;p<f;p++)t.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}return o.needsUpdate=!0,this}}(),tt.WireframeHelper=function(t,e){var i=void 0!==e?e:16777215;tt.LineSegments.call(this,new tt.WireframeGeometry(t.geometry),new tt.LineBasicMaterial({color:i})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},tt.WireframeHelper.prototype=Object.create(tt.LineSegments.prototype),tt.WireframeHelper.prototype.constructor=tt.WireframeHelper,tt.ImmediateRenderObject=function(t){tt.Object3D.call(this),this.material=t,this.render=function(t){}},tt.ImmediateRenderObject.prototype=Object.create(tt.Object3D.prototype),tt.ImmediateRenderObject.prototype.constructor=tt.ImmediateRenderObject,tt.MorphBlendMesh=function(t,e){tt.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,n=i-1,r=i/1;this.createAnimation("__default",0,n,r),this.setAnimationWeight("__default",1)},tt.MorphBlendMesh.prototype=Object.create(tt.Mesh.prototype),tt.MorphBlendMesh.prototype.constructor=tt.MorphBlendMesh,tt.MorphBlendMesh.prototype.createAnimation=function(t,e,i,n){var r={start:e,end:i,length:i-e+1,fps:n,duration:(i-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=r,this.animationsList.push(r)},tt.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\d+)/i,n={},r=this.geometry,o=0,a=r.morphTargets.length;o<a;o++){var s=r.morphTargets[o].name.match(i);if(s&&s.length>1)n[l=s[1]]||(n[l]={start:1/0,end:-1/0}),o<(c=n[l]).start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}for(var l in n){var c=n[l];this.createAnimation(l,c.start,c.end,t)}this.firstAnimation=e},tt.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},tt.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},tt.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},tt.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},tt.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},tt.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},tt.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},tt.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},tt.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},tt.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},tt.MorphBlendMesh.prototype.update=function(t){for(var e=0,i=this.animationsList.length;e<i;e++){var n=this.animationsList[e];if(n.active){var r=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var o=n.start+tt.Math.clamp(Math.floor(n.time/r),0,n.length-1),a=n.weight;o!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*a,this.morphTargetInfluences[o]=0,n.lastFrame=n.currentFrame,n.currentFrame=o);var s=n.time%r/r;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*a,this.morphTargetInfluences[n.lastFrame]=(1-s)*a):this.morphTargetInfluences[n.currentFrame]=a}}},t.exports&&(e=t.exports=tt),e.THREE=tt},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e){t.exports=!1},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(59)("meta"),o=i(11),a=i(30),s=i(17).f,l=0,c=Object.isExtensible||function(){return!0},u=!i(10)((function(){return c(Object.preventExtensions({}))})),h=function(t){s(t,r,{value:{i:"O"+ ++l,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==n(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!c(t))return"F";if(!e)return"E";h(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!c(t))return!0;if(!e)return!1;h(t)}return t[r].w},onFreeze:function(t){return u&&d.NEED&&c(t)&&!a(t,r)&&h(t),t}}},function(t,e,i){var n=i(14)("unscopables"),r=Array.prototype;null==r[n]&&i(26)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(200),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */a=function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){o(t,e,i[e])}))}return t}function l(t){var i=this,n=!1;return e(this).one(c.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||c.triggerTransitionEnd(i)}),t),this}e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration"),n=e(t).css("transition-delay"),r=parseFloat(i),o=parseFloat(n);return r||o?(i=i.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(i)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n],o=e[n],a=o&&c.isElement(o)?"element":(s=o,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+r+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=l,e.event.special[c.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var u="alert",h=e.fn[u],d={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},p="alert",f="fade",m="show",g=function(){function t(t){this._element=t}var i=t.prototype;return i.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},i.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},i._getRootElement=function(t){var i=c.getSelectorFromElement(t),n=!1;return i&&(n=document.querySelector(i)),n||(n=e(t).closest("."+p)[0]),n},i._triggerCloseEvent=function(t){var i=e.Event(d.CLOSE);return e(t).trigger(i),i},i._removeElement=function(t){var i=this;if(e(t).removeClass(m),e(t).hasClass(f)){var n=c.getTransitionDurationFromElement(t);e(t).one(c.TRANSITION_END,(function(e){return i._destroyElement(t,e)})).emulateTransitionEnd(n)}else this._destroyElement(t)},i._destroyElement=function(t){e(t).detach().trigger(d.CLOSED).remove()},t._jQueryInterface=function(i){return this.each((function(){var n=e(this),r=n.data("bs.alert");r||(r=new t(this),n.data("bs.alert",r)),"close"===i&&r[i](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(d.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),e.fn[u]=g._jQueryInterface,e.fn[u].Constructor=g,e.fn[u].noConflict=function(){return e.fn[u]=h,g._jQueryInterface};var v=e.fn.button,y="active",_="btn",b="focus",w='[data-toggle^="button"]',x='[data-toggle="buttons"]',M='input:not([type="hidden"])',S=".active",k=".btn",T={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},C=function(){function t(t){this._element=t}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,n=e(this._element).closest(x)[0];if(n){var r=this._element.querySelector(M);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(y))t=!1;else{var o=n.querySelector(S);o&&e(o).removeClass(y)}if(t){if(r.hasAttribute("disabled")||n.hasAttribute("disabled")||r.classList.contains("disabled")||n.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(y),e(r).trigger("change")}r.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(y)),t&&e(this._element).toggleClass(y)},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each((function(){var n=e(this).data("bs.button");n||(n=new t(this),e(this).data("bs.button",n)),"toggle"===i&&n[i]()}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(T.CLICK_DATA_API,w,(function(t){t.preventDefault();var i=t.target;e(i).hasClass(_)||(i=e(i).closest(k)),C._jQueryInterface.call(e(i),"toggle")})).on(T.FOCUS_BLUR_DATA_API,w,(function(t){var i=e(t.target).closest(k)[0];e(i).toggleClass(b,/^focus(in)?$/.test(t.type))})),e.fn.button=C._jQueryInterface,e.fn.button.Constructor=C,e.fn.button.noConflict=function(){return e.fn.button=v,C._jQueryInterface};var E="carousel",A=".bs.carousel",L=e.fn[E],D={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},P={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},O="next",I="prev",N="left",R="right",F={SLIDE:"slide"+A,SLID:"slid"+A,KEYDOWN:"keydown"+A,MOUSEENTER:"mouseenter"+A,MOUSELEAVE:"mouseleave"+A,TOUCHSTART:"touchstart"+A,TOUCHMOVE:"touchmove"+A,TOUCHEND:"touchend"+A,POINTERDOWN:"pointerdown"+A,POINTERUP:"pointerup"+A,DRAG_START:"dragstart"+A,LOAD_DATA_API:"load"+A+".data-api",CLICK_DATA_API:"click"+A+".data-api"},j="carousel",U="active",Y="slide",V="carousel-item-right",H="carousel-item-left",B="carousel-item-next",z="carousel-item-prev",W="pointer-event",q=".active",G=".active.carousel-item",$=".carousel-item",X=".carousel-item img",K=".carousel-item-next, .carousel-item-prev",J=".carousel-indicators",Q="[data-slide], [data-slide-to]",Z='[data-ride="carousel"]',tt={TOUCH:"touch",PEN:"pen"},et=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(J),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var i=t.prototype;return i.next=function(){this._isSliding||this._slide(O)},i.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},i.prev=function(){this._isSliding||this._slide(I)},i.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(K)&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},i.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},i.to=function(t){var i=this;this._activeElement=this._element.querySelector(G);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(F.SLID,(function(){return i.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var r=t>n?O:I;this._slide(r,this._items[t])}},i.dispose=function(){e(this._element).off(A),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},i._getConfig=function(t){return t=a({},D,t),c.typeCheckConfig(E,t,P),t},i._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},i._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(F.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on(F.MOUSEENTER,(function(e){return t.pause(e)})).on(F.MOUSELEAVE,(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},i._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var i=function(e){t._pointerEvent&&tt[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&tt[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(X)).on(F.DRAG_START,(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on(F.POINTERDOWN,(function(t){return i(t)})),e(this._element).on(F.POINTERUP,(function(t){return n(t)})),this._element.classList.add(W)):(e(this._element).on(F.TOUCHSTART,(function(t){return i(t)})),e(this._element).on(F.TOUCHMOVE,(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on(F.TOUCHEND,(function(t){return n(t)})))}},i._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},i._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll($)):[],this._items.indexOf(t)},i._getItemByDirection=function(t,e){var i=t===O,n=t===I,r=this._getItemIndex(e),o=this._items.length-1;if((n&&0===r||i&&r===o)&&!this._config.wrap)return e;var a=(r+(t===I?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},i._triggerSlideEvent=function(t,i){var n=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(G)),o=e.Event(F.SLIDE,{relatedTarget:t,direction:i,from:r,to:n});return e(this._element).trigger(o),o},i._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(q));e(i).removeClass(U);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(U)}},i._slide=function(t,i){var n,r,o,a=this,s=this._element.querySelector(G),l=this._getItemIndex(s),u=i||s&&this._getItemByDirection(t,s),h=this._getItemIndex(u),d=Boolean(this._interval);if(t===O?(n=H,r=B,o=N):(n=V,r=z,o=R),u&&e(u).hasClass(U))this._isSliding=!1;else if(!this._triggerSlideEvent(u,o).isDefaultPrevented()&&s&&u){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(u);var p=e.Event(F.SLID,{relatedTarget:u,direction:o,from:l,to:h});if(e(this._element).hasClass(Y)){e(u).addClass(r),c.reflow(u),e(s).addClass(n),e(u).addClass(n);var f=parseInt(u.getAttribute("data-interval"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var m=c.getTransitionDurationFromElement(s);e(s).one(c.TRANSITION_END,(function(){e(u).removeClass(n+" "+r).addClass(U),e(s).removeClass(U+" "+r+" "+n),a._isSliding=!1,setTimeout((function(){return e(a._element).trigger(p)}),0)})).emulateTransitionEnd(m)}else e(s).removeClass(U),e(u).addClass(U),this._isSliding=!1,e(this._element).trigger(p);d&&this.cycle()}},t._jQueryInterface=function(i){return this.each((function(){var n=e(this).data("bs.carousel"),r=a({},D,e(this).data());"object"===s(i)&&(r=a({},r,i));var o="string"==typeof i?i:r.slide;if(n||(n=new t(this,r),e(this).data("bs.carousel",n)),"number"==typeof i)n.to(i);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}))},t._dataApiClickHandler=function(i){var n=c.getSelectorFromElement(this);if(n){var r=e(n)[0];if(r&&e(r).hasClass(j)){var o=a({},e(r).data(),e(this).data()),s=this.getAttribute("data-slide-to");s&&(o.interval=!1),t._jQueryInterface.call(e(r),o),s&&e(r).data("bs.carousel").to(s),i.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return D}}]),t}();e(document).on(F.CLICK_DATA_API,Q,et._dataApiClickHandler),e(window).on(F.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(Z)),i=0,n=t.length;i<n;i++){var r=e(t[i]);et._jQueryInterface.call(r,r.data())}})),e.fn[E]=et._jQueryInterface,e.fn[E].Constructor=et,e.fn[E].noConflict=function(){return e.fn[E]=L,et._jQueryInterface};var it="collapse",nt=e.fn[it],rt={toggle:!0,parent:""},ot={toggle:"boolean",parent:"(string|element)"},at={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},st="show",lt="collapse",ct="collapsing",ut="collapsed",ht="width",dt="height",pt=".show, .collapsing",ft='[data-toggle="collapse"]',mt=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(ft)),n=0,r=i.length;n<r;n++){var o=i[n],a=c.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter((function(e){return e===t}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var i=t.prototype;return i.toggle=function(){e(this._element).hasClass(st)?this.hide():this.show()},i.show=function(){var i,n,r=this;if(!(this._isTransitioning||e(this._element).hasClass(st)||(this._parent&&0===(i=[].slice.call(this._parent.querySelectorAll(pt)).filter((function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(lt)}))).length&&(i=null),i&&(n=e(i).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var o=e.Event(at.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){i&&(t._jQueryInterface.call(e(i).not(this._selector),"hide"),n||e(i).data("bs.collapse",null));var a=this._getDimension();e(this._element).removeClass(lt).addClass(ct),this._element.style[a]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(ut).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),l=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(){e(r._element).removeClass(ct).addClass(lt).addClass(st),r._element.style[a]="",r.setTransitioning(!1),e(r._element).trigger(at.SHOWN)})).emulateTransitionEnd(l),this._element.style[a]=this._element[s]+"px"}}},i.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(st)){var i=e.Event(at.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",c.reflow(this._element),e(this._element).addClass(ct).removeClass(lt).removeClass(st);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var a=this._triggerArray[o],s=c.getSelectorFromElement(a);null!==s&&(e([].slice.call(document.querySelectorAll(s))).hasClass(st)||e(a).addClass(ut).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var l=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass(ct).addClass(lt).trigger(at.HIDDEN)})).emulateTransitionEnd(l)}}},i.setTransitioning=function(t){this._isTransitioning=t},i.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},i._getConfig=function(t){return(t=a({},rt,t)).toggle=Boolean(t.toggle),c.typeCheckConfig(it,t,ot),t},i._getDimension=function(){return e(this._element).hasClass(ht)?ht:dt},i._getParent=function(){var i,n=this;c.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(i.querySelectorAll(r));return e(o).each((function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),i},i._addAriaAndCollapsedClass=function(t,i){var n=e(t).hasClass(st);i.length&&e(i).toggleClass(ut,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=c.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(i){return this.each((function(){var n=e(this),r=n.data("bs.collapse"),o=a({},rt,n.data(),"object"===s(i)&&i?i:{});if(!r&&o.toggle&&/show|hide/.test(i)&&(o.toggle=!1),r||(r=new t(this,o),n.data("bs.collapse",r)),"string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return rt}}]),t}();e(document).on(at.CLICK_DATA_API,ft,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),n=c.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(n));e(r).each((function(){var t=e(this),n=t.data("bs.collapse")?"toggle":i.data();mt._jQueryInterface.call(t,n)}))})),e.fn[it]=mt._jQueryInterface,e.fn[it].Constructor=mt,e.fn[it].noConflict=function(){return e.fn[it]=nt,mt._jQueryInterface};var gt="dropdown",vt=e.fn[gt],yt=new RegExp("38|40|27"),_t={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},bt="disabled",wt="show",xt="dropup",Mt="dropright",St="dropleft",kt="dropdown-menu-right",Tt="position-static",Ct='[data-toggle="dropdown"]',Et=".dropdown form",At=".dropdown-menu",Lt=".navbar-nav",Dt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Pt="top-start",Ot="top-end",It="bottom-start",Nt="bottom-end",Rt="right-start",Ft="left-start",jt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Ut={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Yt=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var n=t.prototype;return n.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(bt)){var n=t._getParentFromElement(this._element),r=e(this._menu).hasClass(wt);if(t._clearMenus(),!r){var o={relatedTarget:this._element},a=e.Event(_t.SHOW,o);if(e(n).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=n:c.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(n).addClass(Tt),this._popper=new i(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(n).closest(Lt).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(wt),e(n).toggleClass(wt).trigger(e.Event(_t.SHOWN,o))}}}},n.show=function(){if(!(this._element.disabled||e(this._element).hasClass(bt)||e(this._menu).hasClass(wt))){var i={relatedTarget:this._element},n=e.Event(_t.SHOW,i),r=t._getParentFromElement(this._element);e(r).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(wt),e(r).toggleClass(wt).trigger(e.Event(_t.SHOWN,i)))}},n.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(bt)&&e(this._menu).hasClass(wt)){var i={relatedTarget:this._element},n=e.Event(_t.HIDE,i),r=t._getParentFromElement(this._element);e(r).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(wt),e(r).toggleClass(wt).trigger(e.Event(_t.HIDDEN,i)))}},n.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},n._addEventListeners=function(){var t=this;e(this._element).on(_t.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},n._getConfig=function(t){return t=a({},this.constructor.Default,e(this._element).data(),t),c.typeCheckConfig(gt,t,this.constructor.DefaultType),t},n._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(At))}return this._menu},n._getPlacement=function(){var t=e(this._element.parentNode),i=It;return t.hasClass(xt)?(i=Pt,e(this._menu).hasClass(kt)&&(i=Ot)):t.hasClass(Mt)?i=Rt:t.hasClass(St)?i=Ft:e(this._menu).hasClass(kt)&&(i=Nt),i},n._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},n._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},n._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(i){return this.each((function(){var n=e(this).data("bs.dropdown"),r="object"===s(i)?i:null;if(n||(n=new t(this,r),e(this).data("bs.dropdown",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}}))},t._clearMenus=function(i){if(!i||3!==i.which&&("keyup"!==i.type||9===i.which))for(var n=[].slice.call(document.querySelectorAll(Ct)),r=0,o=n.length;r<o;r++){var a=t._getParentFromElement(n[r]),s=e(n[r]).data("bs.dropdown"),l={relatedTarget:n[r]};if(i&&"click"===i.type&&(l.clickEvent=i),s){var c=s._menu;if(e(a).hasClass(wt)&&!(i&&("click"===i.type&&/input|textarea/i.test(i.target.tagName)||"keyup"===i.type&&9===i.which)&&e.contains(a,i.target))){var u=e.Event(_t.HIDE,l);e(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[r].setAttribute("aria-expanded","false"),e(c).removeClass(wt),e(a).removeClass(wt).trigger(e.Event(_t.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,i=c.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(i){if(!(/input|textarea/i.test(i.target.tagName)?32===i.which||27!==i.which&&(40!==i.which&&38!==i.which||e(i.target).closest(At).length):!yt.test(i.which))&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!e(this).hasClass(bt))){var n=t._getParentFromElement(this),r=e(n).hasClass(wt);if(r&&(!r||27!==i.which&&32!==i.which)){var o=[].slice.call(n.querySelectorAll(Dt));if(0!==o.length){var a=o.indexOf(i.target);38===i.which&&a>0&&a--,40===i.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}else{if(27===i.which){var s=n.querySelector(Ct);e(s).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return jt}},{key:"DefaultType",get:function(){return Ut}}]),t}();e(document).on(_t.KEYDOWN_DATA_API,Ct,Yt._dataApiKeydownHandler).on(_t.KEYDOWN_DATA_API,At,Yt._dataApiKeydownHandler).on(_t.CLICK_DATA_API+" "+_t.KEYUP_DATA_API,Yt._clearMenus).on(_t.CLICK_DATA_API,Ct,(function(t){t.preventDefault(),t.stopPropagation(),Yt._jQueryInterface.call(e(this),"toggle")})).on(_t.CLICK_DATA_API,Et,(function(t){t.stopPropagation()})),e.fn[gt]=Yt._jQueryInterface,e.fn[gt].Constructor=Yt,e.fn[gt].noConflict=function(){return e.fn[gt]=vt,Yt._jQueryInterface};var Vt=e.fn.modal,Ht={backdrop:!0,keyboard:!0,focus:!0,show:!0},Bt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},zt={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Wt="modal-dialog-scrollable",qt="modal-scrollbar-measure",Gt="modal-backdrop",$t="modal-open",Xt="fade",Kt="show",Jt=".modal-dialog",Qt=".modal-body",Zt='[data-toggle="modal"]',te='[data-dismiss="modal"]',ee=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ie=".sticky-top",ne=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(Jt),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var i=t.prototype;return i.toggle=function(t){return this._isShown?this.hide():this.show(t)},i.show=function(t){var i=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Xt)&&(this._isTransitioning=!0);var n=e.Event(zt.SHOW,{relatedTarget:t});e(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(zt.CLICK_DISMISS,te,(function(t){return i.hide(t)})),e(this._dialog).on(zt.MOUSEDOWN_DISMISS,(function(){e(i._element).one(zt.MOUSEUP_DISMISS,(function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return i._showElement(t)})))}},i.hide=function(t){var i=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=e.Event(zt.HIDE);if(e(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(Xt);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(zt.FOCUSIN),e(this._element).removeClass(Kt),e(this._element).off(zt.CLICK_DISMISS),e(this._dialog).off(zt.MOUSEDOWN_DISMISS),r){var o=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(t){return i._hideModal(t)})).emulateTransitionEnd(o)}else this._hideModal()}}},i.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off(zt.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(t){return t=a({},Ht,t),c.typeCheckConfig("modal",t,Bt),t},i._showElement=function(t){var i=this,n=e(this._element).hasClass(Xt);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Wt)?this._dialog.querySelector(Qt).scrollTop=0:this._element.scrollTop=0,n&&c.reflow(this._element),e(this._element).addClass(Kt),this._config.focus&&this._enforceFocus();var r=e.Event(zt.SHOWN,{relatedTarget:t}),o=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(r)};if(n){var a=c.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(c.TRANSITION_END,o).emulateTransitionEnd(a)}else o()},i._enforceFocus=function(){var t=this;e(document).off(zt.FOCUSIN).on(zt.FOCUSIN,(function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()}))},i._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(zt.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(zt.KEYDOWN_DISMISS)},i._setResizeEvent=function(){var t=this;this._isShown?e(window).on(zt.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(zt.RESIZE)},i._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass($t),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(zt.HIDDEN)}))},i._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(t){var i=this,n=e(this._element).hasClass(Xt)?Xt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Gt,n&&this._backdrop.classList.add(n),e(this._backdrop).appendTo(document.body),e(this._element).on(zt.CLICK_DISMISS,(function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())})),n&&c.reflow(this._backdrop),e(this._backdrop).addClass(Kt),!t)return;if(!n)return void t();var r=c.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(c.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Kt);var o=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Xt)){var a=c.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(c.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else t&&t()},i._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},i._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},i._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(ee)),n=[].slice.call(document.querySelectorAll(ie));e(i).each((function(i,n){var r=n.style.paddingRight,o=e(n).css("padding-right");e(n).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")})),e(n).each((function(i,n){var r=n.style.marginRight,o=e(n).css("margin-right");e(n).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass($t)},i._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(ee));e(t).each((function(t,i){var n=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=n||""}));var i=[].slice.call(document.querySelectorAll(""+ie));e(i).each((function(t,i){var n=e(i).data("margin-right");void 0!==n&&e(i).css("margin-right",n).removeData("margin-right")}));var n=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},i._getScrollbarWidth=function(){var t=document.createElement("div");t.className=qt,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(i,n){return this.each((function(){var r=e(this).data("bs.modal"),o=a({},Ht,e(this).data(),"object"===s(i)&&i?i:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i](n)}else o.show&&r.show(n)}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ht}}]),t}();e(document).on(zt.CLICK_DATA_API,Zt,(function(t){var i,n=this,r=c.getSelectorFromElement(this);r&&(i=document.querySelector(r));var o=e(i).data("bs.modal")?"toggle":a({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var s=e(i).one(zt.SHOW,(function(t){t.isDefaultPrevented()||s.one(zt.HIDDEN,(function(){e(n).is(":visible")&&n.focus()}))}));ne._jQueryInterface.call(e(i),o,this)})),e.fn.modal=ne._jQueryInterface,e.fn.modal.Constructor=ne,e.fn.modal.noConflict=function(){return e.fn.modal=Vt,ne._jQueryInterface};var re=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],oe={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function le(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var n=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),o=[].slice.call(n.body.querySelectorAll("*")),a=function(t,i){var n=o[t],a=n.nodeName.toLowerCase();if(-1===r.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var s=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[a]||[]);s.forEach((function(t){(function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===re.indexOf(i)||Boolean(t.nodeValue.match(ae)||t.nodeValue.match(se));for(var n=e.filter((function(t){return t instanceof RegExp})),r=0,o=n.length;r<o;r++)if(i.match(n[r]))return!0;return!1})(t,l)||n.removeAttribute(t.nodeName)}))},s=0,l=o.length;s<l;s++)a(s);return n.body.innerHTML}var ce="tooltip",ue=e.fn[ce],he=new RegExp("(^|\\s)bs-tooltip\\S+","g"),de=["sanitize","whiteList","sanitizeFn"],pe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},fe={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},me={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:oe},ge="show",ve="out",ye={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},_e="fade",be="show",we=".tooltip-inner",xe=".arrow",Me="hover",Se="focus",ke="click",Te="manual",Ce=function(){function t(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,n=e(t.currentTarget).data(i);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(e(this.getTipElement()).hasClass(be))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);var r=c.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!o)return;var a=this.getTipElement(),s=c.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(a).addClass(_e);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var h=this._getContainer();e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,a,{placement:u,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:xe},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(a).addClass(be),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),i===ve&&t._leave(null,t)};if(e(this.tip).hasClass(_e)){var p=c.getTransitionDurationFromElement(this.tip);e(this.tip).one(c.TRANSITION_END,d).emulateTransitionEnd(p)}else d()}},n.hide=function(t){var i=this,n=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){i._hoverState!==ge&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(n).removeClass(be),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[ke]=!1,this._activeTrigger[Se]=!1,this._activeTrigger[Me]=!1,e(this.tip).hasClass(_e)){var a=c.getTransitionDurationFromElement(n);e(n).one(c.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},n.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(we)),this.getTitle()),e(t).removeClass(_e+" "+be)},n.setElementContent=function(t,i){"object"!==s(i)||!i.nodeType&&!i.jquery?this.config.html?(this.config.sanitize&&(i=le(i,this.config.whiteList,this.config.sanitizeFn)),t.html(i)):t.text(i):this.config.html?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text())},n.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},n._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},n._getAttachment=function(t){return fe[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(i!==Te){var n=i===Me?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=i===Me?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(n,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}})),e(this.element).closest(".modal").on("hide.bs.modal",(function(){t.element&&t.hide()})),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=s(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,i){var n=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(n))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusin"===t.type?Se:Me]=!0),e(i.getTipElement()).hasClass(be)||i._hoverState===ge?i._hoverState=ge:(clearTimeout(i._timeout),i._hoverState=ge,i.config.delay&&i.config.delay.show?i._timeout=setTimeout((function(){i._hoverState===ge&&i.show()}),i.config.delay.show):i.show())},n._leave=function(t,i){var n=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(n))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusout"===t.type?Se:Me]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=ve,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout((function(){i._hoverState===ve&&i.hide()}),i.config.delay.hide):i.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var i=e(this.element).data();return Object.keys(i).forEach((function(t){-1!==de.indexOf(t)&&delete i[t]})),"number"==typeof(t=a({},this.constructor.Default,i,"object"===s(t)&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),c.typeCheckConfig(ce,t,this.constructor.DefaultType),t.sanitize&&(t.template=le(t.template,t.whiteList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(he);null!==i&&i.length&&t.removeClass(i.join(""))},n._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(_e),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},t._jQueryInterface=function(i){return this.each((function(){var n=e(this).data("bs.tooltip"),r="object"===s(i)&&i;if((n||!/dispose|hide/.test(i))&&(n||(n=new t(this,r),e(this).data("bs.tooltip",n)),"string"==typeof i)){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return me}},{key:"NAME",get:function(){return ce}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return ye}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return pe}}]),t}();e.fn[ce]=Ce._jQueryInterface,e.fn[ce].Constructor=Ce,e.fn[ce].noConflict=function(){return e.fn[ce]=ue,Ce._jQueryInterface};var Ee="popover",Ae=e.fn[Ee],Le=new RegExp("(^|\\s)bs-popover\\S+","g"),De=a({},Ce.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Pe=a({},Ce.DefaultType,{content:"(string|element|function)"}),Oe="fade",Ie="show",Ne=".popover-header",Re=".popover-body",Fe={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},je=function(t){var i,n;function o(){return t.apply(this,arguments)||this}n=t,(i=o).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},a.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},a.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(Ne),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(Re),i),t.removeClass(Oe+" "+Ie)},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(Le);null!==i&&i.length>0&&t.removeClass(i.join(""))},o._jQueryInterface=function(t){return this.each((function(){var i=e(this).data("bs.popover"),n="object"===s(t)?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new o(this,n),e(this).data("bs.popover",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return De}},{key:"NAME",get:function(){return Ee}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Fe}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Pe}}]),o}(Ce);e.fn[Ee]=je._jQueryInterface,e.fn[Ee].Constructor=je,e.fn[Ee].noConflict=function(){return e.fn[Ee]=Ae,je._jQueryInterface};var Ue="scrollspy",Ye=e.fn[Ue],Ve={offset:10,method:"auto",target:""},He={offset:"number",method:"string",target:"(string|element)"},Be={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},ze="dropdown-item",We="active",qe='[data-spy="scroll"]',Ge=".nav, .list-group",$e=".nav-link",Xe=".nav-item",Ke=".list-group-item",Je=".dropdown",Qe=".dropdown-item",Ze=".dropdown-toggle",ti="offset",ei="position",ii=function(){function t(t,i){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" "+$e+","+this._config.target+" "+Ke+","+this._config.target+" "+Qe,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Be.SCROLL,(function(t){return n._process(t)})),this.refresh(),this._process()}var i=t.prototype;return i.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?ti:ei,n="auto"===this._config.method?i:this._config.method,r=n===ei?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var i,o=c.getSelectorFromElement(t);if(o&&(i=document.querySelector(o)),i){var a=i.getBoundingClientRect();if(a.width||a.height)return[e(i)[n]().top+r,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},i.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i._getConfig=function(t){if("string"!=typeof(t=a({},Ve,"object"===s(t)&&t?t:{})).target){var i=e(t.target).attr("id");i||(i=c.getUID(Ue),e(t.target).attr("id",i)),t.target="#"+i}return c.typeCheckConfig(Ue,t,He),t},i._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},i._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},i._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},i._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=e([].slice.call(document.querySelectorAll(i.join(","))));n.hasClass(ze)?(n.closest(Je).find(Ze).addClass(We),n.addClass(We)):(n.addClass(We),n.parents(Ge).prev($e+", "+Ke).addClass(We),n.parents(Ge).prev(Xe).children($e).addClass(We)),e(this._scrollElement).trigger(Be.ACTIVATE,{relatedTarget:t})},i._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(We)})).forEach((function(t){return t.classList.remove(We)}))},t._jQueryInterface=function(i){return this.each((function(){var n=e(this).data("bs.scrollspy"),r="object"===s(i)&&i;if(n||(n=new t(this,r),e(this).data("bs.scrollspy",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ve}}]),t}();e(window).on(Be.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(qe)),i=t.length;i--;){var n=e(t[i]);ii._jQueryInterface.call(n,n.data())}})),e.fn[Ue]=ii._jQueryInterface,e.fn[Ue].Constructor=ii,e.fn[Ue].noConflict=function(){return e.fn[Ue]=Ye,ii._jQueryInterface};var ni=e.fn.tab,ri={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},oi="dropdown-menu",ai="active",si="disabled",li="fade",ci="show",ui=".dropdown",hi=".nav, .list-group",di=".active",pi="> li > .active",fi='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',mi=".dropdown-toggle",gi="> .dropdown-menu .active",vi=function(){function t(t){this._element=t}var i=t.prototype;return i.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(ai)||e(this._element).hasClass(si))){var i,n,r=e(this._element).closest(hi)[0],o=c.getSelectorFromElement(this._element);if(r){var a="UL"===r.nodeName||"OL"===r.nodeName?pi:di;n=(n=e.makeArray(e(r).find(a)))[n.length-1]}var s=e.Event(ri.HIDE,{relatedTarget:this._element}),l=e.Event(ri.SHOW,{relatedTarget:n});if(n&&e(n).trigger(s),e(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(i=document.querySelector(o)),this._activate(this._element,r);var u=function(){var i=e.Event(ri.HIDDEN,{relatedTarget:t._element}),r=e.Event(ri.SHOWN,{relatedTarget:n});e(n).trigger(i),e(t._element).trigger(r)};i?this._activate(i,i.parentNode,u):u()}}},i.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},i._activate=function(t,i,n){var r=this,o=(!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?e(i).children(di):e(i).find(pi))[0],a=n&&o&&e(o).hasClass(li),s=function(){return r._transitionComplete(t,o,n)};if(o&&a){var l=c.getTransitionDurationFromElement(o);e(o).removeClass(ci).one(c.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},i._transitionComplete=function(t,i,n){if(i){e(i).removeClass(ai);var r=e(i.parentNode).find(gi)[0];r&&e(r).removeClass(ai),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass(ai),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),c.reflow(t),t.classList.contains(li)&&t.classList.add(ci),t.parentNode&&e(t.parentNode).hasClass(oi)){var o=e(t).closest(ui)[0];if(o){var a=[].slice.call(o.querySelectorAll(mi));e(a).addClass(ai)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(i){return this.each((function(){var n=e(this),r=n.data("bs.tab");if(r||(r=new t(this),n.data("bs.tab",r)),"string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(ri.CLICK_DATA_API,fi,(function(t){t.preventDefault(),vi._jQueryInterface.call(e(this),"show")})),e.fn.tab=vi._jQueryInterface,e.fn.tab.Constructor=vi,e.fn.tab.noConflict=function(){return e.fn.tab=ni,vi._jQueryInterface};var yi=e.fn.toast,_i={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},bi="fade",wi="hide",xi="show",Mi="showing",Si={animation:"boolean",autohide:"boolean",delay:"number"},ki={animation:!0,autohide:!0,delay:500},Ti='[data-dismiss="toast"]',Ci=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var i=t.prototype;return i.show=function(){var t=this;e(this._element).trigger(_i.SHOW),this._config.animation&&this._element.classList.add(bi);var i=function(){t._element.classList.remove(Mi),t._element.classList.add(xi),e(t._element).trigger(_i.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(wi),this._element.classList.add(Mi),this._config.animation){var n=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},i.hide=function(t){var i=this;this._element.classList.contains(xi)&&(e(this._element).trigger(_i.HIDE),t?this._close():this._timeout=setTimeout((function(){i._close()}),this._config.delay))},i.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(xi)&&this._element.classList.remove(xi),e(this._element).off(_i.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},i._getConfig=function(t){return t=a({},ki,e(this._element).data(),"object"===s(t)&&t?t:{}),c.typeCheckConfig("toast",t,this.constructor.DefaultType),t},i._setListeners=function(){var t=this;e(this._element).on(_i.CLICK_DISMISS,Ti,(function(){return t.hide(!0)}))},i._close=function(){var t=this,i=function(){t._element.classList.add(wi),e(t._element).trigger(_i.HIDDEN)};if(this._element.classList.remove(xi),this._config.animation){var n=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},t._jQueryInterface=function(i){return this.each((function(){var n=e(this),r=n.data("bs.toast"),o="object"===s(i)&&i;if(r||(r=new t(this,o),n.data("bs.toast",r)),"string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i](this)}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Si}},{key:"Default",get:function(){return ki}}]),t}();e.fn.toast=Ci._jQueryInterface,e.fn.toast.Constructor=Ci,e.fn.toast.noConflict=function(){return e.fn.toast=yi,Ci._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=c,t.Alert=g,t.Button=C,t.Carousel=et,t.Collapse=mt,t.Dropdown=Yt,t.Modal=ne,t.Popover=je,t.Scrollspy=ii,t.Tab=vi,t.Toast=Ci,t.Tooltip=Ce,Object.defineProperty(t,"__esModule",{value:!0})},"object"===s(e)&&void 0!==t?a(e,i(2),i(208)):(r=[e,i(2),i(208)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){"use strict";(function(t){if(i(367),i(564),i(565),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,i){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:i})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&e(Array,t,Function.call.bind([][t]))}))}).call(this,i(51))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(164),r=i(120);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(41),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(7),r=i(165),o=i(120),a=i(119)("IE_PROTO"),s=function(){},l=function(){var t,e=i(117)("iframe"),n=o.length;for(e.style.display="none",i(121).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(164),r=i(120).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(9),r=i(17),o=i(16),a=i(14)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(39),r=i(177),o=i(132),a=i(7),s=i(15),l=i(134),c={},u={};(e=t.exports=function(t,e,i,h,d){var p,f,m,g,v=d?function(){return t}:l(t),y=n(i,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>_;_++)if((g=e?y(a(f=t[_])[0],f[1]):y(t[_]))===c||g===u)return g}else for(m=v.call(t);!(f=m.next()).done;)if((g=r(m,y,f.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,i){var n=i(27);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e,i){var n=i(11);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){i(18),i(77),i(144),i(198),i(145),i(146),i(34),i(147),i(148),i(199),i(70),i(149),i(570),i(203),i(571),i(572),i(573),i(574),i(151),i(205),i(204),i(575),i(576),i(150),i(55),i(577),i(578),i(579),i(580),i(581),i(582),i(22),i(583),i(584),i(585),i(586),i(587),i(588),i(589),i(590),i(591),i(592),i(206),i(593),i(207),i(594),i(595),i(596),i(599),i(601),i(603),i(605),i(607),i(609),i(611),i(613),i(615),i(617),i(619),i(621),i(623),i(625),i(627),i(629),i(631),i(633)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}});var e})?n.apply(e,r):n)||(t.exports=o)},function(t,e){var i={};t.exports={AddToExistingCollectionSelected:"add-to-existing-collection-selected",AddToNewCollectionRequested:"add-to-new-collection-requested",RefreshFileManager:"refresh-file-manager",SelectionModeRequested:"selection-mode-requested",AddToRecentCollectionSelected:"add-to-recent-collection-selected",ChannelPrefix:"channel:",PollingError:"polling-error",FetchingNext:"fetching-next",UpdatedByEvent:"updated-by-event",throttledTrigger:function(t,e,n){var r="cid"in t?t.cid:"_global";r in i||(i[r]={});var o=Date.now(),a=e in i[r]?o-i[r][e]:null;(null===a||a/1e3>=n)&&(t.trigger(e),i[r][e]=o)}}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={};t.exports={IS_EMBED:"isEmbed",IS_COLLECTION_EMBED:"isCollectionEmbed",COLLECTION_VIEW:"collectionView",get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t in n?n[t]:e},set:function(t,e){"object"===i(t)?Array.isArray(t)||null===t?console.warn("Call to set with non-scalar/non-object key type ignored"):n=Object.assign(n,t):n[t]=e}}},function(t,e,i){var n=i(17).f,r=i(30),o=i(14)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(40),r=i(14)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(1),r=i(45),o=i(10),a=i(123),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,i){var r={},s=o((function(){return!!a[t]()||""!=""[t]()})),l=r[t]=s?e(h):a[t];i&&(r[i]=l),n(n.P+n.F*s,"String",r)},h=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e){t.exports={}},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=t.fn.position;function u(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function h(e,i){return parseInt(t.css(e,i),10)||0}function d(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),i=o.offsetWidth,r.css("overflow","scroll"),i===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,p,f,m,g,v,y=t(e.of),_=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(_),w=(e.collision||"flip").split(" "),x={};return v=d(y),y[0].preventDefault&&(e.at="left top"),p=v.width,f=v.height,m=v.offset,g=t.extend({},m),t.each(["my","at"],(function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=a.exec(n[0]),i=a.exec(n[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?g.left+=p:"center"===e.at[0]&&(g.left+=p/2),"bottom"===e.at[1]?g.top+=f:"center"===e.at[1]&&(g.top+=f/2),l=u(x.at,p,f),g.left+=l[0],g.top+=l[1],this.each((function(){var r,o,a=t(this),s=a.outerWidth(),c=a.outerHeight(),d=h(this,"marginLeft"),v=h(this,"marginTop"),M=s+d+h(this,"marginRight")+b.width,S=c+v+h(this,"marginBottom")+b.height,k=t.extend({},g),T=u(x.my,a.outerWidth(),a.outerHeight());"right"===e.my[0]?k.left-=s:"center"===e.my[0]&&(k.left-=s/2),"bottom"===e.my[1]?k.top-=c:"center"===e.my[1]&&(k.top-=c/2),k.left+=T[0],k.top+=T[1],r={marginLeft:d,marginTop:v},t.each(["left","top"],(function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](k,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:c,collisionPosition:r,collisionWidth:M,collisionHeight:S,offset:[l[0]+T[0],l[1]+T[1]],my:e.my,at:e.at,within:_,elem:a})})),e.using&&(o=function(t){var r=m.left-k.left,o=r+p-s,l=m.top-k.top,u=l+f-c,h={target:{element:y,left:m.left,top:m.top,width:p,height:f},element:{element:a,left:k.left,top:k.top,width:s,height:c},horizontal:o<0?"left":r>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};p<s&&n(r+o)<p&&(h.horizontal="center"),f<c&&n(l+u)<f&&(h.vertical="middle"),i(n(r),n(o))>i(n(l),n(u))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),a.offset(t.extend(k,{using:o}))}))},t.ui.position={fit:{left:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,c=s+e.collisionWidth-a-o;e.collisionWidth>a?l>0&&c<=0?(n=t.left+l+e.collisionWidth-a-o,t.left+=l-n):t.left=c>0&&l<=0?o:l>c?o+a-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=i(t.left-s,t.left)},top:function(t,e){var n,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,c=s+e.collisionHeight-a-o;e.collisionHeight>a?l>0&&c<=0?(n=t.top+l+e.collisionHeight-a-o,t.top+=l-n):t.top=c>0&&l<=0?o:l>c?o+a-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=i(t.top-s,t.top)}},flip:{left:function(t,e){var i,r,o=e.within,a=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((i=t.left+d+p+f+e.collisionWidth-s-a)<0||i<n(u))&&(t.left+=d+p+f):h>0&&((r=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||n(r)<h)&&(t.left+=d+p+f)},top:function(t,e){var i,r,o=e.within,a=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];u<0?((r=t.top+p+f+m+e.collisionHeight-s-a)<0||r<n(u))&&(t.top+=p+f+m):h>0&&((i=t.top-e.collisionPosition.marginTop+p+f+m-l)>0||n(i)<h)&&(t.top+=p+f+m)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){t.exports={constants:i(8),events:i(71),helpers:i(12)}},function(t,e,i){(function(e,n){var r=i(5),o=i(3);t.exports=o.View.extend({tagName:"section",initialize:function(t){this.options=t,r.bindAll(this,"reset","addItem","removeItem","indexOf","sort","toggleEmpty","toggleEndEl","handleSync","handleDragSortUpdate"),this.$el.addClass("collection-view"),this.options.table?this.itemList=e.tbody({class:"item-list"}):(this.options.title&&this.$el.append(e.h1(this.options.title)),this.itemList=e.div({class:"item-list"})),this.itemViews=[],this.atMax=!1,this.options.title&&this.$el.append(e.h1(this.options.title)),this.underHeaderLink&&this.$el.append(this.underHeaderLink),this.$el.append(this.itemList),this.options.sortable&&n(this.itemList).sortable(this.options.sortable),this.options.sortUpdateCallback&&n(this.itemList).on("sortupdate",this.handleDragSortUpdate),this.options.emptyEl&&(n(this.options.emptyEl).addClass("empty-message"),this.emptyMessage=e.div({class:"empty-collection-view-message"}).appendTo(this.el),n(this.emptyMessage).append(this.options.emptyEl)),this.endEl=e.div({class:"end"}).appendTo(this.el),this.options.endEl&&this.endEl.appendChild(this.options.endEl),this.showMaxCountEl=!1,this.reset(),this.options.maxCountEl&&(n(this.options.maxCountEl).addClass("max-count"),this.itemList.appendChild(this.options.maxCountEl),this.showMaxCountEl?n(this.options.maxCountEl).show():n(this.options.maxCountEl).hide()),this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"remove",this.removeItem),this.listenTo(this.collection,"reset",this.reset),this.listenTo(this.collection,"sync",this.handleSync)},handleDragSortUpdate:function(t,e){var i=n(e.item).data("itemView");i?this.options.sortUpdateCallback&&this.options.sortUpdateCallback(i.model,this.indexOf(i)):console.error("Could not find an item View after a sort update",arguments)},remove:function(){o.View.prototype.remove.call(this);for(var t=0;t<this.itemViews.length;t++)this.itemViews[t].remove()},itemCount:function(){return this.itemViews.length},viewFor:function(t){for(var e=0;e<this.itemViews.length;e++)if(this.itemViews[e].model.id==t.id)return this.itemViews[e];return null},viewAt:function(t){return t>=this.itemViews.length?null:this.itemViews[t]},getFilteredAndSortedModels:function(){if(!this.options.filter&&!this.options.comparator)return this.options.collection.toArray();var t=this.options.filter?this.options.collection.filter(this.options.filter):this.options.collection.toArray();return this.options.comparator?t.sort(this.options.comparator):t},modelAt:function(t){if(t<0)return null;if(t>=this.options.collection.length)return null;var e=this.getFilteredAndSortedModels();return t>=e.length?null:e[t]},indexOf:function(t){for(var e=n(this.itemList).find(".item-view"),i=0;i<e.length;i++){var r=n(e[i]).data("itemView");if(t.cid==r.cid)return i}return-1},reset:function(){this.emptyMessage&&n(this.emptyMessage).hide(),n(this.endEl).hide();for(var t=0;t<this.itemViews.length;t++)this.itemViews[t].remove();this.itemViews=[],n(this.itemList).empty(),this.atMax=!1,this.options.maxCountEl&&n(this.options.maxCountEl).hide();for(t=0;t<this.collection.length;t++)this.addItem(this.collection.at(t),!1);this.options.sortable&&n(this.itemList).sortable(this.options.sortable),this.toggleEmpty(),this.toggleEndEl(),this.sort()},handleSync:function(){this.toggleEmpty(),this.toggleEndEl()},toggleEndEl:function(){void 0!==this.options.collection.count?this.options.collection.isNew()?n(this.endEl).hide():n(this.endEl).toggle(!this.options.collection.next):n(this.endEl).hide()},conditionallyShowUnderHeaderLink:function(){},toggleEmpty:function(){this.conditionallyShowUnderHeaderLink(),this.emptyMessage&&("function"==typeof this.collection.isNew&&-1==this.collection.count?n(this.emptyMessage).hide():n(this.emptyMessage).toggle(0==this.itemViews.length))},sort:function(){this.options.comparator&&n(this.itemList).find("> .item-view").sortElements(function(t,e){return n(t).data("itemView")&&n(e).data("itemView")?this.options.comparator(n(t).data("itemView").model,n(e).data("itemView").model):(console.error("Error sorting, no data on elements"),0)}.bind(this))},refilterItems:function(){if(this.options.filter){for(var t=[],e=0;e<this.itemViews.length;e++)0==this.options.filter(this.itemViews[e].model)&&t.push(this.itemViews[e].model);for(e=0;e<t.length;e++)this.removeItem(t[e])}},addItem:function(t,e){if(void 0===e&&(e=!0),!this.options.filter||this.options.filter(t)){if(this.options.mustBeSet)for(var i=0;i<this.options.mustBeSet.length;i++){var n=t.get(this.options.mustBeSet[i],null);if(null==n||""==n)return}if(this.options.maxCount){if(this.atMax)return;if(this.itemViews.length==this.options.maxCount)return this.atMax=!0,this.showMaxCountEl=!0,void(this.options.maxCountEl&&(this.itemViews[this.itemViews.length-1].remove(),this.itemViews=this.itemViews.slice(0,this.itemViews.length-1)))}var o={model:t,parentView:this,parent:this.collection};this.options.itemOptions&&(o=r.extend(o,this.options.itemOptions));var a=new this.options.itemView(o);this.itemViews[this.itemViews.length]=a,a.$el.addClass("item-view"),a.$el.data("itemView",a),this.options.itemClasses&&a.$el.addClass(this.options.itemClasses),this.itemList.appendChild(a.render().el),this.options.click&&a.$el.click(function(){this.view.options.click(this.itemView.model,this.itemView)}.bind({view:this,itemView:a})),this.toggleEmpty(),e&&this.sort(),this.options.draggable&&a.$el.draggable(this.options.draggable),this.options.addCallback&&this.options.addCallback(t,a)}},removeItem:function(t){for(var e=0;e<this.itemViews.length;e++)if(t.id==this.itemViews[e].model.id)return this.itemViews[e].remove(),this.options.click&&this.itemViews[e].off("click"),this.itemViews=r.without(this.itemViews,this.itemViews[e]),this.options.removeCallback&&this.options.removeCallback(t,newView),void this.toggleEmpty()}})}).call(this,i(4),i(2))},,function(t,e){t.exports={UploadProgress:"share-upload-progress",UploadOpenRequested:"upload-open-requested",UploadCollectionOpenRequested:"upload-collection-open-requested",UploadCollectionPositionThumbnailSelected:"upload-collection-position-thumbnail-selected",UploadCollectionPositionItemSelected:"upload-collection-position-item-selected",CloseRequested:"close-requested",PeopleShareRequested:"people-share-requested",DeleteRequested:"delete-requested",FavoriteSelected:"favorite-selected",CardboardEffectStarted:"cardboard-effect-started",UploadsStarting:"uploads-starting",UserSelected:"user-selected",ShowedUploadDetail:"showed-upload-detail"}},function(t,e,i){var n=i(38),r=i(9),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(52)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";var n=i(7);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n=i(7),r=i(24),o=i(14)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||null==(i=n(a)[o])?e:r(i)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){var n=i(3),r=i(8).API_ROOT,o=i(110);t.exports=n.Model.extend({idAttribute:"uuid",initialize:function(){var t=this.get("filestack_handle");t&&this.set("file",new o({handle:t}))},isNew:function(){return void 0===this.get("uuid")},url:function(){var t="".concat(r,"annotation_media/");if(this.isNew()){var e=this.get("annotation_uuid")?this.get("annotation_uuid"):this.get("annotation")?this.get("annotation").get("uuid"):null;if(!e)throw new Error("Cannot save new AnnotationMedia without association to parent Annotation");return"".concat(r,"annotation/").concat(e,"/media")}return"".concat(t).concat(this.get("uuid"))}})},function(t,e,i){var n=i(5),r=i(339),o=i(71),a=o.ChannelPrefix,s=o.FetchingNext,l=o.UpdatedByEvent,c=i(12),u=c.fixedEncodeURIComponent,h=c.joinURL;t.exports=r.extend({initialize:function(t,e){n.bindAll(this,"handleRequestEvent","isNew","handleSyncEvent","handleErrorEvent","addQueryParameter","getFirstQueryParameter","removeQueryParameter","clearQueryParameters","getQueryParameterString","listenToEvents","getChannelName","handleEvent","fetchNext"),this.options=e||{},this.queryLimit=this.options.queryLimit||null,this.queryParameters=[],this.count=-1,this.next=null,this.previous=null,this.fetching=!1,this.new=!0,this.listenTo(this,"request",this.handleRequestEvent),this.listenTo(this,"sync",this.handleSyncEvent),this.listenTo(this,"error",this.handleErrorEvent)},handleRequestEvent:function(){this.fetching=!0},handleSyncEvent:function(){this.fetching=!1,this.new=!1},handleErrorEvent:function(){this.fetching=!1,this.new=!1},isNew:function(){return this.new},getChannelName:function(){throw"Not implemented"},fetchNext:function(t){return!!this.next&&(!this.fetching&&(t=t||{},n.extend(t,{remove:!1}),this.trigger(s,this),this.fetch(t),!0))},listenToEvents:function(t,e){this.eventFilter=e||null,this.listenTo(t,a+this.getChannelName(),this.handleEvent)},handleEvent:function(t,e,i,n){if(void 0!==i.id){var r=this.get(i.id);if(null==r){if(null!=this.eventFilter&&!this.eventFilter(i))return;this.add(i)}else r.set(i),r.trigger(l)}else console.error("Received bad data from eventFeed",arguments)},addQueryParameter:function(t,e){this.queryParameters[this.queryParameters.length]=[""+t,""+e]},getFirstQueryParameter:function(t){for(var e=0;e<this.queryParameters.length;e++)if(this.queryParameters[e][0]===t)return this.queryParameters[e][1];return null},removeQueryParameter:function(t){for(var e=0;e<this.queryParameters.length;e++)this.queryParameters[e][0]===t&&(this.queryParameters.splice(e,1)[0],e-=1)},clearQueryParameters:function(){this.queryParameters=[]},getQueryParameterString:function(){for(var t="",e=0;e<this.queryParameters.length;e++)t+=u(this.queryParameters[e][0])+"="+u(this.queryParameters[e][1]),e<this.queryParameters.length-1&&(t+="&");return!this.next&&this.queryLimit&&(t.length>0&&(t+="&"),t+="limit="+u(this.queryLimit)),t},parse:function(t){return this.count=t.count,this.next=t.next,this.next&&(this.next=this.next.replace("http://","https://")),this.previous=t.previous,this.previous&&(this.previous=this.previous.replace("http://","https://")),t.results},baseUrl:function(){throw"Not implemented"},url:function(){return this.next?this.next:h(this.baseUrl(),this.getQueryParameterString())}})},function(t,e){t.exports={ACTIVITY_REQUESTED:"activity-requested",ADD_REQUESTED:"add-requested",ADD_TO_EXISTING_COLLECTION_REQUESTED:"add-to-existing-collection-requested",ADD_TO_NEW_COLLECTION_SELECTED:"add-to-new-collection-selected",ADD_TO_RECENT_COLLECTION_REQUESTED:"add-to-recent-collection-requested",BACK_REQUESTED:"back-requested",DELETE_REQUESTED:"delete-requested",FILTER_REQUESTED:"filter-requested",FILTER_SELECTED:"filter-selected",MEDIA_REQUESTED:"media-requested",PEOPLE_SHARE_REQUESTED:"people-share-requested",SELECTION_MODE_DISABLE_REQUESTED:"selection-mode-disable-requested",SHARE_360_COMPLETE:"share-360-complete",SHARE_COMPLETE:"share-complete",SHARE_COLLECTION_LINKS_REQUESTED:"share-collection-links-requested",SHARE_LINKS_REQUESTED:"share-links-requested",SHARE_UPLOAD_COLLECTION_COMPLETE:"share-upload-collection-complete",SORT_REQUESTED:"sort-requested",SORT_SELECTED:"sort-selected",UPLOAD_COLLECTION_CREATED:"upload-collection-created",UPLOAD_COLLECTION_DELETED:"upload-collection-deleted",UPLOAD_COLLECTION_PICKED:"upload-collection-picked"}},function(t,e,i){var n=i(31),r=i(15),o=i(61);t.exports=function(t){return function(e,i,a){var s,l=n(e),c=r(l.length),u=o(a,c);if(t&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(40);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(41),r=i(45);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,i){var n=i(11),r=i(40),o=i(14)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(14)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(74),o=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var a=i.call(t,e);if("object"!==n(a))throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,i){"use strict";i(181);var n=i(27),r=i(26),o=i(10),a=i(45),s=i(14),l=i(138),c=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var d=s(t),p=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=p?!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[d](""),!e})):void 0;if(!p||!f||"replace"===t&&!u||"split"===t&&!h){var m=/./[d],g=i(a,d,""[t],(function(t,e,i,n,r){return e.exec===l?p&&!r?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),v=g[0],y=g[1];n(String.prototype,t,v),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,i){var n=i(9).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var n=i(9),r=i(1),o=i(27),a=i(67),s=i(53),l=i(66),c=i(65),u=i(11),h=i(10),d=i(97),p=i(73),f=i(124);t.exports=function(t,e,i,m,g,v){var y=n[t],_=y,b=g?"set":"add",w=_&&_.prototype,x={},M=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof _&&(v||w.forEach&&!h((function(){(new _).entries().next()})))){var S=new _,k=S[b](v?{}:-0,1)!=S,T=h((function(){S.has(1)})),C=d((function(t){new _(t)})),E=!v&&h((function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((_=e((function(e,i){c(e,_,t);var n=f(new y,e,_);return null!=i&&l(i,g,n[b],n),n}))).prototype=w,w.constructor=_),(T||E)&&(M("delete"),M("has"),g&&M("get")),(E||k)&&M(b),v&&w.clear&&delete w.clear}else _=m.getConstructor(e,t,g,b),a(_.prototype,i),s.NEED=!0;return p(_,t),x[t]=_,r(r.G+r.W+r.F*(_!=y),x),v||m.setStrong(_,t,g),_}},function(t,e,i){for(var n,r=i(9),o=i(26),a=i(59),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=r[d[h++]])?(o(n.prototype,s,!0),o(n.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,i){"use strict";t.exports=i(52)||!i(10)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i(9)[t]}))},function(t,e,i){"use strict";var n=i(1);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var n=i(1),r=i(24),o=i(39),a=i(66);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),null==t?new this:(i=[],e?(n=0,s=o(l,arguments[2],2),a(t,!1,(function(t){i.push(s(t,n++))}))):a(t,!1,i.push,i),new this(i))}})}},function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n=i(3),r=i(8).API_ROOT;t.exports=n.Model.extend({isNew:function(){return!this.get("collection")},url:function(){return"".concat(r,"upload-collection-embed/").concat(this.get("collection"))}})},function(t,e,i){var n=i(8).API_ROOT,r=i(339),o=i(109);t.exports=r.extend({model:o,initialize:function(t,e){e=e||{},r.prototype.initialize.call(this,t,e),this.context=e.context||{},this.user=e.user||null,this.upload=e.upload||null,this.uploadUuid=e.uploadUuid||null},url:function(){var t=null,e=null;"userUuid"in this.context?(t="user",e=this.context.userUuid):"uploadUuid"in this.context?(t="upload",e=this.context.uploadUuid):"collectionUuid"in this.context&&(t="upload-collection",e=this.context.collectionUuid);var i=t&&e?"".concat(n).concat(t,"/").concat(e,"/annotation_markers"):"".concat(n,"annotation_marker");return"excludeSystemMarkers"in this.context&&(i=i+"?exclude_system_markers="+(!0===this.context.excludeSystemMarkers?"true":"false")),i}})},function(t,e,i){var n=i(8).API_ROOT,r=i(153),o=i(110);t.exports=r.extend({idAttribute:"uuid",initialize:function(){for(var t=0,e=["source","hover_source","selected_source"];t<e.length;t++){var i=e[t],n="".concat(i,"_filestack_handle"),r=this.get(n);if(r){var a="".concat(i,"_file");this.set(a,new o({handle:r}))}}},isNew:function(){return void 0===this.get("uuid")},url:function(){var t="".concat(n,"annotation_marker/");return this.isNew()?t:"".concat(t).concat(this.get("uuid"))}})},function(t,e,i){var n=i(3),r=i(12).getFilestackClient;t.exports=n.Model.extend({idAttribute:"handle",_filestackClient:null,initialize:function(){if(!this.get("handle"))throw new Error("Filestack handle is required to instantiate FilestackFile")},getClient:function(){return this._filestackClient||(this._filestackClient=r()),this._filestackClient},transform:function(t){return this.getClient().transform(this.get("handle"),t)},url:function(){return this.getClient().transform(this.get("handle"))},preview:function(t){return t?this.getClient().preview(this.get("handle"),{id:t}):this.getClient().preview(this.get("handle"))},remove:function(){return this.getClient().remove(this.get("handle"))}})},function(t,e,i){var n=i(5),r=i(3),o=i(8).API_ROOT,a=i(154);t.exports=r.Collection.extend({model:a,initialize:function(t){n.isString(t.uuid)&&(this.url="".concat(o,"upload/").concat(t.uuid,"/annotations"))},getTargetForAnnotation:function(t){if(!t)return null;var e=null;return n.each(this.models,function(i){var n=i.get("annotation");n&&n.get("uuid")===t.get("uuid")&&(e=i)}.bind(this)),e}})},function(t,e,i){var n=i(3),r=i(8).API_ROOT;t.exports=n.Model.extend({isNew:function(){return!this.get("upload")},url:function(){return this.isNew()?"".concat(r,"upload-embed/"):"".concat(r,"upload-embed/").concat(this.get("upload"))}})},function(t,e,i){var n=i(3),r=i(8).API_ROOT,o=i(12).fetchJson,a=i(43);t.exports=n.Model.extend({idAttribute:"uuid",urlRoot:r+"folder",uploadStream:null,uploads:null,initialize:function(){this.get("owner")&&this.set("owner",new a.models.User(this.get("owner")))},isRoot:function(){return this.get("folder_lineage").length<=1},getUploads:function(t){var e=this.get("uploads_url")+"?recursive="+(t?"true":"false");return o(e)}})},,,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.QRMath=e.QRUtil=e.QRMaskPattern=e.QRErrorCorrectLevel=e.QRMode=e.Polynomial=void 0;var r=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e.length)throw new Error(e.length+"/"+i);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+i);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}var e,i,r;return e=t,(i=[{key:"get",value:function(t){return this.num[t]}},{key:"getLength",value:function(){return this.num.length}},{key:"multiply",value:function(e){for(var i=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)i[n+r]^=l.gexp(l.glog(this.get(n))+l.glog(e.get(r)));return new t(i,0)}},{key:"mod",value:function(e){if(this.getLength()-e.getLength()<0)return this;for(var i=l.glog(this.get(0))-l.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var o=0;o<e.getLength();o++)n[o]^=l.gexp(l.glog(e.get(o))+i);return new t(n,0).mod(e)}}])&&n(e.prototype,i),r&&n(e,r),t}();e.Polynomial=r;var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};e.QRMode=o;e.QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};e.QRMaskPattern=a;var s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0;)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0;)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),i=0;i<t;i++)e=e.multiply(new r([1,l.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var r=0;r<e;r++){for(var o=0,a=t.isDark(n,r),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||0==s&&0==l||a==t.isDark(n+s,r+l)&&o++;o>5&&(i+=3+o-5)}for(var c=0;c<e-1;c++)for(var u=0;u<e-1;u++){var h=0;t.isDark(c,u)&&h++,t.isDark(c+1,u)&&h++,t.isDark(c,u+1)&&h++,t.isDark(c+1,u+1)&&h++,0!=h&&4!=h||(i+=3)}for(var d=0;d<e;d++)for(var p=0;p<e-6;p++)t.isDark(d,p)&&!t.isDark(d,p+1)&&t.isDark(d,p+2)&&t.isDark(d,p+3)&&t.isDark(d,p+4)&&!t.isDark(d,p+5)&&t.isDark(d,p+6)&&(i+=40);for(var f=0;f<e;f++)for(var m=0;m<e-6;m++)t.isDark(m,f)&&!t.isDark(m+1,f)&&t.isDark(m+2,f)&&t.isDark(m+3,f)&&t.isDark(m+4,f)&&!t.isDark(m+5,f)&&t.isDark(m+6,f)&&(i+=40);for(var g=0,v=0;v<e;v++)for(var y=0;y<e;y++)t.isDark(y,v)&&g++;return i+=10*(Math.abs(100*g/e/e-50)/5)}};e.QRUtil=s;var l={glog:function(t){if(t<1)throw new Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};e.QRMath=l;for(var c=0;c<8;c++)l.EXP_TABLE[c]=1<<c;for(var u=8;u<256;u++)l.EXP_TABLE[u]=l.EXP_TABLE[u-4]^l.EXP_TABLE[u-5]^l.EXP_TABLE[u-6]^l.EXP_TABLE[u-8];for(var h=0;h<255;h++)l.LOG_TABLE[l.EXP_TABLE[h]]=h},function(t,e,i){var n=i(11),r=i(9).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(9),r=i(38),o=i(52),a=i(163),s=i(17).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(83)("keys"),r=i(59);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(9).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(11),r=i(7),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(39)(Function.call,i(32).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,i){var n=i(11),r=i(122).set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(t,o),t}},function(t,e,i){"use strict";var n=i(41),r=i(45);t.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){"use strict";var n=i(52),r=i(1),o=i(27),a=i(26),s=i(76),l=i(129),c=i(73),u=i(33),h=i(14)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,f,m,g,v){l(i,e,f);var y,_,b,w=function(t){if(!d&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},x=e+" Iterator",M="values"==m,S=!1,k=t.prototype,T=k[h]||k["@@iterator"]||m&&k[m],C=T||w(m),E=m?M?w("entries"):C:void 0,A="Array"==e&&k.entries||T;if(A&&(b=u(A.call(new t)))!==Object.prototype&&b.next&&(c(b,x,!0),n||"function"==typeof b[h]||a(b,h,p)),M&&T&&"values"!==T.name&&(S=!0,C=function(){return T.call(this)}),n&&!v||!d&&!S&&k[h]||a(k,h,C),s[e]=C,s[x]=p,m)if(y={values:M?C:w("values"),keys:g?C:w("keys"),entries:E},v)for(_ in y)_ in k||o(k,_,y[_]);else r(r.P+r.F*(d||S),e,y);return y}},function(t,e,i){"use strict";var n=i(62),r=i(58),o=i(73),a={};i(26)(a,i(14)("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(96),r=i(45);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(14)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var n=i(76),r=i(14)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){"use strict";var n=i(17),r=i(58);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(74),r=i(14)("iterator"),o=i(76);t.exports=i(38).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){var n=i(458);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var n=i(19),r=i(61),o=i(15);t.exports=function(t){for(var e=n(this),i=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);c>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var n=i(54),r=i(180),o=i(76),a=i(31);t.exports=i(128)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n,r,o=i(86),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(n=/a/,r=/b*/g,a.call(n,"a"),a.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,i,n,r,l=this;return u&&(i=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l.lastIndex),n=a.call(l,t),c&&n&&(l.lastIndex=l.global?n.index+n[0].length:e),u&&n&&n.length>1&&s.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=l},function(t,e,i){"use strict";var n=i(95)(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n,r,o,a=i(39),s=i(170),l=i(121),c=i(117),u=i(9),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){y.call(t.data)};d&&p||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},p=function(t){delete v[t]},"process"==i(40)(h)?n=function(t){h.nextTick(a(y,t,1))}:m&&m.now?n=function(t){m.now(a(y,t,1))}:f?(o=(r=new f).port2,r.port1.onmessage=_,n=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):n="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:p}},function(t,e,i){var n=i(9),r=i(140).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(40)(a);t.exports=function(){var t,e,i,c=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(c)}}else i=function(){r.call(n,c)};else{var h=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),i=function(){d.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){"use strict";var n=i(24);function r(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)}t.exports.f=function(t){return new r(t)}},function(t,e,i){"use strict";var n=i(9),r=i(16),o=i(52),a=i(102),s=i(26),l=i(67),c=i(10),u=i(65),h=i(41),d=i(15),p=i(190),f=i(63).f,m=i(17).f,g=i(136),v=i(73),y=n.ArrayBuffer,_=n.DataView,b=n.Math,w=n.RangeError,x=n.Infinity,M=y,S=b.abs,k=b.pow,T=b.floor,C=b.log,E=b.LN2,A=r?"_b":"buffer",L=r?"_l":"byteLength",D=r?"_o":"byteOffset";function P(t,e,i){var n,r,o,a=new Array(i),s=8*i-e-1,l=(1<<s)-1,c=l>>1,u=23===e?k(2,-24)-k(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===x?(r=t!=t?1:0,n=l):(n=T(C(t)/E),t*(o=k(2,-n))<1&&(n--,o*=2),(t+=n+c>=1?u/o:u*k(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(r=0,n=l):n+c>=1?(r=(t*o-1)*k(2,e),n+=c):(r=t*k(2,c-1)*k(2,e),n=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(n=n<<e|r,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*d,a}function O(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=i-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return n?NaN:c?-x:x;n+=k(2,e),u-=a}return(c?-1:1)*n*k(2,u-e)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function N(t){return[255&t]}function R(t){return[255&t,t>>8&255]}function F(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function j(t){return P(t,52,8)}function U(t){return P(t,23,4)}function Y(t,e,i){m(t.prototype,e,{get:function(){return this[i]}})}function V(t,e,i,n){var r=p(+i);if(r+e>t[L])throw w("Wrong index!");var o=t[A]._b,a=r+t[D],s=o.slice(a,a+e);return n?s:s.reverse()}function H(t,e,i,n,r,o){var a=p(+i);if(a+e>t[L])throw w("Wrong index!");for(var s=t[A]._b,l=a+t[D],c=n(+r),u=0;u<e;u++)s[l+u]=c[o?u:e-u-1]}if(a.ABV){if(!c((function(){y(1)}))||!c((function(){new y(-1)}))||c((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var B,z=(y=function(t){return u(this,y),new M(p(t))}).prototype=M.prototype,W=f(M),q=0;W.length>q;)(B=W[q++])in y||s(y,B,M[B]);o||(z.constructor=y)}var G=new _(new y(2)),$=_.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||l(_.prototype,{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},!0)}else y=function(t){u(this,y,"ArrayBuffer");var e=p(t);this._b=g.call(new Array(e),0),this[L]=e},_=function(t,e,i){u(this,_,"DataView"),u(t,y,"DataView");var n=t[L],r=h(e);if(r<0||r>n)throw w("Wrong offset!");if(r+(i=void 0===i?n-r:d(i))>n)throw w("Wrong length!");this[A]=t,this[D]=r,this[L]=i},r&&(Y(y,"byteLength","_l"),Y(_,"buffer","_b"),Y(_,"byteLength","_l"),Y(_,"byteOffset","_o")),l(_.prototype,{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(V(this,4,t,arguments[1]))},getUint32:function(t){return I(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return O(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return O(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,N,e)},setUint8:function(t,e){H(this,1,t,N,e)},setInt16:function(t,e){H(this,2,t,R,e,arguments[2])},setUint16:function(t,e){H(this,2,t,R,e,arguments[2])},setInt32:function(t,e){H(this,4,t,F,e,arguments[2])},setUint32:function(t,e){H(this,4,t,F,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,U,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,j,e,arguments[2])}});v(y,"ArrayBuffer"),v(_,"DataView"),s(_.prototype,a.VIEW,!0),e.ArrayBuffer=y,e.DataView=_},function(t,e,i){var n,r,o;
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.focusable=function(e,i){var n,r,o,a,s,l=e.nodeName.toLowerCase();return"area"===l?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(a=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(a=!s.disabled):a="a"===l&&e.href||i,a&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Form Reset Mixin 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(569),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var i=e.data("ui-form-reset-instances");t.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Labels 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(106)],void 0===(o="function"==typeof(n=function(t){return t.fn.labels=function(){var e,i,n,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(n=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r))}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(55),i(144),i(201),i(78),i(202),i(148),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(n=(i=t(r.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))}))},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,(function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))}))},drag:function(e,i,n){t.each(n.sortables,(function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,(function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r}))),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,(function(){this.refreshPositions()})),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,n){var r,o,a,s,l,c,u,h,d,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)c=(l=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,h=(u=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,v<l-m||g>c+m||_<u-m||y>h+m||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-_)<=m,o=Math.abs(h-y)<=m,a=Math.abs(l-v)<=m,s=Math.abs(c-g)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=m,o=Math.abs(h-_)<=m,a=Math.abs(l-g)<=m,s=Math.abs(c-v)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||o||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,a=t.makeArray(t(o.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each((function(e){t(this).css("zIndex",r+e)})),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(34),i(77),i(78),i(70),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var i,n,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,n=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,o=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")})),r=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-n-r<0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,n,r;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-n+r>0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(204),i(205),i(34),i(18)],void 0===(o="function"==typeof(n=function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,r=n?this.options.iconPosition:i,o="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"===a(arguments[0])&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){var s;if(void 0===(r="function"==typeof(n=a)?n.call(e,i,e,t):n)||(t.exports=r),s=!0,"object"===o(e)&&(t.exports=a(),s=!0),!s){var l=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=l,c}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(n){function r(){}function o(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=e+"="+i+s}}function a(t,i){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(s[0]);if(l=(n.read||n)(l,c)||e(l),i)try{l=JSON.parse(l)}catch(t){}if(r[c]=l,t===c)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,i){o(e,"",t(i,{expires:-1}))},r.defaults={},r.withConverter=i,r}((function(){}))}))},function(t,e,i){var n=i(3),r=i(12),o=r.backboneDestroyPromise,a=r.backboneFetchPromise,s=r.backboneSavePromise;t.exports=n.Model.extend({destroyPromise:o,fetchPromise:a,savePromise:s})},function(t,e,i){var n=i(5),r=i(3),o=i(8).API_ROOT,a=i(340),s=i(109),l=i(89);t.exports=r.Model.extend({idAttribute:"uuid",isNew:function(){return void 0===this.get("uuid")},parse:function(t){return n.isObject(t.annotation)&&(t.annotation=new a(t.annotation,{parse:!0})),n.isObject(t.annotation_marker)&&(t.annotation_marker=new s(t.annotation_marker,{parse:!0})),n.isObject(t.media)&&(t.media=new l(t.media,{parse:!0})),t},url:function(){var t="".concat(o,"annotation_target/");return this.isNew()?t:"".concat(t).concat(this.get("uuid"))}})},function(t,e,i){var n=i(3),r=i(89);t.exports=n.Collection.extend({model:r})},function(t,e,i){function n(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,l,"next",t)}function l(t){n(a,r,o,s,l,"throw",t)}s(void 0)}))}}var o,a=i(113),s=i(8).API_ROOT,l=i(12).fetchJson,c=function(){var t=r(regeneratorRuntime.mark((function t(){var e,i,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,i=s+"folder"+(e?"/"+encodeURI(e):""),t.abrupt("return",l(i).then((function(t){return new a(t)})));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports={getFolder:c,getRootFolder:(o=r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c());case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}},function(t,e,i){(function(e){var n=i(3),r=i(29),o=r.ANNOTATION_OPEN_EDIT_PANEL,a=r.ANNOTATION_OPEN_SHARE_MODAL,s=r.ANNOTATION_JUMP_TO_ANNOTATION,l=r.ANNOTATION_OPEN_VIEW_PANEL,c=i(13);t.exports=n.View.extend({className:"annotation-actions row",tagName:"ul",events:{"click .edit-annotation":"handleEditAnnotation","click .share-annotation":"handleShareAnnotation","click .delete-annotation":"handleDeleteAnnotation","click .annotation-nav-recenter":"handleNavRecenter","click .annotation-nav-previous":"handleNavPrevious","click .annotation-nav-next":"handleNavNext"},initialize:function(t){var i=this;t=t||{},["panel","model","collection"].forEach((function(e){if(!(e in t))throw new Error("AnnotationActionsView requires option '".concat(e,"'"));i[e]=t[e]})),"hotspotPanel"in t&&(this.hotspotPanel=t.hotspotPanel),"audioToast"in t&&(this.audioToast=t.audioToast),this.panel.readOnly?this.$el.append(e.li({class:"col larger"},e.a({href:"#",class:"annotation-nav-previous",title:"Show Previous Annotation"},e.i({class:"fal fa-angle-left"}))),e.li({class:"col"},e.a({href:"#",class:"annotation-nav-recenter",title:"Recenter Annotation in Photosphere"},e.i({class:"far fa-location"}))),e.li({class:"col larger"},e.a({href:"#",class:"annotation-nav-next",title:"Show Next Annotation"},e.i({class:"fal fa-angle-right"})))):this.$el.append(e.li({class:"col larger"},e.a({href:"#",class:"annotation-nav-previous",title:"Show Previous Annotation"},e.i({class:"fal fa-angle-left"}))),e.li({class:"col"},e.a({href:"#",class:"annotation-nav-recenter",title:"Recenter Annotation in Photosphere"},e.i({class:"far fa-location"}))),e.li({class:"col"},e.a({href:"#",class:"edit-annotation",title:"Edit Annotation"},e.i({class:"far fa-edit"}))),e.li({class:"col"},e.a({href:"#",class:"share-annotation",title:"Share Annotation"},e.i({class:"fas fa-share-alt"}))),e.li({class:"col"},e.a({href:"#",class:"delete-annotation",title:"Delete Annotation"},e.i({class:"far fa-trash-alt"}))),e.li({class:"col larger"},e.a({href:"#",class:"annotation-nav-next",title:"Show Next Annotation"},e.i({class:"fal fa-angle-right"}))))},handleEditAnnotation:function(t){t&&t.preventDefault(),this.hotspotPanel&&this.hotspotPanel.modal.close(),this.audioToast&&this.audioToast.close(),this.panel.trigger(o,this.model)},handleShareAnnotation:function(t){t&&t.preventDefault(),this.hotspotPanel?(this.hotspotPanel.modal.afterClose(function(){this.panel.trigger(a,this.model)}.bind(this)),this.hotspotPanel.close()):this.panel.trigger(a,this.model)},handleDeleteAnnotation:function(t){t&&t.preventDefault(),new c({title:"Delete Annotation",modalBody:"Are you sure you wish to delete this annotation?",primaryActionLabel:"Delete",primaryActionClass:"btn-delete",onPrimaryAction:this.executeDeleteAnnotation.bind(this)}).open()},executeDeleteAnnotation:function(){return analytics.track("Delete Annotation",{annotation_uuid:this.model.attributes.annotation.id}),this.collection.remove(this.model),this.model.destroy(),this.panel.close(),this.hotspotPanel&&this.hotspotPanel.close(),!0},handleNavRecenter:function(t){t&&t.preventDefault(),this.panel.trigger(s,this.model.get("annotation"))},handleNavPrevious:function(t){t&&t.preventDefault();var e=(this.collection.indexOf(this.model)-1+this.collection.length)%this.collection.length,i=this.collection.at(e);this.jumpToAnnotationTarget(i)},handleNavNext:function(t){t&&t.preventDefault();var e=(this.collection.indexOf(this.model)+1)%this.collection.length,i=this.collection.at(e);this.jumpToAnnotationTarget(i)},jumpToAnnotationTarget:function(t){this.panel.trigger(l,t,!1),this.panel.trigger(s,t.get("annotation"))}})}).call(this,i(4))},function(t,e){t.exports={COLLECTION_AUTOPLAY_INTERVAL:5,EMBED_DISPLAY_MODE:{CLEAN:"clean",CLEAN_LOGO:"clean_logo",MLS:"mls",MP:"mp"},IMAGE_SIZE_MEDIUM:"medium",IMAGE_SIZE_LARGE:"large"}},function(t,e,i){(function(e,n){function r(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=i(3),s=i(5),l=i(8),c=l.API_ROOT,u=l.PERMISSIONS,h=l.TIERS,d=i(12),p=d.isNil,f=d.fixedEncodeURIComponent,m=i(36),g=m.REFRESH_FOLDER_CONTEXT,v=m.SHOW_SHARE_VIEW,y=i(113),_=i(352),b="anyone",w="nobody",x="selected-users",M=a.View.extend({className:"access-control-view dialog-container",events:{"change #copy-download-select":"handleCopyDownloadChange","click #access-control-view-close-btn":"handleCloseClick","click #add-someone-else-link":"handleAddSomeoneElseClick"},initialize:function(t){var e=t.folder,i=t.upload,n=window.user;if(p(i)&&p(e))throw"Requires an upload or a folder";if(p(n))throw"Requires a user";this.options=t||{},this.isFreeTier=n.get("account_tier")<h.PLUS,this.copyDownloadPermission=this.isFreeTier?b:x,e&&e.on("sync",this.renderContentSharesContainer.bind(this)),i&&i.on("sync",this.renderContentSharesContainer.bind(this)),this.render()},handleAddSomeoneElseClick:function(t){t.preventDefault(),e(".modal").modal("hide");var i={},n=this.options,r=n.folder,o=n.upload;r&&(i.folders=[r]),o&&(i.uploads=[o]),this.trigger(v,i)},handleCloseClick:function(){e(".modal").modal("hide")},handleCopyDownloadChange:function(t){if(this.isFreeTier)e(".upsell-paragraph").show(),e("#copy-download-select").val("anyone"),analytics.track("Show Permissions Upsell");else{var i=t.currentTarget.value;this.copyDownloadPermission=i,this.copyDownloadPermission!==x&&this.updatePermissions(),analytics.track("Change Copy Permissions",{account_tier:window.user.attributes.account_tier,item_type:"360",permission_level:this.copyDownloadPermission}),this.renderContentSharesContainer()}},refetchModel:function(){var t=this.options,e=t.folder,i=t.upload;e&&(e.fetch({success:function(t,e){console.log("folder.fetch - success");var i=e.folder_lineage[e.folder_lineage.length-1];this.options.folder=new y(i),this.renderContentSharesContainer()}.bind(this),error:function(){console.log("folder.fetch - error")}}),this.trigger(g)),i&&i.fetch({success:function(){return console.log("upload.fetch - success")},error:function(){return console.log("upload.fetch - error")}})},renderContentSharesContainer:function(){var t=this,i=this.options,o=i.folder,a=i.upload,l=[];a&&(l=a.get("content_shares")),o&&(l=o.get("content_shares")),e(this.contentSharesContainer).empty();var c,h=r(l);try{var d=function(){if(contentShare=c.value,contentShare.withdrawn)return"continue";var e=contentShare,i=e.permissions,r=e.recipient,o=s.some(i,(function(t){return t.name===u.VIEW})),a=s.some(i,(function(t){return t.name===u.ANNOTATE})),l=s.some(i,(function(t){return t.name===u.COPY})),h=o&&!a&&!l,d=o&&!a&&l,p=o&&a&&!l,f=o&&a&&l,m=t.isFreeTier||t.copyDownloadPermission===b,g=t.copyDownloadPermission===w;n.div({class:"user-item",id:"recipient-".concat(r.id)},n.div({class:"img-container"},n.img({src:r.portrait})),n.div({class:"name-container"},n.div(r.display_name),n.div({class:"email"},r.email)),n.div({class:"select-container"},n.select({onChange:function(t){var e=t.currentTarget.value;e===u.REVOKE?this.revokeRecipientPermission({recipient:r}):this.setRecipientPermission({permissions:e,recipient:r})}.bind(t)},n.option({disabled:g?"disabled":null,selected:d?"selected":null,value:u.VIEW_COPY_DOWNLOAD},"Can View & Copy"),n.option({disabled:g?"disabled":null,selected:f?"selected":null,value:u.VIEW_ANNOTATE_COPY_DOWNLOAD},"Can Annotate & Copy"),n.option({disabled:m?"disabled":null,selected:h?"selected":null,value:u.VIEW},t.isFreeTier?"Can View Only (Paid)":"Can View Only"),n.option({disabled:m?"disabled":null,selected:p?"selected":null,value:u.VIEW_ANNOTATE},t.isFreeTier?"Can Annotate Only (Paid)":"Can Annotate Only"),n.option({value:u.REVOKE},"Remove access")))).appendTo(t.contentSharesContainer)};for(h.s();!(c=h.n()).done;)d()}catch(t){h.e(t)}finally{h.f()}},render:function(){var t,e=window.user;e&&(t=n.div({class:"user-item"},n.div({class:"img-container"},n.img({src:e.get("portrait")})),n.div({class:"name-container"},n.div({class:"name"},e.get("display_name")),n.div({class:"email"},e.get("email"))),n.div({class:"owner"},"Owner"))),this.contentSharesContainer=n.div({class:"content-shares-container"}),n.div(n.div({class:"controls-container"},n.div({class:"users-container"},t,this.contentSharesContainer),n.div({class:"add-user-container"},n.a({href:"#",id:"add-someone-else-link"},"Add someone else")),n.div({class:"copy-download-permissions-container"},n.p({class:"upsell-paragraph"},"Enable more permission levels with a ",n.a({href:"/billing/upgrade/",target:"_blank"},"Paid Account"),". ",n.a({href:"https://help.momento360.com/article/105-sharing-permissions-overview",target:"_blank"},"Learn more"),"."),n.select({id:"copy-download-select"},n.option({selected:this.copyDownloadPermission===b?"selected":null,value:b},"Anyone with Access"),n.option({selected:this.copyDownloadPermission===x?"selected":null,value:x},this.isFreeTier?"Selected Users (Paid Plans)":"Selected Users"),n.option({selected:this.copyDownloadPermission===w?"selected":null,value:w},this.isFreeTier?"Nobody (Paid Plans)":"Nobody")),n.label("can copy and download"))),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"access-control-view-close-btn"},"CLOSE"))).appendTo(this.el),this.renderContentSharesContainer()},revokeRecipientPermission:function(t){var i=t.recipient,n=this.options,r=n.folder,o=n.upload,a={recipients:"".concat(i.id)};r&&(a.folder_uuids="".concat(r.get("uuid"))),o&&(a.uploads="".concat(o.get("id")));var s="".concat(c,"multiple-content-share/?");s+="recipients=".concat(f(a.recipients)),a.uploads&&(s+="&uploads=".concat(f(a.uploads))),a.folder_uuids&&(s+="&folder_uuids=".concat(f(a.folder_uuids))),e.ajax({type:"DELETE",dataType:"json",url:s,success:function(){console.log("MultipleContentShare delete succeeded."),e("#recipient-".concat(i.id)).remove(),analytics.track("Revoke Share",{account_tier:window.user.attributes.account_tier,item_type:"360"}),this.refetchModel()}.bind(this),error:function(){return console.log("MultipleContentShare delete failed.")}})},setRecipientPermission:function(t){var e=t.permissions,i=t.recipient,n=this.options,r=n.folder,o=n.upload,a={permissions:e,recipients:"".concat(i.id)};r&&(a.folder_uuids="".concat(r.get("uuid"))),o&&(a.uploads="".concat(o.get("id"))),(new _).save(a,{success:function(){console.log("MultipleContentShare save succeeded."),analytics.track("Change Share Permissions",{account_tier:window.user.attributes.account_tier,item_type:"360",permission_level:e}),this.refetchModel()}.bind(this),error:function(){return console.log("MultipleContentShare save failed.")}})},updatePermissions:function(){var t=this.options,e=t.folder,i=t.upload,n=[];i&&(n=i.get("content_shares")),e&&(n=e.get("content_shares"));var o,a=function(t){return t.find((function(t){return t.name===u.COPY}))},s=r(n);try{for(s.s();!(o=s.n()).done;)if(contentShare=o.value,!contentShare.withdrawn){var l={recipients:"".concat(contentShare.recipient.id)};if(e&&(l.folder_uuids="".concat(e.get("uuid"))),i&&(l.uploads="".concat(i.get("id"))),this.copyDownloadPermission===w&&a(contentShare.permissions))l.permissions=contentShare.permissions.filter((function(t){return t.name!==u.COPY})).map((function(t){return t.name})).join(",");else{if(this.copyDownloadPermission!==b||a(contentShare.permissions))continue;l.permissions=contentShare.permissions.map((function(t){return t.name})).concat(u.COPY).join(",")}(new _).save(l,{success:function(){console.log("MultipleContentShare save succeeded."),this.refetchModel()}.bind(this),error:function(){console.log("MultipleContentShare save failed.")}.bind(this)})}}catch(t){s.e(t)}finally{s.f()}}});t.exports=M}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){function r(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=i(3),s=i(5),l=i(35),c=i(8),u=c.API_ROOT,h=c.PERMISSIONS,d=c.TIERS,p=i(12).isNil,f=i(36),m=f.REFRESH_FOLDER_CONTEXT,g=f.SHOW_ACCESS_CONTROL_VIEW,v=i(352),y=i(676),_=i(91).SHARE_COMPLETE,b=a.View.extend({className:"share-view dialog-container",events:{"click #invalid-email-ok-btn":"handleInvalidEmailOKClick","click #see-who-has-access-link":"handleSeeWhoHasAccessClick","click #share-view-cancel-btn":"handleCloseClick","click #share-view-close-btn":"handleCloseClick","click #share-view-share-btn":"handleShareClick","change #permissions-select":"handlePermissionsChange"},initialize:function(t){var e=t.folders,i=void 0===e?[]:e,n=t.uploads,r=void 0===n?[]:n;if(s.isEmpty(i)&&s.isEmpty(r))throw"Requires uploads or folders arrays in options";this.filteredRecipients=[],this.options=t||{},this.recipients=[],this.selectedRecipient=null,this.isSharingSingleItem=r.length+i.length===1,this.permissions=h.VIEW_ANNOTATE_COPY_DOWNLOAD;var o=window.user,a=o?o.get("account_tier"):d.FREE;this.isFreeTier=a<d.PLUS,this.render(),(new y).fetch({success:function(t){this.recipients=t.attributes.results}.bind(this)})},handleCloseClick:function(){e(".modal").modal("hide")},handleInvalidEmailOKClick:function(){this.render()},handlePermissionsChange:function(){this.permissions=e("#permissions-select").val()},handleRemoveRecipientClick:function(t){t.preventDefault(),this.selectedRecipient=null,this.render()},handleRecipientInput:function(){var t=e("#recipient-input").val().toLowerCase();0!==t.length?(this.filteredRecipients=s.filter(this.recipients,(function(e){return e.first_name.toLowerCase().startsWith(t)||e.last_name.toLowerCase().startsWith(t)||e.display_name.toLowerCase().startsWith(t)||e.email.toLowerCase().startsWith(t)})),0!==this.filteredRecipients.length?this.renderRecipientsMenu({recipients:this.filteredRecipients}):this.hideRecipientsMenu()):this.hideRecipientsMenu()},handleRecipientSelect:function(t,e){t.preventDefault(),e<this.filteredRecipients.length&&(this.selectedRecipient=s.clone(this.filteredRecipients[e])),this.render()},handleShareClick:function(){var t=this.options,i=t.folders,n=t.uploads,r=e("#recipient-input").val(),o={message:e("#message-textarea").val().trim(),permissions:e("#permissions-select").val()};if(s.isEmpty(i)||(o.folder_uuids=i.map((function(t){return t.get("uuid")})).join(","),o.folder_count=i.length),s.isEmpty(n)||(o.uploads=n.map((function(t){return t.get("id")})).join(","),o.upload_count=n.length),p(r)){if(this.selectedRecipient){analytics.track("Add Recipient",{share_type:"v2",recipient_status:"connection"});var a=this.selectedRecipient,c=a.email,h=a.id;o.recipients="".concat(h),this.sendShare({email:c,params:o})}}else{if(!l.views.validateEmail(r))return void this.renderInvalidEmailAddressDialog({email:r});e.ajax({method:"GET",url:"".concat(u,"user-or-invite-exists/").concat(encodeURIComponent(r)),dataType:"json",success:function(t){if(t.user){var e=t.user,i=e.email,n=e.id;o.recipients="".concat(n),analytics.track("Add Recipient",{share_type:"v2",recipient_status:"existing_m360_user"}),analytics.track("Add New Connection",{share_type:"v2",recipient_id:t.user.uuid,recipient_email:i}),this.sendShare({email:i,params:o})}else t.invite?(this.renderDialog({email:r,invite:t.invite,message:"An invite for ".concat(r," already exists.")}),analytics.track("Add Recipient",{share_type:"v2",recipient_status:"already_invited"})):console.error("No user or invite returned from user-or-invite-exists for: ".concat(r))}.bind(this),error:function(){o.invites=[{email:r,first_name:"",last_name:""}],analytics.track("Add Recipient",{share_type:"v2",recipient_status:"non_m360_user"}),this.sendShare({email:r,params:o})}.bind(this)})}},handleSeeWhoHasAccessClick:function(t){t.preventDefault();var i,n,r,o=this.options,a=o.folders,s=void 0===a?[]:a,l=o.uploads,c=void 0===l?[]:l;if(1==c.length)n=(r=c[0]).get("owner");else{if(1!=s.length)return;n=(i=s[0]).get("owner")}e(".modal").modal("hide"),this.trigger(g,{folder:i,owner:n,upload:r})},hideRecipientsMenu:function(){e("#recipients-menu-container").empty()},refetchModel:function(){var t=this.options,e=t.folders,i=t.uploads;if(e&&this.trigger(m),i){var n,o=r(i);try{for(o.s();!(n=o.n()).done;)upload=n.value,upload.fetch()}catch(t){o.e(t)}finally{o.f()}}},renderInvalidEmailAddressDialog:function(t){var i=t.email;e(this.el).empty();var r="This does not appear to be a valid email address: ".concat(i);n.div(n.p({class:"share-complete-description"},r),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"invalid-email-ok-btn"},"OK"))).appendTo(this.el)},renderDialog:function(t){var i=t.email,r=t.invite,o=t.message;e(this.el).empty();var a=r?n.div({class:"resend-invite-container"},n.button({class:"btn btn-sm-round",id:"resend-invite-btn",onClick:function(){this.resendInvite({email:i,invite:r})}.bind(this)},"RESEND INVITATION EMAIL")):null;n.div(n.p({class:"share-complete-description"},o),a,n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"share-view-close-btn"},"CLOSE"))).appendTo(this.el)},renderRecipientsMenu:function(t){for(var i=this,r=t.recipients,o=n.div({class:"recipients-menu"}),a=function(t){var e=r[t];n.a({class:"recipient-menu-item",href:"#",onClick:function(e){this.handleRecipientSelect(e,t)}.bind(i)},n.div({class:"img-container"},n.img({src:e.portrait})),n.div({class:"name-container"},n.div(e.display_name),n.div({class:"email"},e.email))).appendTo(o)},s=0;s<r.length;s++)a(s);e("#recipients-menu-container").empty(),e("#recipients-menu-container").append(o)},renderShareSucceededDialog:function(t){var e=t.email;this.renderDialog({message:"The item(s) have been shared with ".concat(e)})},render:function(){e(this.el).empty();var t=this.selectedRecipient?n.div({class:"selected-recipient-container"},n.div({class:"img-container"},n.img({src:this.selectedRecipient.portrait})),n.div({class:"name-container"},n.div(this.selectedRecipient.display_name),n.div({class:"email"},this.selectedRecipient.email)),n.a({class:"remove-recipient-link",href:"#",onClick:this.handleRemoveRecipientClick.bind(this)},n.i({class:"fa fa-close"}))):n.div(n.input({class:"w-100",id:"recipient-input",placeholder:"Add an email or name...",onInput:function(){this.handleRecipientInput()}.bind(this)}),n.div({id:"recipients-menu-container"})),i=this.isSharingSingleItem?n.div({class:"see-who-has-access-container"},n.a({href:"#",id:"see-who-has-access-link"},"See who has access")):null,r=this.isFreeTier?"Can View Only (Paid)":"Can View Only",o=this.isFreeTier?"Can Annotate Only (Paid)":"Can Annotate Only",a=this.isFreeTier?n.div({class:"upsell-container"},n.p("Enable more permission levels with a ",n.a({href:"/billing/upgrade/",target:"_blank"},"Paid Account"),". ",n.a({href:"https://help.momento360.com/article/105-sharing-permissions-overview",target:"_blank"},"Learn more"),".")):null,s=this.isSharingSingleItem?"Enter the email address of the person you'd like to share the item with:":"Enter the email address of the person you'd like to share these items with:";n.div(n.div({class:"controls-container"},n.label("Share this 360"),n.p(s),n.div({class:"container mb-3"},n.div({class:"row"},n.div({class:"col-7 px-0"},t),n.div({class:"col-5 pr-0"},n.select({class:"w-100",id:"permissions-select"},n.option({value:h.VIEW_COPY_DOWNLOAD,selected:this.permissions===h.VIEW_COPY_DOWNLOAD?"selected":void 0},"Can View & Copy"),n.option({value:h.VIEW_ANNOTATE_COPY_DOWNLOAD,selected:this.permissions===h.VIEW_ANNOTATE_COPY_DOWNLOAD?"selected":void 0},"Can Annotate & Copy"),n.option({disabled:this.isFreeTier?"disabled":null,value:h.VIEW,selected:this.permissions===h.VIEW?"selected":void 0},r),n.option({disabled:this.isFreeTier?"disabled":null,value:h.VIEW_ANNOTATE,selected:this.permissions===h.VIEW_ANNOTATE?"selected":void 0},o))))),n.textarea({class:"w-100",id:"message-textarea",placeholder:"Add a message (optional)"}),a,i),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"share-view-cancel-btn"},"CANCEL"),n.button({class:"pill-button",id:"share-view-share-btn"},"SHARE"))).appendTo(this.el)},resendInvite:function(t){var i=t.email,n=t.invite.uuid;e.ajax({method:"POST",url:"".concat(u,"resend-invite/").concat(encodeURIComponent(n),"/"),dataType:"json",success:function(t){this.renderShareSucceededDialog({email:i}),analytics.track("Resend Invitation",{recipient_email:i,sender_id:window.user.attributes.uuid,share_type:"v2",sender_email:window.user.attributes.email}),this.refetchModel()}.bind(this),error:function(){this.renderDialog({message:"An error occurred resending invite."})}.bind(this)})},sendShare:function(t){var e=t.email,i=t.params,n=i.invites,r=i.recipients;s.isEmpty(n)&&s.isEmpty(r)||(new v).save(i,{success:function(){console.log("MultipleContentShare save succeeded."),this.renderShareSucceededDialog({email:e}),analytics.track("Finish Share",{type:"360",share_type:"v2",upload_count:i.upload_count?i.upload_count:0,folder_count:i.folder_count?i.folder_count:0,has_message:!(""===i.message),permission_level:i.permissions,account_tier:window.user.attributes.account_tier}),this.refetchModel(),this.trigger(_)}.bind(this),error:function(t,e){console.log("MultipleContentShare save failed."),this.renderDialog({message:e.responseJSON.errorMessage})}.bind(this)})}});t.exports=b}).call(this,i(2),i(4))},,function(t,e,i){t.exports=!i(16)&&!i(10)((function(){return 7!=Object.defineProperty(i(117)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){e.f=i(14)},function(t,e,i){var n=i(30),r=i(31),o=i(92)(!1),a=i(119)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(c,i)||c.push(i));return c}},function(t,e,i){var n=i(17),r=i(7),o=i(60);t.exports=i(16)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(31),o=i(63).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,i){"use strict";var n=i(16),r=i(60),o=i(93),a=i(85),s=i(19),l=i(84),c=Object.assign;t.exports=!c||i(10)((function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n}))?function(t,e){for(var i=s(t),c=arguments.length,u=1,h=o.f,d=a.f;c>u;)for(var p,f=l(arguments[u++]),m=h?r(f).concat(h(f)):r(f),g=m.length,v=0;g>v;)p=m[v++],n&&!d.call(f,p)||(i[p]=f[p]);return i}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var n=i(24),r=i(11),o=i(170),a=[].slice,s={},l=function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),s=function n(){var r=i.concat(a.call(arguments));return this instanceof n?l(e,r.length,r):o(e,r,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(9).parseInt,r=i(75).trim,o=i(123),a=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e,i){var n=i(9).parseFloat,r=i(75).trim;t.exports=1/n(i(123)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(40);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(11),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(126),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);t.exports=Math.fround||function(t){var e,i,r=Math.abs(t),c=n(t);return r<l?c*(r/l/a+1/o-1/o)*l*a:(i=(e=(1+a/o)*r)-(e-r))>s||i!=i?c*(1/0):c*i}},function(t,e,i){var n=i(7);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(24),r=i(19),o=i(84),a=i(15);t.exports=function(t,e,i,s,l){n(e);var c=r(t),u=o(c),h=a(c.length),d=l?h-1:0,p=l?-1:1;if(i<2)for(;;){if(d in u){s=u[d],d+=p;break}if(d+=p,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in u&&(s=e(s,u[d],d,c));return s}},function(t,e,i){"use strict";var n=i(19),r=i(61),o=i(15);t.exports=[].copyWithin||function(t,e){var i=n(this),a=o(i.length),s=r(t,a),l=r(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in i?i[s]=i[l]:delete i[s],s+=h,l+=h;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(138);i(1)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,i){i(16)&&"g"!=/./g.flags&&i(17).f(RegExp.prototype,"flags",{configurable:!0,get:i(86)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(7),r=i(11),o=i(142);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var n=i(186),r=i(68);t.exports=i(101)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(17).f,r=i(62),o=i(67),a=i(39),s=i(65),l=i(66),c=i(128),u=i(180),h=i(64),d=i(16),p=i(53).fastKey,f=i(68),m=d?"_s":"size",g=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t((function(t,n){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,null!=n&&l(n,i,t[c],t)}));return o(u.prototype,{clear:function(){for(var t=f(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=f(this,e),n=g(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[m]--}return!!n},forEach:function(t){f(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!g(f(this,e),t)}}),d&&n(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,i){var n,r,o=g(t,e);return o?o.v=i:(t._l=o={i:r=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[m]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=f(t,e),this._k=i,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),i?"entries":"values",!i,!0),h(e)}}},function(t,e,i){"use strict";var n=i(186),r=i(68);t.exports=i(101)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,r=i(9),o=i(47)(0),a=i(27),s=i(53),l=i(167),c=i(189),u=i(11),h=i(68),d=i(68),p=!r.ActiveXObject&&"ActiveXObject"in r,f=s.getWeak,m=Object.isExtensible,g=c.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=f(t);return!0===e?g(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,"WeakMap"),t,e)}},_=t.exports=i(101)("WeakMap",v,y,c,!0,!0);d&&p&&(l((n=c.getConstructor(v,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=_.prototype,i=e[t];a(e,t,(function(e,r){if(u(e)&&!m(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)}))})))},function(t,e,i){"use strict";var n=i(67),r=i(53).getWeak,o=i(7),a=i(11),s=i(65),l=i(66),c=i(47),u=i(30),h=i(68),d=c(5),p=c(6),f=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var c=t((function(t,n){s(t,c,e,"_i"),t._t=e,t._i=f++,t._l=void 0,null!=n&&l(n,i,t[o],t)}));return n(c.prototype,{delete:function(t){if(!a(t))return!1;var i=r(t);return!0===i?m(h(this,e)).delete(t):i&&u(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=r(t);return!0===i?m(h(this,e)).has(t):i&&u(i,this._i)}}),c},def:function(t,e,i){var n=r(o(e),!0);return!0===n?m(t).set(e,i):n[t._i]=i,t},ufstore:m}},function(t,e,i){var n=i(41),r=i(15);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(63),r=i(93),o=i(7),a=i(9).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var n=i(94),r=i(11),o=i(15),a=i(39),s=i(14)("isConcatSpreadable");t.exports=function t(e,i,l,c,u,h,d,p){for(var f,m,g=u,v=0,y=!!d&&a(d,p,3);v<c;){if(v in l){if(f=y?y(l[v],v,i):l[v],m=!1,r(f)&&(m=void 0!==(m=f[s])?!!m:n(f)),m&&h>0)g=t(e,i,f,o(f.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}v++}return g}},function(t,e,i){var n=i(15),r=i(125),o=i(45);t.exports=function(t,e,i,a){var s=String(o(t)),l=s.length,c=void 0===i?" ":String(i),u=n(e);if(u<=l||""==c)return s;var h=u-l,d=r.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},function(t,e,i){var n=i(16),r=i(60),o=i(31),a=i(85).f;t.exports=function(t){return function(e){for(var i,s=o(e),l=r(s),c=l.length,u=0,h=[];c>u;)i=l[u++],n&&!a.call(s,i)||h.push(t?[i,s[i]]:s[i]);return h}}},function(t,e,i){var n=i(74),r=i(196);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(66);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-n)/(i-e)+n}},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Tabbable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(145)],void 0===(o="function"==typeof(n=function(t){return t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(55),i(198),i(201),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n,r=i&&"left"===i?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,n=e[r]>0,e[r]=0,n)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",(function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())})).on("mouseleave",(function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)r="ui-resizable-"+(e=t.trim(n[i])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,n,r,o;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")})),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,a,s,l,c=this.options;return this._helper&&(r=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,o=n?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-r},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=s-e.minWidth),n&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,a,s,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each((function(t,n){i[t]=l._num(e.css("padding"+n))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,s=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:a,height:s}))},resize:function(e){var i,n,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,h={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-h.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-h.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};t(r.alsoResize).each((function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,e){var i=(n[e]||0)+(s[e]||0);i&&i>=0&&(r[e]=i||null)})),e.css(r)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,p=o.width+h,f=o.height+d,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-h):((f-u<=0||p-c<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=a.top-d):(f=u-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-c>0?(i.size.width=p,i.position.left=a.left-h):(p=c-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(18)],void 0===(o="function"==typeof(n=function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,(function(n,r){var o,a={};if(r)return"controlgroupLabel"===n?((o=e.element.find(r)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(t.fn[n]&&(a=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(r).each((function(){var r=t(this),o=r[n]("instance"),s=t.widget.extend({},a);if("button"!==n||!r.parent(".ui-spinner").length){o||(o=r[n]()[n]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[n](s);var l=r[n]("widget");t.data(l[0],"ui-controlgroup-data",o||r[n]("instance")),i.push(l[0])}}))))})),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()}))},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,n){var r={};return t.each(i,(function(o){var a=n.options.classes[o]||"";a=t.trim(a.replace(e,"")),r[o]=(a+" "+i[o]).replace(/\s+/g," ")})),r},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,n){var r=e[n]().data("ui-controlgroup-data");if(r&&i["_"+r.widgetName+"Options"]){var o=i["_"+r.widgetName+"Options"](1===e.length?"only":n);o.classes=i._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else i._updateCornerClass(e[n](),n)})),this._callChildMethod("refresh"))}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(106),i(146),i(147),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Scale 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22),i(207)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("scale",(function(e,i){var n=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Size 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("size",(function(e,i){var n,r,o,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),m=a.position(),g=t.effects.scaledDimensions(a),v=e.from||g,y=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===u&&(o=v,v=y,y=o),r={from:{y:v.height/g.height,x:v.width/g.width},to:{y:y.height/g.height,x:y.width/g.width}},"box"!==d&&"both"!==d||(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,l,r.from.y,v),y=t.effects.setTransition(a,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,c,r.from.x,v),y=t.effects.setTransition(a,c,r.to.x,y))),"content"!==d&&"both"!==d||r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),y=t.effects.setTransition(a,s,r.to.y,y)),p&&(n=t.effects.getBaseline(p,g),v.top=(g.outerHeight-v.outerHeight)*n.y+m.top,v.left=(g.outerWidth-v.outerWidth)*n.x+m.left,y.top=(g.outerHeight-y.outerHeight)*n.y+m.top,y.left=(g.outerWidth-y.outerWidth)*n.x+m.left),a.css(v),"content"!==d&&"both"!==d||(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),a.find("*[width]").each((function(){var i=t(this),n=t.effects.scaledDimensions(i),o={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},a={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(i,l,r.from.y,o),a=t.effects.setTransition(i,l,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(i,c,r.from.x,o),a=t.effects.setTransition(i,c,r.to.x,a)),h&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,(function(){h&&t.effects.restoreStyle(i)}))}))),a.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===y.opacity&&a.css("opacity",v.opacity),h||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){"use strict";i.r(e),function(t){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var r=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),n))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(i+r+n)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),h=i&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?u:10===t?h:u||h}function p(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===a(i,"position")?p(i):i:t?t.ownerDocument.documentElement:document.documentElement}function f(t){return null!==t.parentNode?f(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,r=i?e:t,o=document.createRange();o.setStart(n,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||n.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(l):l;var c=f(t);return c.host?m(c.host,e):m(t,f(e).host)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i="top"===e?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[i]}return t[i]}function v(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(e,"top"),r=g(e,"left"),o=i?-1:1;return t.top+=n*o,t.bottom+=n*o,t.left+=r*o,t.right+=r*o,t}function y(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function _(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],d(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,i=t.documentElement,n=d(10)&&getComputedStyle(i);return{height:_("Height",e,i,n),width:_("Width",e,i,n)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),M=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function k(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var i=g(t,"top"),n=g(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||r.width,l=o.height||t.clientHeight||r.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=y(h,"x"),u-=y(h,"y"),r.width-=c,r.height-=u}return k(r)}function C(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=d(10),r="HTML"===e.nodeName,o=T(t),s=T(e),c=l(t),u=a(e),h=parseFloat(u.borderTopWidth,10),p=parseFloat(u.borderLeftWidth,10);i&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=k({top:o.top-s.top-h,left:o.left-s.left-p,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!n&&r){var m=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);f.top-=h-m,f.bottom-=h-m,f.left-=p-g,f.right-=p-g,f.marginTop=m,f.marginLeft=g}return(n&&!i?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(f=v(f,e)),f}function E(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=C(t,i),r=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),a=e?0:g(i),s=e?0:g(i,"left"),l={top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:r,height:o};return k(l)}function A(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var i=s(t);return!!i&&A(i)}function L(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function D(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?L(t):m(t,c(e));if("viewport"===n)o=E(a,r);else{var u=void 0;"scrollParent"===n?"BODY"===(u=l(s(e))).nodeName&&(u=t.ownerDocument.documentElement):u="window"===n?t.ownerDocument.documentElement:n;var h=C(u,a,r);if("HTML"!==u.nodeName||A(a))o=h;else{var d=b(t.ownerDocument),p=d.height,f=d.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=f+h.left}}var g="number"==typeof(i=i||0);return o.left+=g?i:i.left||0,o.top+=g?i:i.top||0,o.right-=g?i:i.right||0,o.bottom-=g?i:i.bottom||0,o}function P(t){return t.width*t.height}function O(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=D(i,n,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return S({key:t},s[t],{area:P(s[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function I(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=n?L(e):m(e,c(i));return C(i,r,n)}function N(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function R(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function F(t,e,i){i=i.split("-")[0];var n=N(t),r={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=e[a]+e[l]/2-n[l]/2,r[s]=i===s?e[s]-n[c]:e[R(s)],r}function j(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function U(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var n=j(t,(function(t){return t[e]===i}));return t.indexOf(n)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&o(i)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=i(e,t))})),e}function Y(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=O(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=F(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=U(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function V(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function H(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var r=e[n],o=r?""+r+i:t;if(void 0!==document.body.style[o])return o}return null}function B(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(t){var e=t.ownerDocument;return e?e.defaultView:window}function W(t,e,i,n){i.updateBound=n,z(t).addEventListener("resize",i.updateBound,{passive:!0});var r=l(t);return function t(e,i,n,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(i,n,{passive:!0}),o||t(l(a.parentNode),i,n,r),r.push(a)}(r,"scroll",i.updateBound,i.scrollParents),i.scrollElement=r,i.eventsEnabled=!0,i}function q(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,z(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function $(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function X(t,e){Object.keys(e).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&$(e[i])&&(n="px"),t.style[i]=e[i]+n}))}var K=i&&/Firefox/i.test(navigator.userAgent);function J(t,e,i){var n=j(t,(function(t){return t.name===e})),r=!!n&&t.some((function(t){return t.name===i&&t.enabled&&t.order<n.order}));if(!r){var o="`"+e+"`",a="`"+i+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=Q.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Z.indexOf(t),n=Z.slice(i+1).concat(Z.slice(0,i));return e?n.reverse():n}var et="flip",it="clockwise",nt="counterclockwise";function rt(t,e,i,n){var r=[0,0],o=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(j(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(t,n){var r=(1===n?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,n){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=i;break;case"%":case"%r":default:s=n}return k(s)[e]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,r,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,n){$(i)&&(r[e]+=i*("-"===t[n-1]?-1:1))}))})),r}var ot={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",u={start:M({},l,o[l]),end:M({},l,o[l]+o[c]-a[c])};t.offsets.popper=S({},a,u[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=n.split("-")[0],l=void 0;return l=$(+i)?[+i,0]:rt(i,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||p(t.instance.popper);t.instance.reference===i&&(i=p(i));var n=H("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[n];r.top="",r.left="",r[n]="";var l=D(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);r.top=o,r.left=a,r[n]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var i=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(u[t],l[t])),M({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=u[i];return u[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(u[i],l[t]-("right"===t?u.width:u.height))),M({},i,n)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=S({},u,h[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return i[s]<o(n[l])&&(t.offsets.popper[l]=o(n[l])-i[c]),i[l]>o(n[s])&&(t.offsets.popper[l]=o(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",h=c?"Top":"Left",d=h.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=N(n)[u];l[f]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(l[f]-m)),l[d]+m>s[f]&&(t.offsets.popper[d]+=l[d]+m-s[f]),t.offsets.popper=k(t.offsets.popper);var g=l[d]+l[u]/2-m/2,v=a(t.instance.popper),y=parseFloat(v["margin"+h],10),_=parseFloat(v["border"+h+"Width"],10),b=g-t.offsets.popper[d]-y-_;return b=Math.max(Math.min(s[u]-m,b),0),t.arrowElement=n,t.offsets.arrow=(M(i={},d,Math.round(b)),M(i,p,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(V(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=D(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],r=R(n),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case et:a=[n,r];break;case it:a=tt(n);break;case nt:a=tt(n,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(n!==s||a.length===l+1)return t;n=t.placement.split("-")[0],r=R(n);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,d="left"===n&&h(c.right)>h(u.left)||"right"===n&&h(c.left)<h(u.right)||"top"===n&&h(c.bottom)>h(u.top)||"bottom"===n&&h(c.top)<h(u.bottom),p=h(c.left)<h(i.left),f=h(c.right)>h(i.right),m=h(c.top)<h(i.top),g=h(c.bottom)>h(i.bottom),v="left"===n&&p||"right"===n&&f||"top"===n&&m||"bottom"===n&&g,y=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),b=!!e.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),w=_||b;(d||v||w)&&(t.flipped=!0,(d||v)&&(n=a[l+1]),w&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=n+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,F(t.instance.popper,t.offsets.reference,t.placement)),t=U(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,r=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return r[a?"left":"top"]=o[i]-(s?r[a?"width":"height"]:0),t.placement=R(e),t.offsets.popper=k(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=j(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,r=t.offsets.popper,o=j(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=p(t.instance.popper),l=T(s),c={position:r.position},u=function(t,e){var i=t.offsets,n=i.popper,r=i.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),c=o(n.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?u||h||l%2==c%2?o:a:s,p=e?o:s;return{left:d(l%2==1&&c%2==1&&!h&&e?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:d(n.right)}}(t,window.devicePixelRatio<2||!K),h="bottom"===i?"top":"bottom",d="right"===n?"left":"right",f=H("transform"),m=void 0,g=void 0;if(g="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===d?-1:1;c[h]=g*v,c[d]=m*y,c.willChange=h+", "+d}var _={"x-placement":t.placement};return t.attributes=S({},_,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return X(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&X(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,r){var o=I(r,e,t,i.positionFixed),a=O(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",a),X(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},at=function(){function t(e,i){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=r(this.update.bind(this)),this.options=S({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,a.modifiers)).forEach((function(e){n.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},n.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&o(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return x(t,[{key:"update",value:function(){return Y.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=Q,at.Defaults=ot,e.default=at}.call(this,i(51))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,i,o,a){var s=n(e),l=r[t][n(e)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];return t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,r,o,a){var s=i(e),l=n[t][i(e)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];return t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,i){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n,r;return"m"===i?e?"":"":"h"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}return t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:e,hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[i],t)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return n+=1===t?"dan":"dana";case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var i=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(i="a"),t+i},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,i,n){var r=t+" ";switch(i){case"s":return e||n?"pr sekund":"pr sekundami";case"ss":return e||n?r+(o(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":n?"minutu":"minutou";case"mm":return e||n?r+(o(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":n?"hodinu":"hodinou";case"hh":return e||n?r+(o(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||n?"den":"dnem";case"dd":return e||n?r+(o(t)?"dny":"dn"):r+"dny";case"M":return e||n?"msc":"mscem";case"MM":return e||n?r+(o(t)?"msce":"msc"):r+"msci";case"y":return e||n?"rok":"rokem";case"yy":return e||n?r+(o(t)?"roky":"let"):r+"lety"}}return t.defineLocale("cs",{months:e,monthsShort:i,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}return t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}return t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[i][0]:r[i][1]}return t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e=["","","","","","","","","","","",""],i=["","","","","","",""];return t.defineLocale("dv",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,i){return t>11?i?"":"":i?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var i,n=this._calendarEl[t],r=e&&e.hours();return((i=n)instanceof Function||"[object Function]"===Object.prototype.toString.call(i))&&(n=n.apply(e)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,i){return t>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[i][2]?r[i][2]:r[i][1]:n?r[i][0]:r[i][1]}return t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,i){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function n(t,n,r,o){var a="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"pivn":"piv";case"dd":a=o?"pivn":"piv";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return a=function(t,n){return t<10?n?i[t]:e[t]:t}(t,o)+" "+a}return t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voranim",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?r[i][0]:r[i][1]}return t.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,i){return t<5?" ":t<10?"":t<12?i?'"':" ":t<18?i?'"':" ":""}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n=t+" ";switch(i){case"ss":return n+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return n+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return n+=1===t?"dan":"dana";case"MM":return n+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return n+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function i(t,e,i,n){var r=t;switch(i){case"s":return n||e?"nhny msodperc":"nhny msodperce";case"ss":return r+(n||e)?" msodperc":" msodperce";case"m":return"egy"+(n||e?" perc":" perce");case"mm":return r+(n||e?" perc":" perce");case"h":return"egy"+(n||e?" ra":" rja");case"hh":return r+(n||e?" ra":" rja");case"d":return"egy"+(n||e?" nap":" napja");case"dd":return r+(n||e?" nap":" napja");case"M":return"egy"+(n||e?" hnap":" hnapja");case"MM":return r+(n||e?" hnap":" hnapja");case"y":return"egy"+(n||e?" v":" ve");case"yy":return r+(n||e?" v":" ve")}return""}function n(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}return t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,i){return t<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t){return t%100==11||t%10!=1}function i(t,i,n,r){var o=t+" ";switch(n){case"s":return i||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?o+(i||r?"sekndur":"sekndum"):o+"seknda";case"m":return i?"mnta":"mntu";case"mm":return e(t)?o+(i||r?"mntur":"mntum"):i?o+"mnta":o+"mntu";case"hh":return e(t)?o+(i||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return i?"dagur":r?"dag":"degi";case"dd":return e(t)?i?o+"dagar":o+(r?"daga":"dgum"):i?o+"dagur":o+(r?"dag":"degi");case"M":return i?"mnuur":r?"mnu":"mnui";case"MM":return e(t)?i?o+"mnuir":o+(r?"mnui":"mnuum"):i?o+"mnuur":o+(r?"mnu":"mnui");case"y":return i||r?"r":"ri";case"yy":return e(t)?o+(i||r?"r":"rum"):o+(i||r?"r":"ri")}}return t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:i,ss:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()<t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(|||)/.test(t)?t.replace(/$/,""):t+""},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[" ","","","","","","","",""," "," "," "];return t.defineLocale("ku",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[i][0]:r[i][1]}function i(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return i(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return i(t)}return i(t/=1e3)}return t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return i(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return i(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function i(t,e,i,n){return e?r(i)[0]:n?r(i)[1]:r(i)[2]}function n(t){return t%10==0||t>10&&t<20}function r(t){return e[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+i(0,e,o[0],a):e?s+(n(t)?r(o)[1]:r(o)[0]):a?s+r(o)[1]:s+(n(t)?r(o)[1]:r(o)[2])}return t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,i,n){return e?"kelios sekunds":n?"keli sekundi":"kelias sekundes"},ss:o,m:i,mm:o,h:i,hh:o,d:i,dd:o,M:i,MM:o,y:i,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function i(t,e,i){return i?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function n(t,n,r){return t+" "+i(e[r],t,n)}function r(t,n,r){return i(e[r],t,n)}return t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:n,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-":0===i?t+"-":i>10&&i<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){switch(i){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}return t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function n(t,e,i,n){var r="";if(e)switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,t)}return t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?i[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function n(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function r(t,e,i){var r=t+" ";switch(i){case"ss":return r+(n(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return r+(n(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return r+(n(t)?"godziny":"godzin");case"MM":return r+(n(t)?"miesice":"miesicy");case"yy":return r+(n(t)?"lata":"lat")}}return t.defineLocale("pl",{months:function(t,n){return t?""===n?"("+i[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(n)?i[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzie",dd:"%d dni",M:"miesic",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n=" ";return(t%100>=20||t>=100&&t%100==0)&&(n=" de "),t+n+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[i]}return t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n,r;return"m"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];return t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e=["","","","","","","","","","","",""],i=["","","","","","",""];return t.defineLocale("sd",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,i){return t>11?i?"..":" ":i?"..":" "}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function n(t){return t>1&&t<5}function r(t,e,i,r){var o=t+" ";switch(i){case"s":return e||r?"pr seknd":"pr sekundami";case"ss":return e||r?o+(n(t)?"sekundy":"seknd"):o+"sekundami";case"m":return e?"minta":r?"mintu":"mintou";case"mm":return e||r?o+(n(t)?"minty":"mint"):o+"mintami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?o+(n(t)?"hodiny":"hodn"):o+"hodinami";case"d":return e||r?"de":"dom";case"dd":return e||r?o+(n(t)?"dni":"dn"):o+"dami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?o+(n(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?o+(n(t)?"roky":"rokov"):o+"rokmi"}}return t.defineLocale("sk",{months:e,monthsShort:i,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r=t+" ";switch(i){case"s":return e||n?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===t?e?"sekundo":"sekundi":2===t?e||n?"sekundi":"sekundah":t<5?e||n?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||n?"minuti":"minutama":t<5?e||n?"minute":"minutami":e||n?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||n?"uri":"urama":t<5?e||n?"ure":"urami":e||n?"ur":"urami";case"d":return e||n?"en dan":"enim dnem";case"dd":return r+=1===t?e||n?"dan":"dnem":2===t?e||n?"dni":"dnevoma":e||n?"dni":"dnevi";case"M":return e||n?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||n?"mesec":"mesecem":2===t?e||n?"meseca":"mesecema":t<5?e||n?"mesece":"meseci":e||n?"mesecev":"meseci";case"y":return e||n?"eno leto":"enim letom";case"yy":return r+=1===t?e||n?"leto":"letom":2===t?e||n?"leti":"letoma":t<5?e||n?"leta":"leti":e||n?"let":"leti"}}return t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,i){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,i,n){var r=e.words[n];return 1===n.length?i?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,i){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e||2===e?"a":"e")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return i[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,i){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function i(t,i,n,r){var o=function(t){var i=Math.floor(t%1e3/100),n=Math.floor(t%100/10),r=t%10,o="";return i>0&&(o+=e[i]+"vatlh"),n>0&&(o+=(""!==o?" ":"")+e[n]+"maH"),r>0&&(o+=(""!==o?" ":"")+e[r]),""===o?"pagh":o}(t);switch(n){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}return t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:i,m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,i){switch(i){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i,n){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return n||e?r[i][0]:r[i][1]}return t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,i){return t>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js language configuration
a=function(t){"use strict";return t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?" ":n<900?"":n<1130?" ":n<1230?"":n<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";function e(t,e,i){var n,r;return"m"===i?e?"":"":"h"===i?e?"":"":t+" "+(n=+t,r={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[i].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}function i(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}return t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var i={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?i.nominative.slice(1,7).concat(i.nominative.slice(0,1)):t?i[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:i.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:i("[ "),nextDay:i("[ "),lastDay:i("[ "),nextWeek:i("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[] dddd [").call(this);case 1:case 2:case 4:return i("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,i){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";var e=["","","","","","","","","","","",""],i=["","","","","","",""];return t.defineLocale("ur",{months:e,monthsShort:e,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,i){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){var n,r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
//! moment.js locale configuration
a=function(t){"use strict";return t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?a(i(0)):(r=[i(0)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){"use strict";i.r(e),i.d(e,"Headers",(function(){return p})),i.d(e,"Request",(function(){return b})),i.d(e,"Response",(function(){return x})),i.d(e,"DOMException",(function(){return S})),i.d(e,"fetch",(function(){return k}));var n="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function g(t){var e=new FileReader,i=m(e);return e.readAsArrayBuffer(t),i}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,i,n=f(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=m(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=u(t),e=h(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},p.prototype.delete=function(t){delete this.map[u(t)]},p.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},p.prototype.set=function(t,e){this.map[u(t)]=h(e)},p.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),d(t)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var i,n,r=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),_.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var M=[301,302,303,307,308];x.redirect=function(t,e){if(-1===M.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})};var S=self.DOMException;try{new S}catch(t){(S=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function k(t,e){return new Promise((function(i,n){var r=new b(t,e);if(r.signal&&r.signal.aborted)return n(new S("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new x(r,n))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.onabort=function(){n(new S("Aborted","AbortError"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),r.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),r.signal&&(r.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&r.signal.removeEventListener("abort",s)}),a.send(void 0===r._bodyInit?null:r._bodyInit)}))}k.polyfill=!0,self.fetch||(self.fetch=k,self.Headers=p,self.Request=b,self.Response=x)},function(t,e,i){var n=i(50);t.exports=function(t){var e=new n.OrthographicCamera(-1,1,1,-1,0,1),i=new n.Scene,r=new n.StereoCamera;r.aspect=.5;var o={minFilter:n.LinearFilter,magFilter:n.NearestFilter,format:n.RGBAFormat},a=new n.WebGLRenderTarget(512,512,o);a.scissorTest=!0;var s=new n.Vector2(.441,.156),l=new n.PlaneBufferGeometry(1,1,10,20).removeAttribute("normal").toNonIndexed(),c=l.attributes.position.array,u=l.attributes.uv.array,h=new Float32Array(2*c.length);h.set(c),h.set(c,c.length);var d=new Float32Array(2*u.length);d.set(u),d.set(u,u.length);for(var p=new n.Vector2,f=c.length/3,m=0,g=h.length/3;m<g;m++){p.x=h[3*m+0],p.y=h[3*m+1];var v=p.dot(p),y=1.5+(s.x+s.y*v)*v,_=m<f?0:1;h[3*m+0]=p.x/y*1.5-.5+_,h[3*m+1]=p.y/y*3,d[2*m]=.5*(d[2*m]+_)}l.attributes.position.array=h,l.attributes.uv.array=d;var b=new n.MeshBasicMaterial({map:a}),w=new n.Mesh(l,b);i.add(w),this.setSize=function(e,i){var n=t.getPixelRatio();a.setSize(e*n,i*n)},this.render=function(n,o){n.updateMatrixWorld(),null===o.parent&&o.updateMatrixWorld(),r.update(o);var s=a.width/2,l=a.height;a.scissor.set(0,0,s,l),a.viewport.set(0,0,s,l),t.render(n,r.cameraL,a),a.scissor.set(s,0,s,l),a.viewport.set(s,0,s,l),t.render(n,r.cameraR,a),t.render(i,e)}}},function(t,e,i){var n=i(50);t.exports=function(t){var e=this;this.object=t,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alpha=0,this.alphaOffsetAngle=0;var i,r,o,a,s=function(t){e.deviceOrientation=t},l=function(){e.screenOrientation=window.orientation||0},c=(i=new n.Vector3(0,0,1),r=new n.Euler,o=new n.Quaternion,a=new n.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(t,e,n,s,l){r.set(n,e,-s,"YXZ"),t.setFromEuler(r),t.multiply(a),t.multiply(o.setFromAxisAngle(i,-l))});this.connect=function(){l(),window.addEventListener("orientationchange",l,!1),window.addEventListener("deviceorientation",s,!1),e.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",l,!1),window.removeEventListener("deviceorientation",s,!1),e.enabled=!1},this.update=function(){if(!1!==e.enabled){var t=e.deviceOrientation.alpha?n.Math.degToRad(e.deviceOrientation.alpha)+this.alphaOffsetAngle:0,i=e.deviceOrientation.beta?n.Math.degToRad(e.deviceOrientation.beta):0,r=e.deviceOrientation.gamma?n.Math.degToRad(e.deviceOrientation.gamma):0,o=e.screenOrientation?n.Math.degToRad(e.screenOrientation):0;c(e.object.quaternion,t,i,r,o),this.alpha=t}},this.updateAlphaOffsetAngle=function(t){this.alphaOffsetAngle=t,this.update()},this.dispose=function(){this.disconnect()},this.connect()}},function(t,e,i){var n=i(3),r=i(12).backboneFetchPromise;t.exports=n.Collection.extend({fetchPromise:r})},function(t,e,i){var n=i(5),r=i(3),o=i(25).ANNOTATION_TYPES,a=i(8).API_ROOT,s=i(89),l=i(155);t.exports=r.Model.extend({idAttribute:"uuid",renderMode:function(){return this.get("render_mode")},annotationType:function(){var t=this.get("annotation_type");return null!==t?t:o.DEFAULT},renderSize:function(){return this.get("render_size")},isNew:function(){return void 0===this.get("uuid")},parse:function(t){if(n.isArray(t.media)){var e=[];n.each(t.media,(function(t){e.push(new s(t,{parse:!0}))})),t.media=new l(e)}return t.preview_image_media&&(t.preview_image_media=new s(t.preview_image_media,{parse:!0})),t},url:function(){var t="".concat(a,"annotation/");return this.isNew()?t:"".concat(t).concat(this.get("uuid"))}})},function(t,e,i){(function(e,n){var r=i(5),o=i(3),a=i(23).processCustomDataString,s=i(12).sanitizeHtml,l=i(72),c=i(29),u=c.ANNOTATION_JUMP_TO_ANNOTATION,h=c.ANNOTATION_TOGGLE_ANNOTATION_MODE,d=c.ANNOTATION_TOGGLE_SLIDESHOW;t.exports=o.View.extend({className:"annotation-index-view",tagName:"div",events:{"click .index-view-show-annotations":"handleClickShowAnnotationsAnchor","change .index-view-footer .switch input":"handleToggleShowAnnotations","click .index-view-autoplay":"handleStartAutoplay","click .index-view-pause":"handlePauseAutoplay","click .annotations-list > li > a":"handleClickAnnotationTarget"},initialize:function(t){if(!(t=t||{}).collection)throw"AnnotationIndexView requires option collection";if(void 0===t.annotationVisible)throw"AnnotationIndexView requires option annotationVisible";this.options=t,this.collection.on("add",this.handleAddAnnotationTarget.bind(this)),this.collection.on("remove",this.handleRemoveAnnotationTarget.bind(this)),this.on(u,this.handleJumpToAnnotation.bind(this)),this.annotationsList=e.ul({class:"annotations-list"}).appendTo(this.el),this.collection.models.length>0?r.each(this.collection.models,function(t){this.renderAnnotationTarget(t).appendTo(this.annotationsList)}.bind(this)):this.renderZeroStateList(),e.div({class:"index-view-footer row"},e.div({class:"col"},e.label({class:"switch"},e.input({type:"checkbox",id:"annotation-visible-checkbox",checked:"checked"}),e.span({class:"slider round"})),e.a({href:"#",class:"index-view-show-annotations"},"Annotations")),e.div({class:"col"},e.a({href:"#",class:"index-view-autoplay"},e.i({class:"fas fa-play"}),"Autoplay"),e.a({href:"#",class:"index-view-pause"},e.i({class:"fas fa-pause"}),"Pause"))).appendTo(this.el),n("#annotation-visible-checkbox",this.el).prop("checked",t.annotationVisible)},autoplayStopped:function(){n(".index-view-pause",this.el).hide(),n(".index-view-autoplay",this.el).show()},handleClickShowAnnotationsAnchor:function(t){t&&t.preventDefault(),n(t.currentTarget).siblings(".switch").find("input").trigger("click")},handleToggleShowAnnotations:function(t){t&&t.preventDefault(),this.trigger(h)},handleStartAutoplay:function(t){t&&t.preventDefault(),n(t.currentTarget).hide(),n(t.currentTarget).parent().find(".index-view-pause").show(),this.trigger(d)},handlePauseAutoplay:function(t){t&&t.preventDefault(),n(t.currentTarget).hide(),n(t.currentTarget).parent().find(".index-view-autoplay").show(),this.trigger(d)},handleClickAnnotationTarget:function(t){t&&t.preventDefault();var e=n(t.currentTarget).parents("li").data("model");e?this.trigger(u,e.get("annotation")):console.error("Could not find AnnotationTarget")},handleJumpToAnnotation:function(t){var e=t.get("uuid");n(this.annotationsList).find("li").removeClass("active"),n(this.annotationsList).find("#index-"+e).addClass("active")},renderZeroStateList:function(){n(this.annotationsList).empty(),e.div({class:"text-center annotations-list-empty"},e.h3("No Annotations to Display"),e.p(e.a({href:"https://help.momento360.com/article/57-annotations-overview",target:"_blank",class:"empty-annotations-link"},"Learn about Annotations"))).appendTo(this.annotationsList)},renderAnnotationTarget:function(t){var i=t.get("annotation"),r=i.get("title");l.get(l.IS_EMBED,!1)&&this.options.useCustomDataFields&&this.options.customData&&(r=a(r,this.options.customData)),r=s(r);var o=e.li({id:"index-"+i.get("uuid")},e.a({href:"#"},r));return n(o).data("model",t),o},handleAddAnnotationTarget:function(t){n(this.annotationsList).find(".annotations-list-empty").remove(),this.renderAnnotationTarget(t).appendTo(this.annotationsList)},handleRemoveAnnotationTarget:function(t){var e=t.get("annotation").get("uuid"),i=n(this.annotationsList);i.find("#index-"+e).remove(),i.find("li").length<1&&this.renderZeroStateList()}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){var r=i(3),o=i(25),a=o.ANNOTATION_MODE_CREATE,s=o.ANNOTATION_MODE_EDIT,l=o.ANNOTATION_PANEL,c=o.RENDER_MODES,u=i(29),h=u.ANNOTATION_OPEN_EDIT_PANEL,d=u.ANNOTATION_OPEN_VIEW_PANEL,p=i(23).getRenderMode,f=i(108),m=i(649),g=i(667);t.exports=r.View.extend({className:"annotation-panel-wrapper",events:{"click .collapse-handle > a":"collapse","click .expand-handle > a":"expand","click button.close":"close"},isVisible:!1,isExpanded:!0,readOnly:!1,standAlonePlayer:!1,panelContents:null,annotationTargetCollection:null,editingOrViewingAnnotationId:null,useCustomDataFields:!1,customData:null,userDidClickAnnotation:!1,initialize:function(t){if(!(t=t||{}).annotationTargetCollection)throw new Error("AnnotationPanelView requires option annotationTargetCollection");this.annotationsDate=!("annotationsDate"in t)||t.annotationsDate,this.annotationsPanelControls=!("annotationsPanelControls"in t)||t.annotationsPanelControls,this.annotationTargetCollection=t.annotationTargetCollection,this.history="history"in t?t.history:null,this.readOnly="readOnly"in t&&!0===t.readOnly,this.standAlonePlayer="standAlonePlayer"in t&&!0===t.standAlonePlayer,this.user="user"in t?t.user:null,this.upload="upload"in t?t.upload:null,this.uploadUuid="uploadUuid"in t?t.uploadUuid:null,this.standAlonePlayer&&(this.useCustomDataFields=t.useCustomDataFields,this.customData=t.customData),this.on(d,function(t){this.checkTypeAndSetVisibility(t)&&this.openView(t)}.bind(this)),this.on(h,function(t){this.openEdit(t)}.bind(this)),this.annotationTargetCollection.on("remove",this.handleRemovedAnnotationTarget.bind(this)),this.annotationPanel=e.div({class:"annotation-panel"}).appendTo(this.el),this.collapseHandle=e.div({class:"collapse-handle"},e.a({href:"#"},e.i({class:"fal fa-angle-left","aria-hidden":"true"}))).appendTo(this.el),this.expandHandle=e.div({class:"expand-handle"},e.a({href:"#"},e.i({class:"fal fa-angle-right","aria-hidden":"true"}))).appendTo(this.el),this.expand().hide()},getAnnotationMarkerContext:function(){return this.uploadUuid?{uploadUuid:this.uploadUuid}:this.upload?{userUuid:this.upload.get("owner").uuid}:{}},handleRemovedAnnotationTarget:function(t){this.editingOrViewingAnnotationId&&this.editingOrViewingAnnotationId===t.get("annotation").get("uuid")&&this.close()},checkTypeAndSetVisibility:function(t){var e=p(t)===c.DEFAULT;return e||this.isVisible&&this.close(),e},hide:function(){if(this.$el.hide(),this.isVisible=!1,this.history)for(;this.history.peek(0)&&this.history.peek(0).mode===l;)this.history.pop();return this},show:function(){return this.$el.show(),this.isVisible=!0,this.history&&this.history.push(l,{annotationPanel:this}),n('[data-toggle="tooltip"]').tooltip(),this},expand:function(t){return t&&t.preventDefault(),n(this.annotationPanel).show(),n(this.collapseHandle).show(),n(this.expandHandle).hide(),this.isExpanded=!0,this},collapse:function(t){return t&&t.preventDefault(),n(this.annotationPanel).hide(),n(this.collapseHandle).hide(),n(this.expandHandle).show(),this.isExpanded=!1,this},close:function(t){t&&t.preventDefault(),this.editingOrViewingAnnotationId=null,n(this.annotationPanel).empty(),this.hide()},openCreate:function(t){!0===window.M360FeatureFlags["annotation-creation"]?this.readOnly?console.warn("Attempt to open create annotation modal panel in read-only mode"):new f(null,{context:this.getAnnotationMarkerContext()}).fetchPromise().then(function(e){this.panelContents=new m({annotationMarkerCollection:e,viewOptions:t,annotationTargetCollection:this.annotationTargetCollection,panel:this,mode:a,user:this.user,upload:this.upload}),n(this.annotationPanel).empty().append(this.panelContents.el),this.expand().show(),this.panelContents.$el.find("input#annotation-title").focus()}.bind(this)):console.warn("User does not have access to annotation creation")},openView:function(t){p(t)===c.DEFAULT&&(this.editingOrViewingAnnotationId=t.get("annotation").get("uuid"),this.panelContents=new g({annotationsDate:this.annotationsDate,annotationsPanelControls:this.annotationsPanelControls,collection:this.annotationTargetCollection,model:t,panel:this}),n(this.annotationPanel).empty().append(this.panelContents.el),this.expand().show())},openEdit:function(t){this.readOnly?console.warn("Attempt to open edit annotation panel while in read-only mode"):(this.editingOrViewingAnnotationId=t.get("annotation").get("uuid"),new f(null,{context:this.getAnnotationMarkerContext()}).fetchPromise().then(function(e){this.panelContents=new m({annotationMarkerCollection:e,annotationTargetCollection:this.annotationTargetCollection,model:t,panel:this,mode:s,user:this.user,upload:this.upload}),n(this.annotationPanel).empty().append(this.panelContents.el),this.expand().show()}.bind(this)))}})}).call(this,i(4),i(2))},function(t,e,i){(function(e){var n=i(5),r=i(13),o=i(344);t.exports=r.extend({initialize:function(t){t=t||{};var i=new o,a=e.div({class:"text-center custom-markers-upsell-modal bulk-actions-modal"},e.h3("Create / Manage Custom Markers"),i.el,e.p("Add your own icons to use as annotations."),e.p("Available on Pro plans only. ",e.a({class:"upsell-link",href:"https://help.momento360.com/article/123-custom-annotation-markers",target:"_blank"},"Learn more")));r.prototype.initialize.call(this,n.extend(t,{modalBody:a,primaryActionLabel:"UPGRADE PLAN",primaryActionClass:"thin-button btn-center",onPrimaryAction:this.handleCtaClick.bind(this),disableSecondaryAction:!0,verticalPosition:"top"}))},handleCtaClick:function(t){return t.preventDefault(),window.location.href="/billing/upgrade",!0}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(3);t.exports=n.View.extend({tagName:"div",className:"icon-row mt-4 mb-4 text-center",_icons:["fal fa-hammer","fal fa-map-pin","fal fa-camera"],initialize:function(){var t=this;this._icons.forEach((function(i){e.i({class:i}).appendTo(t.el)}))}})}).call(this,i(4))},function(t,e,i){(function(e,n){var r=i(5),o=i(13),a=i(109),s=i(108),l=i(650),c=i(651),u=i(346),h=i(655);t.exports=o.extend({initialize:function(t){if(!(t=t||{}).user){if(!window.user)throw new Error("Step1SelectorModal requires option user");t.user=window.user}this.user=t.user,this.collection=new s(null,{userUuid:this.user.get("uuid"),excludeSystemMarkers:!0}),this.listeners=t.listeners||null,this.selectedAnnotationMarker=new a;var i=new l({model:this.selectedAnnotationMarker,collection:this.collection});this.detailPaneEl=e.div({class:"detail-pane text-center"});var n=e.div({class:"text-center manage-markers-selector bulk-actions-modal"},e.div({class:"selector-pane text-left"},i.el),this.detailPaneEl);o.prototype.initialize.call(this,r.extend(t,{title:"Manage Custom Markers",modalBody:n,buttons:[{class:"thin-button unselected-state",label:"+ ADD NEW MARKER",callback:this.handleAddNewMarkerClick.bind(this)},{class:"thin-light-button selected-state d-none",label:" BACK",callback:this.handleBackClick.bind(this)},{class:"thin-light-button selected-state d-none",label:"DELETE MARKER",callback:this.handleDeleteMarkerClick.bind(this)},{class:"thin-button selected-state d-none",label:"EDIT MARKER",callback:this.handleEditMarkerClick.bind(this)}],size:"lg",verticalPosition:"top",centerButtons:!0,destroyOnClose:!1})),this.listenTo(this.selectedAnnotationMarker,"change",this.render.bind(this)),this.render()},render:function(){var t=n(this.detailPaneEl);if(t.empty(),this.hasMarkerSelection()){var i=new c({model:this.selectedAnnotationMarker});this.detailPaneEl.append(i.el),this.$el.find("button.unselected-state").addClass("d-none"),this.$el.find("button.selected-state").removeClass("d-none")}else t.append(e.h3("To Add a New Marker"),e.p('Click the "Add New Marker" button'),e.h3("To Edit an Existing Marker"),e.p('Select the Marker in the list and click the "Edit Marker" button'),e.a({href:"https://help.momento360.com/article/123-custom-annotation-markers",target:"_blank"},"Click for more details")),this.$el.find("button.selected-state").addClass("d-none"),this.$el.find("button.unselected-state").removeClass("d-none")},handleAddNewMarkerClick:function(t){return t.preventDefault(),new u({disableFade:!0,previousModal:this,listeners:this.listeners}).open(),analytics.track("Custom Marker: Open Upload Images Step",{launch_point:"Manage Modal"}),!0},hasMarkerSelection:function(){return this.selectedAnnotationMarker.has("uuid")},handleBackClick:function(t){if(t.preventDefault(),this.hasMarkerSelection())return this.selectedAnnotationMarker.clear(),!1},getCollectionModel:function(){var t=this;return this.selectedAnnotationMarker&&this.selectedAnnotationMarker.has("uuid")?this.collection.find((function(e){return e.get("uuid")===t.selectedAnnotationMarker.get("uuid")})):null},handleEditMarkerClick:function(t){return t.preventDefault(),new u({disableFade:!0,model:this.getCollectionModel(),previousModal:this,listeners:this.listeners}).open(),analytics.track("Custom Marker: Click Edit Marker Button"),!0},handleDeleteMarkerClick:function(t){return t.preventDefault(),new h({disableFade:!0,model:this.getCollectionModel(),previousModal:this,listeners:this.listeners}).open(),!0}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var u=i(5),h=i(13),d=i(29).IMAGE_PICKER_CHANGE,p=i(652),f=i(653),m={crop:{}},g={source:"Normal state",hover_source:"Hover state",selected_source:"Selected state"};t.exports=h.extend({initialize:function(t){t=t||{},this.previousModal=t.previousModal||null,this.listeners=t.listeners||null;var i=e.div({class:"image-pickers"});this.pickers=[];for(var n=0,r=Object.entries(g);n<r.length;n++){var a=s(r[n],2),l=a[0],c=a[1],f="".concat(l,"_filestack_handle"),v=this.model&&this.model.has(f)?this.model.get(f):null,y=new p(o({maxSize:1048576,filestackTransformations:m},v?{handle:v}:{}));this.listenTo(y,d,this.render.bind(this)),this.pickers.push(y),e.div({class:"image-picker"},y.el,e.label(c)).appendTo(i)}var _=e.div({class:"text-center custom-markers-upload-images bulk-actions-modal"},e.h3("Upload marker icon images"),e.p("Upload three images for the icon. 512 x 512 pngs are best ",e.i({class:"fal fa-info-circle tt-custom-marker-upload-imgs"})),e.p({class:"d-none text-error continue-error"},"All three states must have an image to continue."),i);h.prototype.initialize.call(this,u.extend(t,{title:"Create Custom Marker  Upload Images",modalBody:_,buttons:[{class:"thin-light-button",label:"CANCEL",callback:this.handleCancelClick.bind(this)},{class:"thin-button disabled next-button",label:"NEXT",callback:this.handleNextClick.bind(this)}],verticalPosition:"top",centerButtons:!0,destroyOnClose:!1})),this.render()},render:function(){var t,e=!0,i=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=l(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}(this.pickers);try{for(i.s();!(t=i.n()).done;){e&=t.value.hasImage()}}catch(t){i.e(t)}finally{i.f()}this.$el.find(".next-button").toggleClass("disabled",!e);var n=this.$el.find(".continue-error");n.hasClass("d-none")||n.addClass("d-none")},handleCancelClick:function(t){return t.preventDefault(),this.previousModal&&this.previousModal.open(),!0},handleNextClick:function(t){return t.preventDefault(),n(t.currentTarget).hasClass("disabled")?(analytics.track("Custom Marker: Not Enough Images to Advance"),void this.$el.find(".continue-error").removeClass("d-none")):(this.$el.find(".continue-error").addClass("d-none"),new f(o(o({previousModal:this,normal:this.pickers[0].model,hover:this.pickers[1].model,selected:this.pickers[2].model,disableFade:!0},this.model?{model:this.model}:{}),{},{listeners:this.listeners})).open(),analytics.track("Custom Marker: Open Confirm Details Step"),!0)}})}).call(this,i(4),i(2))},function(t,e,i){(function(e){var n=i(3),r=i(657),o=i(29),a=o.ANNOTATION_MEDIA_ADDED,s=o.ANNOTATION_MEDIA_REMOVED,l=o.REFRESH_ANNOTATION_MEDIA_VIEW,c=i(23).getAttachmentOptions;t.exports=n.View.extend({className:"annotation-media",tagName:"ul",events:{"click .annotation-media-delete":"handleRemoveAnnotationMedia"},pendingRemoval:[],originalCollection:null,initialize:function(t){if(!(t=t||{}).collection)throw new Error("AnnotationMediaCollectionView requires collection option");this.editMode="editMode"in t&&!0===t.editMode,this.filterMimeTypes="filterMimeTypes"in t?t.filterMimeTypes:null,this.annotationType="annotationType"in t?t.annotationType:null,this.listenTo(this.collection,"add",this.handleAddMediaObject.bind(this)),this.listenTo(this.collection,"remove",this.handleRemoveMediaObject.bind(this)),this.listenTo(this.collection,"reset",this.handleResetCollection.bind(this)),this.listenTo(this,l,this.handleRefresh.bind(this)),this.handleResetCollection(),this.pendingRemoval=[],this.originalCollection=this.collection.clone()},setAnnotationType:function(t){this.annotationType=t},handleRefresh:function(){var t=this,e=this.annotationType?c(this.annotationType):null,i=null===e||!0===e.multiple,n=!1;this.collection.forEach((function(e){var r=e.get("filestack_handle"),o=t.$el.find("#media-".concat(r));if("function"==typeof t.filterMimeTypes){var a=t.filterMimeTypes(e),s=a&&(i||!n);o.toggleClass("d-none",!s),n|=a}else o.removeClass("d-none")}))},handleAddMediaObject:function(t){var e=new r({model:t,editMode:this.editMode});this.el.appendChild(e.el),this.trigger(a),this.handleRefresh()},handleRemoveAnnotationMedia:function(t){t&&t.preventDefault();var i=e(t.currentTarget).parents(".media-preview").data("model");this.collection.remove(i),i.get("uuid")&&this.pendingRemoval.push(i),this.handleRefresh()},clearAnnotationMedia:function(){var t=this;this.$el.find(".media-preview").each((function(i,n){var r=e(n).data("model");t.collection.remove(r),r.get("uuid")&&t.pendingRemoval.push(r)})),this.handleRefresh()},removePendingRemovals:function(){this.pendingRemoval.forEach((function(t){t.destroy()}))},handleResetCollection:function(){this.$el.empty(),this.collection.forEach(function(t){this.handleAddMediaObject(t)}.bind(this))},restoreOriginalCollection:function(){this.collection.reset(this.originalCollection.models)},handleRemoveMediaObject:function(t){var e=t.get("filestack_handle");this.$el.find("#media-"+e).remove(),this.handleRefresh(),this.trigger(s)}})}).call(this,i(2))},function(t,e,i){(function(e,n){var r=i(3),o=i(156).getFolder,a=i(349),s=i(663),l=i(664);t.exports=r.View.extend({className:"upload-selector",tagName:"div",events:{"change #folder-select":"handleFolderSelected"},initialize:function(t){if(!(t=t||{}).rootFolder)throw new Error("UploadSelectorModalView requires option rootFolder");if(!t.model)throw new Error("UploadSelectorModalView requires option model");if(!t.emptyTitle)throw new Error("UploadSelectorModalView requires option emptyTitle");if(!t.emptyBody)throw new Error("UploadSelectorModalView requires option emptyBody");this.rootFolder=t.rootFolder,this.startingFolderUuid=t.startingFolderUuid||null,this.collection=new a([],{rootFolder:this.rootFolder}),this.listenTo(this.collection,"update",this.render.bind(this)),this.collection.fetch(),this.folderUploadCollection=new r.Collection([]),this.uploadListSelectorView=new s({collection:this.folderUploadCollection,model:this.model,disabledUuids:t.disabledUuids&&Array.isArray(t.disabledUuids)?t.disabledUuids:[]}),this.uploadPreviewView=new l({model:this.model,emptyTitle:t.emptyTitle,emptyBody:t.emptyBody}),this.folderSelect=e.select({class:"form-control",id:"folder-select",disabled:"disabled"},e.option({value:""},"Loading")),e.div({class:"folder-selector"},e.span({class:"label"},"Select Folder"),this.folderSelect).appendTo(this.el),e.div({class:"explorer"},e.div({class:"left"},this.uploadListSelectorView.el),e.div({class:"right"},this.uploadPreviewView.el)).appendTo(this.el)},render:function(){n(this.folderSelect).empty().append(this.collection.buildFolderOptions(this.startingFolderUuid)).removeAttr("disabled"),this.handleFolderSelected()},handleFolderSelected:function(t){var e=this;o(n(this.folderSelect).val()).then((function(t){e.selectedFolder=t,e.selectedFolder.getUploads(!1).then((function(t){e.folderUploadCollection.reset(t)}))}))}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=i(3),s=i(662);t.exports=a.Collection.extend({model:s,rootFolder:null,initialize:function(t,e){if(!(e=e||{}).rootFolder)throw new Error("FolderStructureCollection requires option rootFolder");this.rootFolder=e.rootFolder,a.Collection.prototype.initialize.call(this,t,e)},url:function(){return"subfolders_url"in this.rootFolder?this.rootFolder.subfolders_url:this.rootFolder.get("subfolders_url")},buildFolderOptions:function(t){if(this.length<1)return[];var i=[];return this.forEach((function(a){var s=a.get("uuid"),l=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({value:s,class:"depth-"+a.get("depth")},t&&t===s?{selected:"selected"}:{}),c=e.option(l);n(c).html("&nbsp;&nbsp;&nbsp;&nbsp;".repeat(a.get("depth"))+" "+a.get("name")),i.push(c)})),i}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){var r=i(3),o=i(25),a=o.PREVIEW,s=o.RENDER_MODES,l=o.ANNOTATION_FORM_METADATA,c=o.ANNOTATION_TYPES,u=i(23),h=u.thumbnailUrlFromFilestackUrl,d=u.processCustomDataString,p=u.getContentCropUrl,f=i(12).sanitizeHtml;t.exports=r.View.extend({className:"annotation-preview-view",defaultIconClass:"fal fa-file",mimetypePatterns:[{pattern:/^image\//i,iconClass:"fal fa-file-image",supportsPreview:!0},{pattern:/^video\//i,iconClass:"fal fa-file-video"},{pattern:/^audio\//i,iconClass:"fal fa-file-audio"},{pattern:/^application\/pdf$/i,iconClass:"fal fa-file-pdf",supportsPreview:!0},{pattern:/ms-powerpoint|presentationml/i,iconClass:"fal fa-file-powerpoint",supportsPreview:!0},{pattern:/ms-excel|spreadsheetml/i,iconClass:"fal fa-file-excel",supportsPreview:!0},{pattern:/msword|ms-word|wordprocessingml/i,iconClass:"fal fa-file-word",supportsPreview:!0},{pattern:/^application\/rtf$/i,iconClass:"fal fa-file-alt",supportsPreview:!0},{pattern:/^text\/plain$/i,iconClass:"fal fa-file-alt",supportsPreview:!0},{pattern:/^application\/g?zip$/i,iconClass:"fal fa-file-archive"},{pattern:/^application\/x-(?:7z|rar)-compressed$/i,iconClass:"fal fa-file-archive"},{pattern:/^application\/x-(?:bzip|bzip2|gzip)$/i,iconClass:"fal fa-file-archive"}],getMediaInfo:function(t){for(var e=0;e<this.mimetypePatterns.length;e++){var i=this.mimetypePatterns[e],n=i.pattern,r=i.iconClass,o="supportsPreview"in i&&!0===i.supportsPreview;if(null!==t.match(n))return{iconClass:r,supportsPreview:o}}return{iconClass:this.defaultIconClass,supportsPreview:!1}},determinePreviewParameters:function(){var t=this.model.get("render_mode"),e=this.model.get("annotation_type"),i=this.model.get("preview_image_media"),n=!1,r=!1,o=!0,u=null,d=null,f=null;if(e in a){o=!0===l[e].supportsDescription;var m=a[e],g=this.model.get("media");if(e!==c.NAVIGATION&&g&&g.models.length>0){if(n=!0,m.thumbnail){var v=m.thumbnailMimeTypes,y=g.models.find((function(t){return v.includes(t.get("content_type"))}));y&&(r=!0,d=h(y.get("source_url"),50))}if(!d)if(t===s.DEFAULT)u=this.getMediaInfo(g.models[0].get("content_type")).iconClass;else u=m.iconClass}else if(e===c.NAVIGATION){n=!0,u=m.iconClass;var _=this.model.get("navigation_hotspot").upload;_.deleted||(d=p(_,"small_square_thumbnail"),f="nav-thumb",r=!0)}else t===s.HOTSPOT&&(n=!0,u=m.iconClass)}return i&&i.get("source_url")&&(n=r=!0,d=h(i.get("source_url"),50)),{showAttachment:n,showPreview:r,showDescription:o,iconClass:u,previewUrl:d,imgClass:f}},initialize:function(t){if(this.options=t,!t.model)throw"Requires a Annotation model option";if(!t.anchor)throw"Requires a anchor option";var i=this.determinePreviewParameters(),r=i.showAttachment,o=i.showPreview,a=i.showDescription,s=i.iconClass,l=i.previewUrl,c=i.imgClass,u=this.model.get("description"),h=this.model.get("title");this.options.standAlonePlayer&&this.options.useCustomDataFields&&this.options.customData&&(h=d(h,this.options.customData),u=d(u,this.options.customData)),h=f(h),u=f(u),this.cardWrapper=e.div({class:"anchor card"},e.div({class:"row no-gutters"},e.div({class:"col-auto"},e.i({class:"attachment "+(s||"")}),e.img({class:"attachment-image "+(c||""),src:l||""})),e.div({class:"col"},e.div({class:"my-auto px-2 py-2"},e.div({class:"title-text"},h),e.div({class:"description-text"+(a?"":" d-none")},u))))).appendTo(this.el),r?o?(n("i",this.cardWrapper).hide(),n(".attachment-image",this.cardWrapper).show()):(n(".attachment-image",this.cardWrapper).hide(),n("i",this.cardWrapper).show()):(n("i",this.cardWrapper).hide(),n(".attachment-image",this.cardWrapper).hide()),this.cardWrapper.style.top=t.anchor.y+"px",this.cardWrapper.style.left=t.anchor.x+"px"}})}).call(this,i(4),i(2))},function(t,e,i){(function(e){i(5);var n=i(13);t.exports=n.extend({initialize:function(t){if(!(t=t||{}).user)throw new Error("LimitExceededModal requires option user");var i=e.div({class:"logos upsell-logos"},e.span({class:"icon fal fa-tachometer-alt-fastest"})),r=e.div({class:"text-center bulk-actions-modal"},e.h3("You've Reached the Limit!"),i,e.p("You are limited to "+t.user.get("account_active_embed_limit")+" active embed links. Upgrade to unlock unlimited links and additional storage."),e.p("You can also disable existing links to get back under the limit."));n.prototype.initialize.call(this,{modalBody:r,primaryActionLabel:"UPGRADE PLAN",primaryActionClass:"enable-sharing-button btn-primary thin-button btn-center",disableSecondaryAction:!0,verticalPosition:"top",onPrimaryAction:function(){return window.location.href="/billing/upgrade",!0}})}})}).call(this,i(4))},function(t,e,i){var n=i(3),r=i(8).API_ROOT,o=n.Model.extend({url:function(){return"".concat(r,"multiple-content-share/")}});t.exports=o},function(t,e,i){(function(e,n){var r=i(3),o=i(13),a=i(72),s=i(25),l=s.ANNOTATION_HOTSPOT_PANEL,c=s.ANNOTATION_TYPES,u=s.RENDER_MODES,h=i(29),d=h.ANNOTATION_OPEN_VIEW_PANEL,p=h.HOTSPOT_CLOSE_PANEL,f=i(23),m=f.getRenderMode,g=f.navigateToUpload,v=i(683),y=i(684);t.exports=r.View.extend({className:"hotspot-panel-wrapper",events:{"click button.close":"close"},isVisible:!1,isExpanded:!0,readOnly:!1,panelContents:null,annotationTargetCollection:null,editingOrViewingAnnotationId:null,mainAnnotationPanel:null,modal:null,initialize:function(t){if(!(t=t||{}).annotationTargetCollection)throw new Error("HotspotPanelView requires option annotationTargetCollection");this.annotationsDate=!("annotationsDate"in t)||t.annotationsDate,this.annotationsPanelControls=!("annotationsPanelControls"in t)||t.annotationsPanelControls,this.annotationTargetCollection=t.annotationTargetCollection,this.history="history"in t?t.history:null,this.readOnly="readOnly"in t&&!0===t.readOnly,this.mainAnnotationPanel="mainAnnotationPanel"in t?t.mainAnnotationPanel:null,this.on(d,function(t,e){this.openView(t,e)}.bind(this)),this.on(p,function(){this.isVisible&&this.close()}.bind(this)),this.hotspotPanel=e.div({class:l}).appendTo(this.el),this.audioPlayerPanel=e.div({class:"hotspot-audio-player-container d-flex justify-content-center"}).appendTo(this.el)},openView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isVisible&&this.close();var i=m(t);if(this.annotation=t.get("annotation"),i===u.HOTSPOT){var r=this.annotation.get("annotation_type");if(e&&a.get(a.IS_EMBED,!1)){if(r===c.URL){var o=this.annotation.get("description"),s=!0===this.annotation.get("open_in_new_window");return void(s?window.open(o,"_blank"):window.location.href=o)}if(r===c.NAVIGATION){var l=this.annotation.get("navigation_hotspot");if(!l)return;var h=l.upload;if(!h||null!==h.deleted)return;return void g(h)}}this.editingOrViewingAnnotationId=this.annotation.get("uuid"),r===c.AUDIO?(this.audioPanelContents=new v({model:t,collection:this.annotationTargetCollection,panel:this.mainAnnotationPanel}),n(this.audioPlayerPanel).empty().append(this.audioPanelContents.el)):(this.panelContents=new y({annotationsDate:this.annotationsDate,annotationsPanelControls:this.annotationsPanelControls,collection:this.annotationTargetCollection,model:t,panel:this}),n(this.hotspotPanel).empty().append(this.panelContents.el),this.show())}},show:function(){if(this.panelContents.content_type===c.URL&&this.mainAnnotationPanel.userDidClickAnnotation)return this.panelContents.open_in_new_window?window.open(this.panelContents.target_url,"_blank").focus():window.location.href=this.panelContents.target_url,this;this.isVisible=!0;var t={small:"sm",large:"lg","x-large":"xl"},e=this.annotation.get("render_size"),i=e in t?t[e]:null,r={buttons:[],hideFooter:!0,modalBody:this.panelContents.$el,modalBodyId:"media-preview",modalBodyClass:"hotspot-media-preview",modalDialogClass:"hotspot-content",modalContentClass:"hotspot-dialog"};if(this.annotation.get("annotation_type")===c.EMBED){var a=n(this.annotation.get("description")),s="IFRAME"===a.prop("tagName")?a:a.find("iframe");if(s.length>0){var l=s.attr("width"),u=s.attr("height");if(l||u||!i||(r.size=i),l){var h;if(null!==l.match(/\d+(?:\.\d+)?\s*%/))h=l;else{var d=n(window).width(),p=parseInt(l)+36;h=Math.min(d,p).toString()+"px"}r.onOpen=function(t){n(t.currentTarget).find(".modal-dialog").addClass("sized").css("maxWidth",h)}}}else i&&(r.size=i)}else i?r.size=i:[c.NAVIGATION,c.URL].includes(this.annotation.get("annotation_type"))&&(r.onOpen=function(t){n(t.currentTarget).find(".modal-dialog").addClass("sized")});return[c.EMBED,c.HTML,c.URL,c.NAVIGATION].includes(this.panelContents.annotationType)?r.hideHeader=!0:(r.title=this.panelContents.title,r.titleClass="hotspot-title"),this.modal=new o(r),this.modal.$el.find(".close-panel").click(this.closePanel.bind(this)),this.modal.open(),this},closePanel:function(t){this.modal&&this.modal.close()},close:function(t){if(t&&(t.preventDefault(),n(t.currentTarget).parents(".hotspot-audio-toast-player").length>0))return void this.audioPanelContents.close();this.modal&&this.modal.close(),this.editingOrViewingAnnotationId=null,n(this.annotationPanel).empty()}})}).call(this,i(4),i(2))},,,,,,,,,,,,,,function(t,e,i){i(368),i(371),i(372),i(373),i(374),i(375),i(376),i(377),i(378),i(379),i(380),i(381),i(382),i(383),i(384),i(385),i(386),i(387),i(388),i(389),i(390),i(391),i(392),i(393),i(394),i(395),i(396),i(397),i(398),i(399),i(400),i(401),i(402),i(403),i(404),i(405),i(406),i(407),i(408),i(409),i(410),i(411),i(412),i(413),i(414),i(415),i(416),i(417),i(418),i(419),i(420),i(421),i(422),i(423),i(424),i(425),i(426),i(427),i(428),i(429),i(430),i(431),i(432),i(433),i(434),i(435),i(436),i(437),i(438),i(439),i(440),i(441),i(442),i(443),i(444),i(445),i(446),i(448),i(449),i(451),i(452),i(453),i(454),i(455),i(456),i(457),i(459),i(460),i(461),i(462),i(463),i(464),i(465),i(466),i(467),i(468),i(469),i(470),i(471),i(137),i(472),i(181),i(473),i(182),i(474),i(475),i(476),i(477),i(478),i(185),i(187),i(188),i(479),i(480),i(481),i(482),i(483),i(484),i(485),i(486),i(487),i(488),i(489),i(490),i(491),i(492),i(493),i(494),i(495),i(496),i(497),i(498),i(499),i(500),i(501),i(502),i(503),i(504),i(505),i(506),i(507),i(508),i(509),i(510),i(511),i(512),i(513),i(514),i(515),i(516),i(517),i(518),i(519),i(520),i(521),i(522),i(523),i(524),i(525),i(526),i(527),i(528),i(529),i(530),i(531),i(532),i(533),i(534),i(535),i(536),i(537),i(538),i(539),i(540),i(541),i(542),i(543),i(544),i(545),i(546),i(547),i(548),i(549),i(550),i(551),i(552),i(553),i(554),i(555),i(556),i(557),i(558),i(559),i(560),i(561),i(562),i(563),t.exports=i(38)},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(9),o=i(30),a=i(16),s=i(1),l=i(27),c=i(53).KEY,u=i(10),h=i(83),d=i(73),p=i(59),f=i(14),m=i(163),g=i(118),v=i(370),y=i(94),_=i(7),b=i(11),w=i(19),x=i(31),M=i(44),S=i(58),k=i(62),T=i(166),C=i(32),E=i(93),A=i(17),L=i(60),D=C.f,P=A.f,O=T.f,I=r.Symbol,N=r.JSON,R=N&&N.stringify,F=f("_hidden"),j=f("toPrimitive"),U={}.propertyIsEnumerable,Y=h("symbol-registry"),V=h("symbols"),H=h("op-symbols"),B=Object.prototype,z="function"==typeof I&&!!E.f,W=r.QObject,q=!W||!W.prototype||!W.prototype.findChild,G=a&&u((function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=D(B,e);n&&delete B[e],P(t,e,i),n&&t!==B&&P(B,e,n)}:P,$=function(t){var e=V[t]=k(I.prototype);return e._k=t,e},X=z&&"symbol"==n(I.iterator)?function(t){return"symbol"==n(t)}:function(t){return t instanceof I},K=function(t,e,i){return t===B&&K(H,e,i),_(t),e=M(e,!0),_(i),o(V,e)?(i.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),i=k(i,{enumerable:S(0,!1)})):(o(t,F)||P(t,F,S(1,{})),t[F][e]=!0),G(t,e,i)):P(t,e,i)},J=function(t,e){_(t);for(var i,n=v(e=x(e)),r=0,o=n.length;o>r;)K(t,i=n[r++],e[i]);return t},Q=function(t){var e=U.call(this,t=M(t,!0));return!(this===B&&o(V,t)&&!o(H,t))&&(!(e||!o(this,t)||!o(V,t)||o(this,F)&&this[F][t])||e)},Z=function(t,e){if(t=x(t),e=M(e,!0),t!==B||!o(V,e)||o(H,e)){var i=D(t,e);return!i||!o(V,e)||o(t,F)&&t[F][e]||(i.enumerable=!0),i}},tt=function(t){for(var e,i=O(x(t)),n=[],r=0;i.length>r;)o(V,e=i[r++])||e==F||e==c||n.push(e);return n},et=function(t){for(var e,i=t===B,n=O(i?H:x(t)),r=[],a=0;n.length>a;)!o(V,e=n[a++])||i&&!o(B,e)||r.push(V[e]);return r};z||(l((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function e(i){this===B&&e.call(H,i),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),G(this,t,S(1,i))};return a&&q&&G(B,t,{configurable:!0,set:e}),$(t)}).prototype,"toString",(function(){return this._k})),C.f=Z,A.f=K,i(63).f=T.f=tt,i(85).f=Q,E.f=et,a&&!i(52)&&l(B,"propertyIsEnumerable",Q,!0),m.f=function(t){return $(f(t))}),s(s.G+s.W+s.F*!z,{Symbol:I});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;it.length>nt;)f(it[nt++]);for(var rt=L(f.store),ot=0;rt.length>ot;)g(rt[ot++]);s(s.S+s.F*!z,"Symbol",{for:function(t){return o(Y,t+="")?Y[t]:Y[t]=I(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!z,"Object",{create:function(t,e){return void 0===e?k(t):J(k(t),e)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=u((function(){E.f(1)}));s(s.S+s.F*at,"Object",{getOwnPropertySymbols:function(t){return E.f(w(t))}}),N&&s(s.S+s.F*(!z||u((function(){var t=I();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(b(e)||void 0!==t)&&!X(t))return y(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),n[1]=e,R.apply(N,n)}}),I.prototype[j]||i(26)(I.prototype,j,I.prototype.valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(t,e,i){t.exports=i(83)("native-function-to-string",Function.toString)},function(t,e,i){var n=i(60),r=i(93),o=i(85);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),l=o.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,i){var n=i(1);n(n.S,"Object",{create:i(62)})},function(t,e,i){var n=i(1);n(n.S+n.F*!i(16),"Object",{defineProperty:i(17).f})},function(t,e,i){var n=i(1);n(n.S+n.F*!i(16),"Object",{defineProperties:i(165)})},function(t,e,i){var n=i(31),r=i(32).f;i(46)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(n(t),e)}}))},function(t,e,i){var n=i(19),r=i(33);i(46)("getPrototypeOf",(function(){return function(t){return r(n(t))}}))},function(t,e,i){var n=i(19),r=i(60);i(46)("keys",(function(){return function(t){return r(n(t))}}))},function(t,e,i){i(46)("getOwnPropertyNames",(function(){return i(166).f}))},function(t,e,i){var n=i(11),r=i(53).onFreeze;i(46)("freeze",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(11),r=i(53).onFreeze;i(46)("seal",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(11),r=i(53).onFreeze;i(46)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(11);i(46)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,i){var n=i(11);i(46)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,i){var n=i(11);i(46)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},function(t,e,i){var n=i(1);n(n.S+n.F,"Object",{assign:i(167)})},function(t,e,i){var n=i(1);n(n.S,"Object",{is:i(168)})},function(t,e,i){var n=i(1);n(n.S,"Object",{setPrototypeOf:i(122).set})},function(t,e,i){"use strict";var n=i(74),r={};r[i(14)("toStringTag")]="z",r+""!="[object z]"&&i(27)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(t,e,i){var n=i(1);n(n.P,"Function",{bind:i(169)})},function(t,e,i){var n=i(17).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(16)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(11),r=i(33),o=i(14)("hasInstance"),a=Function.prototype;o in a||i(17).f(a,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(1),r=i(171);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(1),r=i(172);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(9),r=i(30),o=i(40),a=i(124),s=i(44),l=i(10),c=i(63).f,u=i(32).f,h=i(17).f,d=i(75).trim,p=n.Number,f=p,m=p.prototype,g="Number"==o(i(62)(m)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var i,n,r,o=(e=v?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(g?l((function(){m.valueOf.call(i)})):"Number"!=o(i))?a(new f(y(e)),i,p):y(e)};for(var _,b=i(16)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(f,_=b[w])&&!r(p,_)&&h(p,_,u(f,_));p.prototype=m,m.constructor=p,i(27)(n,"Number",p)}},function(t,e,i){"use strict";var n=i(1),r=i(41),o=i(173),a=i(125),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*c[i],c[i]=n%1e7,n=l(n/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=c[e],c[e]=l(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e},f=function t(e,i,n){return 0===i?n:i%2==1?t(e,i-1,n*e):t(e*e,i/2,n)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(10)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,i,n,s,l=o(this,u),c=r(t),m="",g="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(l*f(2,69,1))-69)<0?l*f(2,-e,1):l/f(2,e,1),i*=4503599627370496,(e=52-e)>0){for(h(0,i),n=c;n>=7;)h(1e7,0),n-=7;for(h(f(10,n,1),0),n=e-1;n>=23;)d(1<<23),n-=23;d(1<<n),h(1,1),d(2),g=p()}else h(0,i),h(1<<-e,0),g=p()+a.call("0",c);return g=c>0?m+((s=g.length)<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g}})},function(t,e,i){"use strict";var n=i(1),r=i(10),o=i(173),a=1..toPrecision;n(n.P+n.F*(r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var n=i(1);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(1),r=i(9).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(1);n(n.S,"Number",{isInteger:i(174)})},function(t,e,i){var n=i(1);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(1),r=i(174),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){var n=i(1);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(1);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(1),r=i(172);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(1),r=i(171);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(1),r=i(175),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,i){var n=i(1),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(1),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(1),r=i(126);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(1),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(1),r=i(127);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(1);n(n.S,"Math",{fround:i(176)})},function(t,e,i){var n=i(1),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,o=0,a=0,s=arguments.length,l=0;a<s;)l<(i=r(arguments[a++]))?(o=o*(n=l/i)*n+1,l=i):o+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,i){var n=i(1),r=Math.imul;n(n.S+n.F*i(10)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(1);n(n.S,"Math",{log1p:i(175)})},function(t,e,i){var n=i(1);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(1);n(n.S,"Math",{sign:i(126)})},function(t,e,i){var n=i(1),r=i(127),o=Math.exp;n(n.S+n.F*i(10)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(1),r=i(127),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(1),r=i(61),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(1),r=i(31),o=i(15);n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){"use strict";i(75)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,i){"use strict";var n=i(95)(!0);i(128)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})}))},function(t,e,i){"use strict";var n=i(1),r=i(95)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(1),r=i(15),o=i(130),a="".endsWith;n(n.P+n.F*i(131)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),s=void 0===i?n:Math.min(r(i),n),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,i){"use strict";var n=i(1),r=i(130);n(n.P+n.F*i(131)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(1);n(n.P,"String",{repeat:i(125)})},function(t,e,i){"use strict";var n=i(1),r=i(15),o=i(130),a="".startsWith;n(n.P+n.F*i(131)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(28)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,i){"use strict";i(28)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,i){"use strict";i(28)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,i){"use strict";i(28)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,i){"use strict";i(28)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,i){"use strict";i(28)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,i){"use strict";i(28)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,i){"use strict";i(28)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,i){"use strict";i(28)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,i){"use strict";i(28)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,i){"use strict";i(28)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,i){"use strict";i(28)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,i){"use strict";i(28)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,i){var n=i(1);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(1),r=i(19),o=i(44);n(n.P+n.F*i(10)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(1),r=i(447);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(10),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!n((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},function(t,e,i){var n=Date.prototype,r=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(27)(n,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},function(t,e,i){var n=i(14)("toPrimitive"),r=Date.prototype;n in r||i(26)(r,n,i(450))},function(t,e,i){"use strict";var n=i(7),r=i(44);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(1);n(n.S,"Array",{isArray:i(94)})},function(t,e,i){"use strict";var n=i(39),r=i(1),o=i(19),a=i(177),s=i(132),l=i(15),c=i(133),u=i(134);r(r.S+r.F*!i(97)((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,r,h,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(i=new p(e=l(d.length));e>v;v++)c(i,v,g?m(d[v],v):d[v]);else for(h=y.call(d),i=new p;!(r=h.next()).done;v++)c(i,v,g?a(h,m,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(1),r=i(133);n(n.S+n.F*i(10)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(1),r=i(31),o=[].join;n(n.P+n.F*(i(84)!=Object||!i(42)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(1),r=i(121),o=i(40),a=i(61),s=i(15),l=[].slice;n(n.P+n.F*i(10)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var i=s(this.length),n=o(this);if(e=void 0===e?i:e,"Array"==n)return l.call(this,t,e);for(var r=a(t,i),c=a(e,i),u=s(c-r),h=new Array(u),d=0;d<u;d++)h[d]="String"==n?this.charAt(r+d):this[r+d];return h}})},function(t,e,i){"use strict";var n=i(1),r=i(24),o=i(19),a=i(10),s=[].sort,l=[1,2,3];n(n.P+n.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!i(42)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,i){"use strict";var n=i(1),r=i(47)(0),o=i(42)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(11),r=i(94),o=i(14)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(1),r=i(47)(1);n(n.P+n.F*!i(42)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),r=i(47)(2);n(n.P+n.F*!i(42)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),r=i(47)(3);n(n.P+n.F*!i(42)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),r=i(47)(4);n(n.P+n.F*!i(42)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),r=i(178);n(n.P+n.F*!i(42)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(1),r=i(178);n(n.P+n.F*!i(42)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(1),r=i(92)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(42)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(1),r=i(31),o=i(41),a=i(15),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(42)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(1);n(n.P,"Array",{copyWithin:i(179)}),i(54)("copyWithin")},function(t,e,i){var n=i(1);n(n.P,"Array",{fill:i(136)}),i(54)("fill")},function(t,e,i){"use strict";var n=i(1),r=i(47)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(54)("find")},function(t,e,i){"use strict";var n=i(1),r=i(47)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n(n.P+n.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(54)(o)},function(t,e,i){i(64)("Array")},function(t,e,i){var n=i(9),r=i(124),o=i(17).f,a=i(63).f,s=i(96),l=i(86),c=n.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,f=new c(d)!==d;if(i(16)&&(!f||i(10)((function(){return p[i(14)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(t,e){var i=this instanceof c,n=s(t),o=void 0===e;return!i&&n&&t.constructor===c&&o?t:r(f?new u(n&&!o?t.source:t,e):u((n=t instanceof c)?t.source:t,n&&o?l.call(t):e),i?this:h,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);h.constructor=c,c.prototype=h,i(27)(n,"RegExp",c)}i(64)("RegExp")},function(t,e,i){"use strict";i(182);var n=i(7),r=i(86),o=i(16),a=/./.toString,s=function(t){i(27)(RegExp.prototype,"toString",t,!0)};i(10)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,i){"use strict";var n=i(7),r=i(15),o=i(139),a=i(98);i(99)("match",1,(function(t,e,i,s){return[function(i){var n=t(this),r=null==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=s(i,t,this);if(e.done)return e.value;var l=n(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var h,d=[],p=0;null!==(h=a(l,c));){var f=String(h[0]);d[p]=f,""===f&&(l.lastIndex=o(c,r(l.lastIndex),u)),p++}return 0===p?null:d}]}))},function(t,e,i){"use strict";var n=i(7),r=i(19),o=i(15),a=i(41),s=i(139),l=i(98),c=Math.max,u=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;i(99)("replace",2,(function(t,e,i,f){return[function(n,r){var o=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},function(t,e){var r=f(i,t,this,e);if(r.done)return r.value;var h=n(t),d=String(this),p="function"==typeof e;p||(e=String(e));var g=h.global;if(g){var v=h.unicode;h.lastIndex=0}for(var y=[];;){var _=l(h,d);if(null===_)break;if(y.push(_),!g)break;""===String(_[0])&&(h.lastIndex=s(d,o(h.lastIndex),v))}for(var b,w="",x=0,M=0;M<y.length;M++){_=y[M];for(var S=String(_[0]),k=c(u(a(_.index),d.length),0),T=[],C=1;C<_.length;C++)T.push(void 0===(b=_[C])?b:String(b));var E=_.groups;if(p){var A=[S].concat(T,k,d);void 0!==E&&A.push(E);var L=String(e.apply(void 0,A))}else L=m(S,d,k,T,E,e);k>=x&&(w+=d.slice(x,k)+L,x=k+S.length)}return w+d.slice(x)}];function m(t,e,n,o,a,s){var l=n+t.length,c=o.length,u=p;return void 0!==a&&(a=r(a),u=d),i.call(s,u,(function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return i;if(u>c){var d=h(u/10);return 0===d?i:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):i}s=o[u-1]}return void 0===s?"":s}))}}))},function(t,e,i){"use strict";var n=i(7),r=i(168),o=i(98);i(99)("search",1,(function(t,e,i,a){return[function(i){var n=t(this),r=null==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=a(i,t,this);if(e.done)return e.value;var s=n(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(t,e,i){"use strict";var n=i(96),r=i(7),o=i(87),a=i(139),s=i(15),l=i(98),c=i(138),u=i(10),h=Math.min,d=[].push,p="length",f=!u((function(){RegExp(4294967295,"y")}));i(99)("split",2,(function(t,e,i,u){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,u+"g");(o=c.call(m,r))&&!((a=m.lastIndex)>h&&(l.push(r.slice(h,o.index)),o[p]>1&&o.index<r[p]&&d.apply(l,o.slice(1)),s=o[0][p],h=a,l[p]>=f));)m.lastIndex===o.index&&m.lastIndex++;return h===r[p]?!s&&m.test("")||l.push(""):l.push(r.slice(h)),l[p]>f?l.slice(0,f):l}:"0".split(void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var r=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,r,n):m.call(String(r),i,n)},function(t,e){var n=u(m,t,this,e,m!==i);if(n.done)return n.value;var c=r(t),d=String(this),p=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),y=new p(f?c:"^(?:"+c.source+")",v),_=void 0===e?4294967295:e>>>0;if(0===_)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var b=0,w=0,x=[];w<d.length;){y.lastIndex=f?w:0;var M,S=l(y,f?d:d.slice(w));if(null===S||(M=h(s(y.lastIndex+(f?0:w)),d.length))===b)w=a(d,w,g);else{if(x.push(d.slice(b,w)),x.length===_)return x;for(var k=1;k<=S.length-1;k++)if(x.push(S[k]),x.length===_)return x;w=b=M}}return x.push(d.slice(b)),x}]}))},function(t,e,i){"use strict";var n,r,o,a,s=i(52),l=i(9),c=i(39),u=i(74),h=i(1),d=i(11),p=i(24),f=i(65),m=i(66),g=i(87),v=i(140).set,y=i(141)(),_=i(142),b=i(183),w=i(100),x=i(184),M=l.TypeError,S=l.process,k=S&&S.versions,T=k&&k.v8||"",C=l.Promise,E="process"==u(S),A=function(){},L=r=_.f,D=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[i(14)("species")]=function(t){t(A,A)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;y((function(){for(var n=t._v,r=1==t._s,o=0,a=function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?i=n:(u&&u.enter(),i=s(n),u&&(u.exit(),a=!0)),i===e.promise?c(M("Promise-chain cycle")):(o=P(i))?o.call(i,l,c):l(i)):c(n)}catch(t){u&&!a&&u.exit(),c(t)}};i.length>o;)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){v.call(l,(function(){var e,i,n,r=t._v,o=N(t);if(o&&(e=b((function(){E?S.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)})),t._h=E||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,(function(){var e;E?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},j=function t(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw M("Promise can't be resolved itself");(i=P(e))?y((function(){var r={_w:n,_d:!1};try{i.call(e,c(t,r,1),c(F,r,1))}catch(t){F.call(r,t)}})):(n._v=e,n._s=1,O(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};D||(C=function(t){f(this,C,"Promise","_h"),p(t),n.call(this);try{t(c(j,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(67)(C.prototype,{then:function(t,e){var i=L(g(this,C));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=E?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=c(j,t,1),this.reject=c(F,t,1)},_.f=L=function(t){return t===C||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!D,{Promise:C}),i(73)(C,"Promise"),i(64)("Promise"),a=i(38).Promise,h(h.S+h.F*!D,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!D),"Promise",{resolve:function(t){return x(s&&this===a?C:this,t)}}),h(h.S+h.F*!(D&&i(97)((function(t){C.all(t).catch(A)}))),"Promise",{all:function(t){var e=this,i=L(e),n=i.resolve,r=i.reject,o=b((function(){var i=[],o=0,a=1;m(t,!1,(function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,i[s]=t,--a||n(i))}),r)})),--a||n(i)}));return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=L(e),n=i.reject,r=b((function(){m(t,!1,(function(t){e.resolve(t).then(i.resolve,n)}))}));return r.e&&n(r.v),i.promise}})},function(t,e,i){"use strict";var n=i(189),r=i(68);i(101)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(1),r=i(102),o=i(143),a=i(7),s=i(61),l=i(15),c=i(11),u=i(9).ArrayBuffer,h=i(87),d=o.ArrayBuffer,p=o.DataView,f=r.ABV&&u.isView,m=d.prototype.slice,g=r.VIEW;n(n.G+n.W+n.F*(u!==d),{ArrayBuffer:d}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||c(t)&&g in t}}),n(n.P+n.U+n.F*i(10)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),r=s(void 0===e?i:e,i),o=new(h(this,d))(l(r-n)),c=new p(this),u=new p(o),f=0;n<r;)u.setUint8(f++,c.getUint8(n++));return o}}),i(64)("ArrayBuffer")},function(t,e,i){var n=i(1);n(n.G+n.W+n.F*!i(102).ABV,{DataView:i(143).DataView})},function(t,e,i){i(48)("Int8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}),!0)},function(t,e,i){i(48)("Int16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Uint16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Int32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Uint32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Float32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(48)("Float64",8,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){var n=i(1),r=i(24),o=i(7),a=(i(9).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(10)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,i){var n=r(t),l=o(i);return a?a(n,e,l):s.call(n,e,l)}})},function(t,e,i){var n=i(1),r=i(62),o=i(24),a=i(7),s=i(11),l=i(10),c=i(169),u=(i(9).Reflect||{}).construct,h=l((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),d=!l((function(){u((function(){}))}));n(n.S+n.F*(h||d),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(d&&!h)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var l=i.prototype,p=r(s(l)?l:Object.prototype),f=Function.apply.call(t,p,e);return s(f)?f:p}})},function(t,e,i){var n=i(17),r=i(1),o=i(7),a=i(44);r(r.S+r.F*i(10)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(1),r=i(32).f,o=i(7);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(1),r=i(7),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(129)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var n=i(32),r=i(33),o=i(30),a=i(1),s=i(11),l=i(7);a(a.S,"Reflect",{get:function t(e,i){var a,c,u=arguments.length<3?e:arguments[2];return l(e)===u?e[i]:(a=n.f(e,i))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=r(e))?t(c,i,u):void 0}})},function(t,e,i){var n=i(32),r=i(1),o=i(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},function(t,e,i){var n=i(1),r=i(33),o=i(7);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,i){var n=i(1);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(1),r=i(7),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){var n=i(1);n(n.S,"Reflect",{ownKeys:i(191)})},function(t,e,i){var n=i(1),r=i(7),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(17),r=i(32),o=i(33),a=i(30),s=i(1),l=i(58),c=i(7),u=i(11);s(s.S,"Reflect",{set:function t(e,i,s){var h,d,p=arguments.length<4?e:arguments[3],f=r.f(c(e),i);if(!f){if(u(d=o(e)))return t(d,i,s,p);f=l(0)}if(a(f,"value")){if(!1===f.writable||!u(p))return!1;if(h=r.f(p,i)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(p,i,h)}else n.f(p,i,l(0,s));return!0}return void 0!==f.set&&(f.set.call(p,s),!0)}})},function(t,e,i){var n=i(1),r=i(122);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var n=i(1),r=i(92)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(54)("includes")},function(t,e,i){"use strict";var n=i(1),r=i(192),o=i(19),a=i(15),s=i(24),l=i(135);n(n.P,"Array",{flatMap:function(t){var e,i,n=o(this);return s(t),e=a(n.length),i=l(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),i(54)("flatMap")},function(t,e,i){"use strict";var n=i(1),r=i(192),o=i(19),a=i(15),s=i(41),l=i(135);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),i=a(e.length),n=l(e,0);return r(n,e,e,i,0,void 0===t?1:s(t)),n}}),i(54)("flatten")},function(t,e,i){"use strict";var n=i(1),r=i(95)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(1),r=i(193),o=i(100),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var n=i(1),r=i(193),o=i(100),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(75)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,i){"use strict";i(75)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,i){"use strict";var n=i(1),r=i(45),o=i(15),a=i(96),s=i(86),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};i(129)(c,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),n(n.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in l?String(t.flags):s.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=o(t.lastIndex),new c(n,e)}})},function(t,e,i){i(118)("asyncIterator")},function(t,e,i){i(118)("observable")},function(t,e,i){var n=i(1),r=i(191),o=i(31),a=i(32),s=i(133);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=o(t),l=a.f,c=r(n),u={},h=0;c.length>h;)void 0!==(i=l(n,e=c[h++]))&&s(u,e,i);return u}})},function(t,e,i){var n=i(1),r=i(194)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(1),r=i(194)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";var n=i(1),r=i(19),o=i(24),a=i(17);i(16)&&n(n.P+i(103),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(1),r=i(19),o=i(24),a=i(17);i(16)&&n(n.P+i(103),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(1),r=i(19),o=i(44),a=i(33),s=i(32).f;i(16)&&n(n.P+i(103),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.get}while(i=a(i))}})},function(t,e,i){"use strict";var n=i(1),r=i(19),o=i(44),a=i(33),s=i(32).f;i(16)&&n(n.P+i(103),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.set}while(i=a(i))}})},function(t,e,i){var n=i(1);n(n.P+n.R,"Map",{toJSON:i(195)("Map")})},function(t,e,i){var n=i(1);n(n.P+n.R,"Set",{toJSON:i(195)("Set")})},function(t,e,i){i(104)("Map")},function(t,e,i){i(104)("Set")},function(t,e,i){i(104)("WeakMap")},function(t,e,i){i(104)("WeakSet")},function(t,e,i){i(105)("Map")},function(t,e,i){i(105)("Set")},function(t,e,i){i(105)("WeakMap")},function(t,e,i){i(105)("WeakSet")},function(t,e,i){var n=i(1);n(n.G,{global:i(9)})},function(t,e,i){var n=i(1);n(n.S,"System",{global:i(9)})},function(t,e,i){var n=i(1),r=i(40);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(1),r=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*r}})},function(t,e,i){var n=i(1),r=i(197),o=i(176);n(n.S,"Math",{fscale:function(t,e,i,n,a){return o(r(t,e,i,n,a))}})},function(t,e,i){var n=i(1);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)+(n>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,i){var n=i(1);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)-(n>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,i){var n=i(1);n(n.S,"Math",{imulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>16,s=n>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(1),r=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*r}})},function(t,e,i){var n=i(1);n(n.S,"Math",{scale:i(197)})},function(t,e,i){var n=i(1);n(n.S,"Math",{umulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>>16,s=n>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(t,e,i){var n=i(1);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){"use strict";var n=i(1),r=i(38),o=i(9),a=i(87),s=i(184);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then((function(){return i}))}:t,i?function(i){return s(e,t()).then((function(){throw i}))}:t)}})},function(t,e,i){"use strict";var n=i(1),r=i(142),o=i(183);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var n=i(49),r=i(7),o=n.key,a=n.set;n.exp({defineMetadata:function(t,e,i,n){a(t,e,r(i),o(n))}})},function(t,e,i){var n=i(49),r=i(7),o=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=a(r(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var l=s.get(e);return l.delete(i),!!l.size||s.delete(e)}})},function(t,e,i){var n=i(49),r=i(7),o=i(33),a=n.has,s=n.get,l=n.key,c=function t(e,i,n){if(a(e,i,n))return s(e,i,n);var r=o(i);return null!==r?t(e,r,n):void 0};n.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,i){var n=i(187),r=i(196),o=i(49),a=i(7),s=i(33),l=o.keys,c=o.key,u=function t(e,i){var o=l(e,i),a=s(e);if(null===a)return o;var c=t(a,i);return c.length?o.length?r(new n(o.concat(c))):c:o};o.exp({getMetadataKeys:function(t){return u(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,i){var n=i(49),r=i(7),o=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(49),r=i(7),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,i){var n=i(49),r=i(7),o=i(33),a=n.has,s=n.key,l=function t(e,i,n){if(a(e,i,n))return!0;var r=o(i);return null!==r&&t(e,r,n)};n.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,i){var n=i(49),r=i(7),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(49),r=i(7),o=i(24),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(i,n){s(t,e,(void 0!==n?r:o)(i),a(n))}}})},function(t,e,i){var n=i(1),r=i(141)(),o=i(9).process,a="process"==i(40)(o);n(n.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n=i(1),r=i(9),o=i(38),a=i(141)(),s=i(14)("observable"),l=i(24),c=i(7),u=i(65),h=i(67),d=i(26),p=i(66),f=p.RETURN,m=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,g(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:l(i),this._c=i)}catch(e){return void t.error(e)}v(this)&&g(this)};_.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var n=m(i.next);if(n)return n.call(i,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var n=m(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var n=m(i.complete);t=n?n.call(i,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var w=function(t){u(this,w,"Observable","_f")._f=l(t)};h(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)((function(i,n){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:i})}))}}),h(w,{from:function(t){var e="function"==typeof this?this:w,i=m(c(t)[s]);if(i){var n=c(i.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}return new e((function(e){var i=!1;return a((function(){if(!i){try{if(p(t,!1,(function(t){if(e.next(t),i)return f}))===f)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}})),function(){i=!0}}))},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:w)((function(t){var e=!1;return a((function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}})),function(){e=!0}}))}}),d(w.prototype,s,(function(){return this})),n(n.G,{Observable:w}),i(64)("Observable")},function(t,e,i){var n=i(9),r=i(1),o=i(100),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,i){var n=arguments.length>2,r=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};r(r.G+r.B+r.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,i){var n=i(1),r=i(140);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(137),r=i(60),o=i(27),a=i(9),s=i(26),l=i(76),c=i(14),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],_=a[v],b=_&&_.prototype;if(b&&(b[u]||s(b,u,d),b[h]||s(b,h,v),l[v]=d,y))for(g in n)b[g]||o(b,g,n[g],!0)}},function(t,e,i){(function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"===i(e),u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=g;var h={},d={};d[a]=function(){return this};var p=Object.getPrototypeOf,f=p&&p(p(C([])));f&&f!==n&&r.call(f,a)&&(d=f);var m=b.prototype=y.prototype=Object.create(d);_.prototype=m.constructor=b,b.constructor=_,b[l]=_.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(m),t},u.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[s]=function(){return this},u.AsyncIterator=x,u.async=function(t,e,i,n){var r=new x(g(t,e,i,n));return u.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},w(m),m[l]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},u.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),k(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;k(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}}}function g(t,e,i,n){var r=e&&e.prototype instanceof y?e:y,o=Object.create(r.prototype),a=new T(n||[]);return o._invoke=function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return E()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=M(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=v(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,a),o}function v(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function y(){}function _(){}function b(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(e){function n(t,o,a,s){var l=v(e[t],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"===i(u)&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):Promise.resolve(u).then((function(t){c.value=t,a(c)}),s)}s(l.arg)}var o;"object"===i(t.process)&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(i,r){n(t,e,i,r)}))}return o=o?o.then(i,i):i()}}function M(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=v(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:E}}function E(){return{value:void 0,done:!0}}}("object"===(void 0===t?"undefined":i(t))?t:"object"===("undefined"==typeof window?"undefined":i(window))?window:"object"===("undefined"==typeof self?"undefined":i(self))?self:this)}).call(this,i(51),i(88)(t))},function(t,e,i){i(566),t.exports=i(38).RegExp.escape},function(t,e,i){var n=i(1),r=i(567)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},,function(t,e,i){var n,r,o;r=[i(2),i(6)],void 0===(o="function"==typeof(n=function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(149),i(55),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(i,n){var r=n||t.ui.ddmanager.current,o=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e(r,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return o=!0,!1})),!o&&!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(r)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var e=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,r){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return c<=o&&s<=h&&u<=a&&l<=d;case"intersect":return c<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<h&&u<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,u,i.proportions().height)&&t(r.pageX,c,i.proportions().width);case"touch":return(a>=u&&a<=d||l>=u&&l<=d||a<u&&l>d)&&(o>=c&&o<=h||s>=c&&s<=h||o<c&&s>h);default:return!1}}}();return t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(i,n){var r=!1;return t.each((t.ui.ddmanager.droppables[i.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e(i,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),r},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(i,n){i.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(i,n),t.each(t.ui.ddmanager.droppables[i.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,a,s=e(i,this,this.options.tolerance,n),l=!s&&this.isover?"isout":s&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,(a=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===o}))).length&&((r=t(a[0]).droppable("instance")).greedyChild="isover"===l)),r&&"isover"===l&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),r&&"isout"===l&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}}))},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Selectable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(55),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))})),t(e.target).parents().addBack().each((function(){var n,r=t.data(this,"selectable-item");if(r)return n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return o>s&&(i=s,s=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each((function(){var i=t.data(this,"selectable-item"),c=!1,u={};i&&i.element!==n.element[0]&&(u.left=i.left+n.elementPos.left,u.right=i.right+n.elementPos.left,u.top=i.top+n.elementPos.top,u.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?c=!(u.left>s||u.right<o||u.top>l||u.bottom<a):"fit"===r.tolerance&&(c=u.left>o&&u.right<s&&u.top>a&&u.bottom<l),c?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))})),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})})),t(".ui-selecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})})),this._trigger("stop",e),this.helper.remove(),!1}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(55),i(144),i(200),i(148),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return n=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!n||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,i,n){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>s&&n+c<l,d="y"===this.options.axis||e+u>o&&e+u<a,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&s<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!r)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,o,a=[],s=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(n=(r=t(l[i],this.document[0])).length-1;n>=0;n--)(o=t.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){a.push(this)}for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=s.length-1;i>=0;i--)s[i][0].each(c);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,a,s,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(r=t(d[i],this.document[0])).length-1;n>=0;n--)(o=t.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(a=h[i][1],n=0,c=(s=h[i][0]).length;n<c;n++)(l=t(s[n])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each((function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,n,r,o,a,s,l,c,u,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,a=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],c=!1,e[h]-l>this.items[n][s]/2&&(c=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!n)}))},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(this.fromOutside&&!e&&n.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(n.push((function(t){this._trigger("remove",t,this._uiHash())})),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(r("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(r("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Accordion 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(34),i(70),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each((function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each((function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()})).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,c=l?t():a.next(),u=o.next(),h={oldHeader:o,oldPanel:u,newHeader:l?t():a,newPanel:c};e.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",e,h)||(r.active=!l&&this.headers.index(a),this.active=s?t():a,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,o,a=this,s=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){a._toggleComplete(i)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(150),i(34),i(77),i(78),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,i){var n,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(n=i.item.attr("aria-label")||r.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,(function(t,i){n._renderItemData(e,i)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,(function(t){return n.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(34)],void 0===(o="function"==typeof(n=function(t){var e;function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,r)}function r(){t.datepicker._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function o(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}return t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;r="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;r<t.length;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,a){var s,l,c,u,h,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),o(d.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(i){var n,r=t(i),o=t.data(i,"datepicker");r.hasClass(this.markerClassName)&&(n=i.nodeName.toLowerCase(),t.removeData(i,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),e===o&&(e=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,a,s,l,c=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null;r=i||{},"string"==typeof i&&((r={})[i]=n),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),o(c.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(i=t.datepicker._get(o,"onSelect"))?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,n,r,a,s,l,c;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(o(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each((function(){return!(a|="fixed"===t(this).css("position"))})),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),s=t.datepicker._checkOffset(i,s,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(i){this.maxRows=4,e=i,i.dpDiv.empty().append(this._generateHTML(i)),this._attachHandlers(i);var n,o=this._getNumberOfMonths(i),a=o[1],s=i.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&r.apply(s.get(0)),i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&i.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",17*a+"em"),i.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),i.dpDiv[(this._get(i,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),i===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),i.yearshtml&&(n=i.yearshtml,setTimeout((function(){n===i.yearshtml&&i.yearshtml&&i.dpDiv.find("select.ui-datepicker-year:first").replaceWith(i.yearshtml),n=i.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+s?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+s):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!==a(o.input[0])&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"===a(i)?i.toString():i+""))return null;var r,o,s,l,c=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,m=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,_=-1,b=!1,w=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},x=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=i.substring(c).match(r);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},M=function(e,n,r){var o=-1,a=t.map(w(e)?r:n,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(a,(function(t,e){var n=e[1];if(i.substr(c,n.length).toLowerCase()===n.toLowerCase())return o=e[0],c+=n.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+c},S=function(){if(i.charAt(c)!==e.charAt(r))throw"Unexpected literal at position "+c;c++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?S():b=!1;else switch(e.charAt(r)){case"d":y=x("d");break;case"D":M("D",d,p);break;case"o":_=x("o");break;case"m":v=x("m");break;case"M":v=M("M",f,m);break;case"y":g=x("y");break;case"@":g=(l=new Date(x("@"))).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":g=(l=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":w("'")?S():b=!0;break;default:S()}if(c<i.length&&(s=i.substr(c),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=h?0:-100)),_>-1)for(v=1,y=_;!(y<=(o=this._getDaysInMonth(g,v-1)));)v++,y-=o;if((l=this._daylightSavingAdjust(new Date(g,v-1,y))).getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),a,s);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||r}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),o=n.getMonth(),a=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}l=s.exec(i)}return new Date(r,o,a)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(r=r&&"Invalid Date"===r.toString()?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,n,r,o,a,s,l,c,u,h,d,p,f,m,g,v,y,_,b,w,x,M,S,k,T,C,E,A,L,D,P,O,I,N,R,F,j,U,Y=new Date,V=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),H=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-G,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-$,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+$,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?K:V,a=W?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",x=0;x<q[0];x++){for(M="",this.maxRows=4,S=0;S<q[1];S++){if(k=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",C="",X){if(C+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:C+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case q[1]-1:C+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:C+=" ui-datepicker-group-middle",T=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?H?o:n:"")+(/all|right/.test(T)&&0===x?H?n:o:"")+this._generateMonthYearHeader(t,Z,tt,J,Q,x>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)E+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A=(w+u)%7]+"'>"+p[A]+"</span></th>";for(C+=E+"</tr></thead><tbody>",L=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,L)),D=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,P=Math.ceil((D+L)/7),O=X&&this.maxRows>P?this.maxRows:P,this.maxRows=O,I=this._daylightSavingAdjust(new Date(tt,Z,1-D)),N=0;N<O;N++){for(C+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",w=0;w<7;w++)F=g?g.apply(t.input?t.input[0]:null,[I]):[!0,""],U=(j=I.getMonth()!==Z)&&!y||!F[0]||J&&I<J||Q&&I>Q,R+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(I.getTime()===k.getTime()&&Z===t.selectedMonth&&t._keyEvent||_.getTime()===I.getTime()&&_.getTime()===k.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+F[1]+(I.getTime()===K.getTime()?" "+this._currentClass:"")+(I.getTime()===V.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":U?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===V.getTime()?" ui-state-highlight":"")+(I.getTime()===K.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);C+=R+"</tr>"}++Z>11&&(Z=0,tt++),M+=C+="</tbody></table>"+(X?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=M}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,r,o,a,s){var l,c,u,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!g)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=r.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&g&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),r=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"===a(e)?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(151),i(149),i(55),i(203),i(145),i(34),i(77),i(78),i(202),i(199),i(70),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){r.trigger("focus")})),e.preventDefault()):(this._delay((function(){n.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,(function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,o={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(o).appendTo(e.uiButtonSet).on("click",(function(){r.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,i=this.options;function n(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",i,n(r))},drag:function(t,i){e._trigger("drag",t,n(i))},stop:function(r,o){var a=o.offset.left-e.document.scrollLeft(),s=o.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,n(o))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,n){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",i,a(n))},resize:function(t,i){e._trigger("resize",t,a(i))},stop:function(n,r){var o=e.uiDialog.offset(),s=o.left-e.document.scrollLeft(),l=o.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",n,a(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,(function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)})),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),r&&"string"==typeof i&&o.resizable("option","handles",i),r||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Progressbar 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Selectmenu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(150),i(106),i(146),i(34),i(147),i(77),i(70),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){i._rendered||i._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,(function(i,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),n._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),n._renderItemData(e,o)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each((function(e,r){n.push(i._parseOption(t(r),e))})),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(55),i(34),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var i=Math.abs(n-c.values(e));(r>i||r===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(r=i,o=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r=this.value(),o=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),o[e]=i),i!==r&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i})):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(e){var i,n,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,i=n=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(151),i(6),i(34),i(78),i(18)],void 0===(o="function"==typeof(n=function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],(function(t,n){var r=i.attr(n);null!=r&&r.length&&(e[n]=r)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;function n(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,i)}),t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,r;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:e((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(106),i(34),i(78),i(70),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){var e;return t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(e=/#.*$/,function(t){var i,n;i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&i===n}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each((function(i,r){if(t(r).attr("aria-controls")===n)return e=i,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray((e>n&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),(function(t){return i.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(i,n){var r,o,a,s=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(a=(r=n.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(a=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(a)).insertAfter(e.panels[i-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),!0===e||-1!==t.inArray(r,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each((function(){i=Math.max(i,t(this).height("").height())})).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===n[0],a=o&&i.collapsible,s=a?t():this._getPanelForTab(r),l=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:l,newTab:a?t():r,newPanel:s};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!a&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||s.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),e),this._toggle(e,c))},_toggle:function(e,i){var n=this,r=i.newPanel,o=i.oldPanel;function a(){n.running=!1,n._trigger("activate",e,i)}function s(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,a):(r.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()})):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,i){return i!==e?i:null}))),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(t,e,r){setTimeout((function(){a.html(t),n._trigger("load",i,s),l(r,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(34),i(77),i(70),i(6),i(18)],void 0===(o="function"==typeof(n=function(t){return t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,(function(t,e){n._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each((function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))})),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(e,t,n);(i=n.call(t[0],(function(i){r._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))}))})))&&this._open(e,t,i)},_open:function(e,i,n){var r,o,a,s,l=t.extend({},this.options.position);function c(t){l.of=t,o.is(":hidden")||o.position(l)}n&&((r=this._find(i))?r.tooltip.find(".ui-tooltip-content").html(n):(i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),o=r.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(s=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:c}),c(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(c(l.of),clearInterval(a))}),t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,(function(){n._removeTooltip(t(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]})),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("blind","hide",(function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(r);s.clip[n[o][0]]=s.clip[n[o][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Bounce 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("bounce",(function(e,i){var n,r,o,a=t(this),s=e.mode,l="hide"===s,c="show"===s,u=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(c||l?1:0),f=e.duration/p,m=e.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,_=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(g),h||(h=a["top"===g?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[g]=o,a.css("opacity",0).css(g,v?2*-h:2*h).animate(r,f,m)),l&&(h/=Math.pow(2,d-1)),(r={})[g]=o;y<d;y++)(n={})[g]=(v?"-=":"+=")+h,a.animate(n,f,m).animate(r,f,m),h=l?2*h:h/2;l&&((n={opacity:0})[g]=(v?"-=":"+=")+h,a.animate(n,f,m)),a.queue(i),t.effects.unshift(a,_,p+1)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Clip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("clip","hide",(function(e,i){var n,r={},o=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,c=s||"vertical"===a;n=o.cssClip(),r.clip={top:c?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:c?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=n),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Drop 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("drop","hide",(function(e,i){var n,r=t(this),o="show"===e.mode,a=e.direction||"left",s="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=l+n,o&&(r.css(u),u[s]=c+n,u.opacity=1),r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Explode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("explode","hide",(function(e,i){var n,r,o,a,s,l,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,h=t(this),d="show"===e.mode,p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/u),m=Math.ceil(h.outerHeight()/c),g=[];function v(){g.push(this),g.length===c*u&&(h.css({visibility:"visible"}),t(g).remove(),i())}for(n=0;n<c;n++)for(a=p.top+n*m,l=n-(c-1)/2,r=0;r<u;r++)o=p.left+r*f,s=r-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*f,top:-n*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:m,left:o+(d?s*f:0),top:a+(d?l*m:0),opacity:d?0:1}).animate({left:o+(d?0:s*f),top:a+(d?0:l*m),opacity:d?1:0},e.duration||500,e.easing,v)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Fade 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("fade","toggle",(function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Fold 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("fold","hide",(function(e,i){var n=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),c=e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,h=t.effects.createPlaceholder(n),d=n.cssClip(),p={clip:t.extend({},d)},f={clip:t.extend({},d)},m=[d[c[0]],d[c[1]]],g=n.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]),p.clip[c[0]]=s,f.clip[c[0]]=s,f.clip[c[1]]=0,o&&(n.cssClip(f.clip),h&&h.css(t.effects.clipToBox(f)),f.clip=d),n.queue((function(i){h&&h.animate(t.effects.clipToBox(p),u,e.easing).animate(t.effects.clipToBox(f),u,e.easing),i()})).animate(p,u,e.easing).animate(f,u,e.easing).queue(i),t.effects.unshift(n,g,4)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Highlight 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("highlight","show",(function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Puff 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22),i(206)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("puff","hide",(function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Pulsate 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("pulsate","show",(function(e,i){var n=t(this),r=e.mode,o="show"===r,a=o||"hide"===r,s=2*(e.times||5)+(a?1:0),l=e.duration/s,c=0,u=1,h=n.queue().length;for(!o&&n.is(":visible")||(n.css("opacity",0).show(),c=1);u<s;u++)n.animate({opacity:c},l,e.easing),c=1-c;n.animate({opacity:c},l,e.easing),n.queue(i),t.effects.unshift(n,h,s+1)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Shake 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("shake",(function(e,i){var n=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,d={},p={},f={},m=r.queue().length;for(t.effects.createPlaceholder(r),d[u]=(h?"-=":"+=")+a,p[u]=(h?"+=":"-=")+2*a,f[u]=(h?"-=":"+=")+2*a,r.animate(d,c,e.easing);n<s;n++)r.animate(p,c,e.easing).animate(f,c,e.easing);r.animate(p,c,e.easing).animate(d,c/2,e.easing).queue(i),t.effects.unshift(r,m,l+1)}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Slide 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){return t.effects.define("slide","show",(function(e,i){var n,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),n=o.cssClip(),r=o.position()[c],d[c]=(u?-1:1)*h+r,d.clip=o.cssClip(),d.clip[a[l][1]]=d.clip[a[l][0]],"show"===s&&(o.cssClip(d.clip),o.css(c,d[c]),d.clip=n,d[c]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n,r,o;
/*!
 * jQuery UI Effects Transfer 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[i(2),i(6),i(22)],void 0===(o="function"==typeof(n=function(t){var e;return!1!==t.uiBackCompat&&(e=t.effects.define("transfer",(function(e,i){t(this).transfer(e,i)}))),e})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){var n=i(597);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,'/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: "";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,i){var n=i(600);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-draggable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n",""])},function(t,e,i){var n=i(602);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n",""])},function(t,e,i){var n=i(604);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Selectable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-selectable {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n",""])},function(t,e,i){var n=i(606);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-sortable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n",""])},function(t,e,i){var n=i(608);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Accordion 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/accordion/#theming\n */\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n",""])},function(t,e,i){var n=i(610);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Autocomplete 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/autocomplete/#theming\n */\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n",""])},function(t,e,i){var n=i(612);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Button 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/button/#theming\n */\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n\n/* no icon support for input elements */\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\n\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n\n/* workarounds */\n/* Support: Firefox 5 - 40 */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n",""])},function(t,e,i){var n=i(614);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Checkboxradio 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/checkboxradio/#theming\n */\n\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n",""])},function(t,e,i){var n=i(616);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Controlgroup 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/controlgroup/#theming\n */\n\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n\n/* Spinner specific style fixes */\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n\n",""])},function(t,e,i){var n=i(618);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/datepicker/#theming\n */\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n\n/* Icons */\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n",""])},function(t,e,i){var n=i(620);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Dialog 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/dialog/#theming\n */\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n",""])},function(t,e,i){var n=i(622);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,'/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/menu/#theming\n */\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");\n}\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n',""])},function(t,e,i){var n=i(624);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,'/*!\n * jQuery UI Progressbar 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/progressbar/#theming\n */\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n',""])},function(t,e,i){var n=i(626);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Selectmenu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/selectmenu/#theming\n */\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n",""])},function(t,e,i){var n=i(628);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n",""])},function(t,e,i){var n=i(630);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Spinner 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/spinner/#theming\n */\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n",""])},function(t,e,i){var n=i(632);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,'/*!\n * jQuery UI Tabs 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tabs/#theming\n */\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n',""])},function(t,e,i){var n=i(634);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(21)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(20)(!1)).push([t.i,"/*!\n * jQuery UI Tooltip 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tooltip/#theming\n */\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n",""])},function(t,e,i){(function(t){
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,i=t.ui.mouse.prototype,n=i._mouseInit,r=i._mouseDestroy;i._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,o(t,"mouseover"),o(t,"mousemove"),o(t,"mousedown"))},i._touchMove=function(t){e&&(this._touchMoved=!0,o(t,"mousemove"))},i._touchEnd=function(t){e&&(o(t,"mouseup"),o(t,"mouseout"),this._touchMoved||o(t,"click"),e=!1)},i._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),n.call(this)},i._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)}}function o(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}}(t)}).call(this,i(2))},function(t,e,i){var n={"./af":209,"./af.js":209,"./ar":210,"./ar-dz":211,"./ar-dz.js":211,"./ar-kw":212,"./ar-kw.js":212,"./ar-ly":213,"./ar-ly.js":213,"./ar-ma":214,"./ar-ma.js":214,"./ar-sa":215,"./ar-sa.js":215,"./ar-tn":216,"./ar-tn.js":216,"./ar.js":210,"./az":217,"./az.js":217,"./be":218,"./be.js":218,"./bg":219,"./bg.js":219,"./bm":220,"./bm.js":220,"./bn":221,"./bn.js":221,"./bo":222,"./bo.js":222,"./br":223,"./br.js":223,"./bs":224,"./bs.js":224,"./ca":225,"./ca.js":225,"./cs":226,"./cs.js":226,"./cv":227,"./cv.js":227,"./cy":228,"./cy.js":228,"./da":229,"./da.js":229,"./de":230,"./de-at":231,"./de-at.js":231,"./de-ch":232,"./de-ch.js":232,"./de.js":230,"./dv":233,"./dv.js":233,"./el":234,"./el.js":234,"./en-SG":235,"./en-SG.js":235,"./en-au":236,"./en-au.js":236,"./en-ca":237,"./en-ca.js":237,"./en-gb":238,"./en-gb.js":238,"./en-ie":239,"./en-ie.js":239,"./en-il":240,"./en-il.js":240,"./en-nz":241,"./en-nz.js":241,"./eo":242,"./eo.js":242,"./es":243,"./es-do":244,"./es-do.js":244,"./es-us":245,"./es-us.js":245,"./es.js":243,"./et":246,"./et.js":246,"./eu":247,"./eu.js":247,"./fa":248,"./fa.js":248,"./fi":249,"./fi.js":249,"./fo":250,"./fo.js":250,"./fr":251,"./fr-ca":252,"./fr-ca.js":252,"./fr-ch":253,"./fr-ch.js":253,"./fr.js":251,"./fy":254,"./fy.js":254,"./ga":255,"./ga.js":255,"./gd":256,"./gd.js":256,"./gl":257,"./gl.js":257,"./gom-latn":258,"./gom-latn.js":258,"./gu":259,"./gu.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it-ch":268,"./it-ch.js":268,"./it.js":267,"./ja":269,"./ja.js":269,"./jv":270,"./jv.js":270,"./ka":271,"./ka.js":271,"./kk":272,"./kk.js":272,"./km":273,"./km.js":273,"./kn":274,"./kn.js":274,"./ko":275,"./ko.js":275,"./ku":276,"./ku.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mn":286,"./mn.js":286,"./mr":287,"./mr.js":287,"./ms":288,"./ms-my":289,"./ms-my.js":289,"./ms.js":288,"./mt":290,"./mt.js":290,"./my":291,"./my.js":291,"./nb":292,"./nb.js":292,"./ne":293,"./ne.js":293,"./nl":294,"./nl-be":295,"./nl-be.js":295,"./nl.js":294,"./nn":296,"./nn.js":296,"./pa-in":297,"./pa-in.js":297,"./pl":298,"./pl.js":298,"./pt":299,"./pt-br":300,"./pt-br.js":300,"./pt.js":299,"./ro":301,"./ro.js":301,"./ru":302,"./ru.js":302,"./sd":303,"./sd.js":303,"./se":304,"./se.js":304,"./si":305,"./si.js":305,"./sk":306,"./sk.js":306,"./sl":307,"./sl.js":307,"./sq":308,"./sq.js":308,"./sr":309,"./sr-cyrl":310,"./sr-cyrl.js":310,"./sr.js":309,"./ss":311,"./ss.js":311,"./sv":312,"./sv.js":312,"./sw":313,"./sw.js":313,"./ta":314,"./ta.js":314,"./te":315,"./te.js":315,"./tet":316,"./tet.js":316,"./tg":317,"./tg.js":317,"./th":318,"./th.js":318,"./tl-ph":319,"./tl-ph.js":319,"./tlh":320,"./tlh.js":320,"./tr":321,"./tr.js":321,"./tzl":322,"./tzl.js":322,"./tzm":323,"./tzm-latn":324,"./tzm-latn.js":324,"./tzm.js":323,"./ug-cn":325,"./ug-cn.js":325,"./uk":326,"./uk.js":326,"./ur":327,"./ur.js":327,"./uz":328,"./uz-latn":329,"./uz-latn.js":329,"./uz.js":328,"./vi":330,"./vi.js":330,"./x-pseudo":331,"./x-pseudo.js":331,"./yo":332,"./yo.js":332,"./zh-cn":333,"./zh-cn.js":333,"./zh-hk":334,"./zh-hk.js":334,"./zh-tw":335,"./zh-tw.js":335};function r(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=636},function(t,e,i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */o=function(){"use strict";var t=Object.hasOwnProperty,e=Object.setPrototypeOf,i=Object.isFrozen,n=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,h=c.construct;u||(u=function(t,e,i){return t.apply(e,i)}),o||(o=function(t){return t}),s||(s=function(t){return t}),h||(h=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))))});var d,p=M(Array.prototype.forEach),f=M(Array.prototype.pop),m=M(Array.prototype.push),g=M(String.prototype.toLowerCase),v=M(String.prototype.match),y=M(String.prototype.replace),_=M(String.prototype.indexOf),b=M(String.prototype.trim),w=M(RegExp.prototype.test),x=(d=TypeError,function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return h(d,e)});function M(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return u(t,e,n)}}function S(t,n){e&&e(t,null);for(var r=n.length;r--;){var o=n[r];if("string"==typeof o){var a=g(o);a!==o&&(i(n)||(n[r]=a),o=a)}t[o]=!0}return t}function k(e){var i=l(null),n=void 0;for(n in e)u(t,e,[n])&&(i[n]=e[n]);return i}function T(t,e){for(;null!==t;){var i=r(t,e);if(i){if(i.get)return M(i.get);if("function"==typeof i.value)return M(i.value)}t=n(t)}return function(t){return console.warn("fallback value for",t),null}}var C=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=o(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),P=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=o(["#text"]),I=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),N=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),U=s(/<%[\s\S]*|[\s\S]*%>/gm),Y=s(/^data-[\-\w.\u00B7-\uFFFF]/),V=s(/^aria-[\-\w]+$/),H=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=s(/^(?:\w+script|data):/i),z=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)};function q(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var G=function(){return"undefined"==typeof window?null:window},$=function(t,e){if("object"!==(void 0===t?"undefined":W(t))||"function"!=typeof t.createPolicy)return null;var i=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=e.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(i?"#"+i:"");try{return t.createPolicy(n,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),i=function(e){return t(e)};if(i.version="2.2.8",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var n=e.document,r=e.document,a=e.DocumentFragment,s=e.HTMLTemplateElement,l=e.Node,c=e.Element,u=e.NodeFilter,h=e.NamedNodeMap,d=void 0===h?e.NamedNodeMap||e.MozNamedAttrMap:h,M=e.Text,X=e.Comment,K=e.DOMParser,J=e.trustedTypes,Q=c.prototype,Z=T(Q,"cloneNode"),tt=T(Q,"nextSibling"),et=T(Q,"childNodes"),it=T(Q,"parentNode");if("function"==typeof s){var nt=r.createElement("template");nt.content&&nt.content.ownerDocument&&(r=nt.content.ownerDocument)}var rt=$(J,n),ot=rt&&Rt?rt.createHTML(""):"",at=r,st=at.implementation,lt=at.createNodeIterator,ct=at.createDocumentFragment,ut=n.importNode,ht={};try{ht=k(r).documentMode?r.documentMode:{}}catch(t){}var dt={};i.isSupported="function"==typeof it&&st&&void 0!==st.createHTMLDocument&&9!==ht;var pt=j,ft=U,mt=Y,gt=V,vt=B,yt=z,_t=H,bt=null,wt=S({},[].concat(q(C),q(E),q(A),q(D),q(O))),xt=null,Mt=S({},[].concat(q(I),q(N),q(R),q(F))),St=null,kt=null,Tt=!0,Ct=!0,Et=!1,At=!1,Lt=!1,Dt=!1,Pt=!1,Ot=!1,It=!1,Nt=!0,Rt=!1,Ft=!0,jt=!0,Ut=!1,Yt={},Vt=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,Bt=S({},["audio","video","img","source","image","track"]),zt=null,Wt=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",Gt="http://www.w3.org/2000/svg",$t="http://www.w3.org/1999/xhtml",Xt=$t,Kt=null,Jt=r.createElement("form"),Qt=function(t){Kt&&Kt===t||(t&&"object"===(void 0===t?"undefined":W(t))||(t={}),t=k(t),bt="ALLOWED_TAGS"in t?S({},t.ALLOWED_TAGS):wt,xt="ALLOWED_ATTR"in t?S({},t.ALLOWED_ATTR):Mt,zt="ADD_URI_SAFE_ATTR"in t?S(k(Wt),t.ADD_URI_SAFE_ATTR):Wt,Ht="ADD_DATA_URI_TAGS"in t?S(k(Bt),t.ADD_DATA_URI_TAGS):Bt,St="FORBID_TAGS"in t?S({},t.FORBID_TAGS):{},kt="FORBID_ATTR"in t?S({},t.FORBID_ATTR):{},Yt="USE_PROFILES"in t&&t.USE_PROFILES,Tt=!1!==t.ALLOW_ARIA_ATTR,Ct=!1!==t.ALLOW_DATA_ATTR,Et=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=t.SAFE_FOR_TEMPLATES||!1,Lt=t.WHOLE_DOCUMENT||!1,Ot=t.RETURN_DOM||!1,It=t.RETURN_DOM_FRAGMENT||!1,Nt=!1!==t.RETURN_DOM_IMPORT,Rt=t.RETURN_TRUSTED_TYPE||!1,Pt=t.FORCE_BODY||!1,Ft=!1!==t.SANITIZE_DOM,jt=!1!==t.KEEP_CONTENT,Ut=t.IN_PLACE||!1,_t=t.ALLOWED_URI_REGEXP||_t,Xt=t.NAMESPACE||Xt,At&&(Ct=!1),It&&(Ot=!0),Yt&&(bt=S({},[].concat(q(O))),xt=[],!0===Yt.html&&(S(bt,C),S(xt,I)),!0===Yt.svg&&(S(bt,E),S(xt,N),S(xt,F)),!0===Yt.svgFilters&&(S(bt,A),S(xt,N),S(xt,F)),!0===Yt.mathMl&&(S(bt,D),S(xt,R),S(xt,F))),t.ADD_TAGS&&(bt===wt&&(bt=k(bt)),S(bt,t.ADD_TAGS)),t.ADD_ATTR&&(xt===Mt&&(xt=k(xt)),S(xt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&S(zt,t.ADD_URI_SAFE_ATTR),jt&&(bt["#text"]=!0),Lt&&S(bt,["html","head","body"]),bt.table&&(S(bt,["tbody"]),delete St.tbody),o&&o(t),Kt=t)},Zt=S({},["mi","mo","mn","ms","mtext"]),te=S({},["foreignobject","desc","title","annotation-xml"]),ee=S({},E);S(ee,A),S(ee,L);var ie=S({},D);S(ie,P);var ne=function(t){var e=it(t);e&&e.tagName||(e={namespaceURI:$t,tagName:"template"});var i=g(t.tagName),n=g(e.tagName);if(t.namespaceURI===Gt)return e.namespaceURI===$t?"svg"===i:e.namespaceURI===qt?"svg"===i&&("annotation-xml"===n||Zt[n]):Boolean(ee[i]);if(t.namespaceURI===qt)return e.namespaceURI===$t?"math"===i:e.namespaceURI===Gt?"math"===i&&te[n]:Boolean(ie[i]);if(t.namespaceURI===$t){if(e.namespaceURI===Gt&&!te[n])return!1;if(e.namespaceURI===qt&&!Zt[n])return!1;var r=S({},["title","style","font","a","script"]);return!ie[i]&&(r[i]||!ee[i])}return!1},re=function(t){m(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ot}catch(e){t.remove()}}},oe=function(t,e){try{m(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){m(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!xt[t])if(Ot||It)try{re(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ae=function(t){var e=void 0,i=void 0;if(Pt)t="<remove></remove>"+t;else{var n=v(t,/^[\r\n\t ]+/);i=n&&n[0]}var o=rt?rt.createHTML(t):t;if(Xt===$t)try{e=(new K).parseFromString(o,"text/html")}catch(t){}e&&e.documentElement||((e=st.createDocument(Xt,"template",null)).documentElement.innerHTML=o);var a=e.body||e.documentElement;return t&&i&&a.insertBefore(r.createTextNode(i),a.childNodes[0]||null),Lt?e.documentElement:a},se=function(t){return lt.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,(function(){return u.FILTER_ACCEPT}),!1)},le=function(t){return!(t instanceof M||t instanceof X||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof d&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},ce=function(t){return"object"===(void 0===l?"undefined":W(l))?t instanceof l:t&&"object"===(void 0===t?"undefined":W(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},ue=function(t,e,n){dt[t]&&p(dt[t],(function(t){t.call(i,e,n,Kt)}))},he=function(t){var e=void 0;if(ue("beforeSanitizeElements",t,null),le(t))return re(t),!0;if(v(t.nodeName,/[\u0080-\uFFFF]/))return re(t),!0;var n=g(t.nodeName);if(ue("uponSanitizeElement",t,{tagName:n,allowedTags:bt}),!ce(t.firstElementChild)&&(!ce(t.content)||!ce(t.content.firstElementChild))&&w(/<[/\w]/g,t.innerHTML)&&w(/<[/\w]/g,t.textContent))return re(t),!0;if(!bt[n]||St[n]){if(jt&&!Vt[n]){var r=it(t)||t.parentNode,o=et(t)||t.childNodes;if(o&&r)for(var a=o.length-1;a>=0;--a)r.insertBefore(Z(o[a],!0),tt(t))}return re(t),!0}return t instanceof c&&!ne(t)?(re(t),!0):"noscript"!==n&&"noembed"!==n||!w(/<\/no(script|embed)/i,t.innerHTML)?(At&&3===t.nodeType&&(e=t.textContent,e=y(e,pt," "),e=y(e,ft," "),t.textContent!==e&&(m(i.removed,{element:t.cloneNode()}),t.textContent=e)),ue("afterSanitizeElements",t,null),!1):(re(t),!0)},de=function(t,e,i){if(Ft&&("id"===e||"name"===e)&&(i in r||i in Jt))return!1;if(Ct&&w(mt,e));else if(Tt&&w(gt,e));else{if(!xt[e]||kt[e])return!1;if(zt[e]);else if(w(_t,y(i,yt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==_(i,"data:")||!Ht[t])if(Et&&!w(vt,y(i,yt,"")));else if(i)return!1}return!0},pe=function(t){var e=void 0,n=void 0,r=void 0,o=void 0;ue("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xt};for(o=a.length;o--;){var l=e=a[o],c=l.name,u=l.namespaceURI;if(n=b(e.value),r=g(c),s.attrName=r,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,ue("uponSanitizeAttribute",t,s),n=s.attrValue,!s.forceKeepAttr&&(oe(c,t),s.keepAttr))if(w(/\/>/i,n))oe(c,t);else{At&&(n=y(n,pt," "),n=y(n,ft," "));var h=t.nodeName.toLowerCase();if(de(h,r,n))try{u?t.setAttributeNS(u,c,n):t.setAttribute(c,n),f(i.removed)}catch(t){}}}ue("afterSanitizeAttributes",t,null)}},fe=function t(e){var i=void 0,n=se(e);for(ue("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)ue("uponSanitizeShadowNode",i,null),he(i)||(i.content instanceof a&&t(i.content),pe(i));ue("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t,r){var o=void 0,s=void 0,c=void 0,u=void 0,h=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!ce(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!i.isSupported){if("object"===W(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(ce(t))return e.toStaticHTML(t.outerHTML)}return t}if(Dt||Qt(r),i.removed=[],"string"==typeof t&&(Ut=!1),Ut);else if(t instanceof l)1===(s=(o=ae("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Ot&&!At&&!Lt&&-1===t.indexOf("<"))return rt&&Rt?rt.createHTML(t):t;if(!(o=ae(t)))return Ot?null:ot}o&&Pt&&re(o.firstChild);for(var d=se(Ut?t:o);c=d.nextNode();)3===c.nodeType&&c===u||he(c)||(c.content instanceof a&&fe(c.content),pe(c),u=c);if(u=null,Ut)return t;if(Ot){if(It)for(h=ct.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return Nt&&(h=ut.call(n,h,!0)),h}var p=Lt?o.outerHTML:o.innerHTML;return At&&(p=y(p,pt," "),p=y(p,ft," ")),rt&&Rt?rt.createHTML(p):p},i.setConfig=function(t){Qt(t),Dt=!0},i.clearConfig=function(){Kt=null,Dt=!1},i.isValidAttribute=function(t,e,i){Kt||Qt({});var n=g(t),r=g(e);return de(n,r,i)},i.addHook=function(t,e){"function"==typeof e&&(dt[t]=dt[t]||[],m(dt[t],e))},i.removeHook=function(t){dt[t]&&f(dt[t])},i.removeHooks=function(t){dt[t]&&(dt[t]=[])},i.removeAllHooks=function(){dt={}},i}()},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(r="function"==typeof(n=o)?n.call(e,i,e,t):n)||(t.exports=r)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * MIT License
 * 
 * Copyright (c) 2020 Filestack
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */__webpack_require__.d(__webpack_exports__,"Filestack",(function(){return _filestack$Filestack})),__webpack_require__.d(__webpack_exports__,"init",(function(){return _filestack$init})),__webpack_require__.d(__webpack_exports__,"version",(function(){return _filestack$version})),__webpack_require__.d(__webpack_exports__,"EAlignOptions",(function(){return _filestack$EAlignOptions})),__webpack_require__.d(__webpack_exports__,"EAlignFacesOptions",(function(){return _filestack$EAlignFacesOptions})),__webpack_require__.d(__webpack_exports__,"EFitOptions",(function(){return _filestack$EFitOptions})),__webpack_require__.d(__webpack_exports__,"EBlurMode",(function(){return _filestack$EBlurMode})),__webpack_require__.d(__webpack_exports__,"EShapeType",(function(){return _filestack$EShapeType})),__webpack_require__.d(__webpack_exports__,"ENoiseType",(function(){return _filestack$ENoiseType})),__webpack_require__.d(__webpack_exports__,"EStyleType",(function(){return _filestack$EStyleType})),__webpack_require__.d(__webpack_exports__,"EColorspaceType",(function(){return _filestack$EColorspaceType})),__webpack_require__.d(__webpack_exports__,"ECropfacesType",(function(){return _filestack$ECropfacesType})),__webpack_require__.d(__webpack_exports__,"ESmartCropMode",(function(){return _filestack$ESmartCropMode})),__webpack_require__.d(__webpack_exports__,"EImageWatermarkPosition",(function(){return _filestack$EImageWatermarkPosition})),__webpack_require__.d(__webpack_exports__,"EVideoTypes",(function(){return _filestack$EVideoTypes})),__webpack_require__.d(__webpack_exports__,"EUrlscreenshotAgent",(function(){return _filestack$EUrlscreenshotAgent})),__webpack_require__.d(__webpack_exports__,"EUrlscreenshotMode",(function(){return _filestack$EUrlscreenshotMode})),__webpack_require__.d(__webpack_exports__,"EUrlscreenshotOrientation",(function(){return _filestack$EUrlscreenshotOrientation})),__webpack_require__.d(__webpack_exports__,"EVideoLocations",(function(){return _filestack$EVideoLocations})),__webpack_require__.d(__webpack_exports__,"EVideoAccess",(function(){return _filestack$EVideoAccess})),__webpack_require__.d(__webpack_exports__,"EVideoAccessMode",(function(){return _filestack$EVideoAccessMode})),__webpack_require__.d(__webpack_exports__,"transform",(function(){return _filestack$transform})),__webpack_require__.d(__webpack_exports__,"Align",(function(){return _filestack$Align})),__webpack_require__.d(__webpack_exports__,"FitOptions",(function(){return _filestack$FitOptions})),__webpack_require__.d(__webpack_exports__,"BlurMode",(function(){return _filestack$BlurMode})),__webpack_require__.d(__webpack_exports__,"ShapeType",(function(){return _filestack$ShapeType})),__webpack_require__.d(__webpack_exports__,"NoiseType",(function(){return _filestack$NoiseType})),__webpack_require__.d(__webpack_exports__,"StyleType",(function(){return _filestack$StyleType})),__webpack_require__.d(__webpack_exports__,"ColorspaceType",(function(){return _filestack$ColorspaceType})),__webpack_require__.d(__webpack_exports__,"CropfacesType",(function(){return _filestack$CropfacesType})),__webpack_require__.d(__webpack_exports__,"ImageWatermarkPosition",(function(){return _filestack$ImageWatermarkPosition})),__webpack_require__.d(__webpack_exports__,"SmartCropMode",(function(){return _filestack$SmartCropMode})),__webpack_require__.d(__webpack_exports__,"VideoTypes",(function(){return _filestack$VideoTypes})),__webpack_require__.d(__webpack_exports__,"URLScreenshotAgent",(function(){return _filestack$URLScreenshotAgent})),__webpack_require__.d(__webpack_exports__,"URLScreenshotMode",(function(){return _filestack$URLScreenshotMode})),__webpack_require__.d(__webpack_exports__,"URLScreenshotOrientation",(function(){return _filestack$URLScreenshotOrientation})),__webpack_require__.d(__webpack_exports__,"Locations",(function(){return _filestack$Locations})),__webpack_require__.d(__webpack_exports__,"VideoAccess",(function(){return _filestack$VideoAccess})),__webpack_require__.d(__webpack_exports__,"VideoAccessMode",(function(){return _filestack$VideoAccessMode})),__webpack_require__.d(__webpack_exports__,"EnhancePreset",(function(){return _filestack$EnhancePreset})),__webpack_require__.d(__webpack_exports__,"Filelink",(function(){return _filestack$Filelink})),__webpack_require__.d(__webpack_exports__,"FilestackErrorType",(function(){return _filestack$FilestackErrorType})),__webpack_require__.d(__webpack_exports__,"FsHttpMethod",(function(){return _filestack$FsHttpMethod})),__webpack_require__.d(__webpack_exports__,"FsRequest",(function(){return _filestack$FsRequest})),__webpack_require__.d(__webpack_exports__,"FsRequestErrorCode",(function(){return _filestack$FsRequestErrorCode})),__webpack_require__.d(__webpack_exports__,"FsRequestError",(function(){return _filestack$FsRequestError})),__webpack_require__.d(__webpack_exports__,"FsCancelToken",(function(){return _filestack$FsCancelToken})),__webpack_require__.d(__webpack_exports__,"resolveCdnUrl",(function(){return _filestack$resolveCdnUrl})),__webpack_require__.d(__webpack_exports__,"resolveHost",(function(){return _filestack$resolveHost})),__webpack_require__.d(__webpack_exports__,"removeEmpty",(function(){return _filestack$removeEmpty})),__webpack_require__.d(__webpack_exports__,"uniqueTime",(function(){return _filestack$uniqueTime})),__webpack_require__.d(__webpack_exports__,"uniqueId",(function(){return _filestack$uniqueId})),__webpack_require__.d(__webpack_exports__,"extensionToMime",(function(){return _filestack$extensionToMime})),__webpack_require__.d(__webpack_exports__,"sanitizeName",(function(){return _filestack$sanitizeName})),__webpack_require__.d(__webpack_exports__,"filterObject",(function(){return _filestack$filterObject})),__webpack_require__.d(__webpack_exports__,"cleanUpCallbacks",(function(){return _filestack$cleanUpCallbacks})),__webpack_require__.d(__webpack_exports__,"md5",(function(){return _filestack$md5})),__webpack_require__.d(__webpack_exports__,"b64",(function(){return _filestack$b64})),__webpack_require__.d(__webpack_exports__,"getVersion",(function(){return _filestack$getVersion})),__webpack_require__.d(__webpack_exports__,"isMobile",(function(){return _filestack$isMobile})),__webpack_require__.d(__webpack_exports__,"isFacebook",(function(){return _filestack$isFacebook})),__webpack_require__.d(__webpack_exports__,"TransformSchema",(function(){return _filestack$TransformSchema})),__webpack_require__.d(__webpack_exports__,"getSecurity",(function(){return _filestack$getSecurity})),__webpack_require__.d(__webpack_exports__,"validateWebhookSignature",(function(){return _filestack$validateWebhookSignature})),__webpack_require__.d(__webpack_exports__,"Client",(function(){return _filestack$Client})),__webpack_require__.d(__webpack_exports__,"FilestackError",(function(){return _filestack$FilestackError})),__webpack_require__.d(__webpack_exports__,"PickerDisplayMode",(function(){return _filestack$PickerDisplayMode})),__webpack_require__.d(__webpack_exports__,"getMimetype",(function(){return _filestack$getMimetype})),__webpack_require__.d(__webpack_exports__,"PrefetchEvents",(function(){return _filestack$PrefetchEvents}));var filestack=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==_typeof2(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=52)}([function(t,e,i){i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"f",(function(){return l})),i.d(e,"e",(function(){return u}));
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function s(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},function(t,e,i){i.r(e),i.d(e,"resolveCdnUrl",(function(){return g})),i.d(e,"resolveHost",(function(){return v})),i.d(e,"removeEmpty",(function(){return y})),i.d(e,"uniqueTime",(function(){return _})),i.d(e,"uniqueId",(function(){return b})),i.d(e,"getMimetype",(function(){return w})),i.d(e,"extensionToMime",(function(){return x})),i.d(e,"sanitizeName",(function(){return M})),i.d(e,"filterObject",(function(){return S})),i.d(e,"cleanUpCallbacks",(function(){return k})),i.d(e,"md5",(function(){return h})),i.d(e,"b64",(function(){return d})),i.d(e,"getVersion",(function(){return p})),i.d(e,"isMobile",(function(){return f})),i.d(e,"isFacebook",(function(){return m}));var n,r=i(0),o={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","msp","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"application/font-ttf":"ttf","application/vnd.ms-fontobject":"eot","application/font-otf":"otf","text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard","vcr"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote","key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.key":["key"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"],"application/x-msi":"msi","application/x-ms":"ms","application/vnd.geo+json":"geojson","application/vnd.debian.binary-package":"deb","application/font-woff":"woff","application/font-woff2":"woff2","application/x-font-ttf":["ttc","ttf"],"font/opentype":"otf","application/x-bb-appworld":"bbaw","application/x-cd-image":"iso","application/x-opera-extension":"oex","application/x-ms-dos-executable":"exe","text/vnd.rim.location.xloc":"xloc","application/x-desktop":"desktop","application/x-typescript":"ts","application/x-java-archive":"jar","application/x-sharedlib":"so"},a=i(17),s=i.n(a),l=i(27),c=i(28),u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i,h=function(t){return btoa(c.ArrayBuffer.hash(t,!0))},d=function(t,e){void 0===e&&(e=!1);var i=btoa(t);return e?i.replace(/\//g,"_").replace(/\+/g,"-"):i},p=function(){return"JS-3.25.0"},f=function(){return navigator&&navigator.userAgent&&u.test(navigator.userAgent)},m=function(){return navigator&&navigator.userAgent&&/\[FB.*;/i.test(navigator.userAgent)},g=function(t,e){var i=t.urls.cdnUrl;if(e&&(0===e.indexOf("src:")||0===e.indexOf("http"))){if(!t.apikey)throw new Error("Api key is required when storage alias is provided");return i+"/"+t.apikey}return i},v=function(t,e){if(!e)return t;var i=/filestackapi.com|filestackcontent.com/i;return Object.keys(t).forEach((function(n){t[n]=t[n].replace(i,e)})),t},y=function(t){var e=Object(r.a)({},t);return Object.keys(e).forEach((function(t){return!e[t]&&"boolean"!=typeof e[t]&&delete e[t]})),e},_=function(){var t=Date.now();return n=t===n?t+1:t},b=function(t){return void 0===t&&(t=10),new Array(t).join().replace(/(.|$)/g,(function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()}))},w=function(t,e){var i=s()(t);if(i&&-1===["text/plain","application/octet-stream","application/x-ms","application/x-msi","application/zip"].indexOf(i.mime))return i.mime;if(e&&e.indexOf(".")>-1){var n=x(e);if(n)return n}try{if(l(t))return"text/plain"}catch(t){console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers")}return i?i.mime:"application/octet-stream"},x=function(t){if(t&&0!==t.length){if(2===t.split("/").length)return t;t.indexOf(".")>-1&&(t=t.split(".").pop()),t=t.toLocaleLowerCase();for(var e=Object.keys(o),i=e.length,n=0;n<i;n++)if(o[e[n]].indexOf(t)>-1)return e[n]}},M=function(t,e){if(void 0===e&&(e=!0),"boolean"==typeof e&&!e)return t;var i,n="boolean"!=typeof e&&e.replacement?e.replacement:"-",r="boolean"!=typeof e&&e.exclude?e.exclude:["\\","{","}","|","%","`",'"',"'","~","[","]","#","|","^","<",">"];if(!t||0===t.length)return"undefined";var o=t.split(".");return o.length>1&&(i=o.pop()),o.join(".").split("").map((function(t){return r.indexOf(t)>-1?n:t})).join("")+(i?"."+i:"")},S=function(t,e){return e&&0!==e.length?0===Object.keys(t).length?t:Object.keys(t).filter((function(t){return e.indexOf(t)>-1})).reduce((function(e,i){var n;return Object(r.a)(Object(r.a)({},e),((n={})[i]=t[i],n))}),{}):t},k=function t(e){return e&&0!==Object.keys(e).length?(Object.keys(e).forEach((function(i){"function"==typeof e[i]&&(e[i]=void 0),e[i]===Object(e[i])&&(e[i]=t(e[i]))})),e):e}},function(t,e,i){i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o}));var n,r=i(0);!function(t){t.ABORTED="ABORTED",t.NETWORK="NETWORK",t.TIMEOUT="TIMEDOUT",t.SERVER="SERVER",t.REQUEST="REQUEST",t.OTHER="OTHER",t.REDIRECT="REDIRECT"}(n||(n={}));var o=function(t){function e(e,i,n,r){var o,a,s,l=this.constructor,c=t.call(this,e)||this;return c.config=i,c.response=n,c.code=r,o=c,a=l.prototype,(s=Object.setPrototypeOf)?s(o,a):o.__proto__=a,c}return Object(r.c)(e,t),e}(Error)},function(t,e,i){(function(n){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(r=n))})),e.splice(r,0,i)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=i(41)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,i(26))},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return p(t,Error)}}function o(t){return"[object String]"===Object.prototype.toString.call(t)}function a(t){return null===t||"object"!==n(t)&&"function"!=typeof t}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&p(t,Event)}function c(t){return"undefined"!=typeof Element&&p(t,Element)}function u(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function d(t){return s(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function p(t,e){try{return t instanceof e}catch(t){return!1}}i.d(e,"b",(function(){return r})),i.d(e,"h",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"g",(function(){return u})),i.d(e,"j",(function(){return h})),i.d(e,"i",(function(){return d})),i.d(e,"d",(function(){return p}))},function(t,e,i){i.d(e,"a",(function(){return a})),i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"h",(function(){return u})),i.d(e,"e",(function(){return h})),i.d(e,"i",(function(){return d})),i.d(e,"c",(function(){return n})),i.d(e,"g",(function(){return r}));var n=function(){return!1},r=function(){return!1};function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var a=function(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)},s=function(t){return null!==t&&"object"===o(t)},l=function(t){return"[object File]"===Object.prototype.toString.call(t)},c=function(t){return"[object Blob]"===Object.prototype.toString.call(t)},u=function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},h=function(t){return"undefined"!=typeof FormData&&t instanceof FormData},d=function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}},function(t,e,i){var n;i.d(e,"a",(function(){return n})),function(t){t.GET="GET",t.DELETE="DELETE",t.HEAD="HEAD",t.PURGE="PURGE",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t.PATH="PATH"}(n||(n={}))},function(t,e,i){var n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,i){if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o++)t[n[o]]="strict"===i?[e[n[o]]]:e[n[o]]},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,i){var n={};if(!t)return e;for(var r=0;r<i.length;r++)void 0!==t[i[r]]?n[i[r]]=t[i[r]]:n[i[r]]=e[i[r]];return n},e.isName=function(t){return!(null==r.exec(t))},e.getAllMatches=function(t,e){for(var i=[],n=e.exec(t);n;){for(var r=[],o=n.length,a=0;a<o;a++)r.push(n[a]);i.push(r),n=e.exec(t)}return i},e.nameRegexp=n},function(t,e,i){var n=Object.prototype.hasOwnProperty,r="~";function o(){}function a(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new a(i,n||t,o),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},c.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,a=new Array(o);n<o;n++)a[n]=i[n].fn;return a},c.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},c.prototype.emit=function(t,e,i,n,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,o),!0;case 6:return u.fn.call(u.context,e,i,n,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},c.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},c.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||l(this,o);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||n&&!a[s].once||i&&a[s].context!==i)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},function(t,e,i){(function(t){i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return s}));var n=i(13),r=(i(10),{});function o(){return Object(n.b)()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}function a(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var i=new Uint16Array(8);e.getRandomValues(i),i[3]=4095&i[3]|16384,i[4]=16383&i[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(i[0])+n(i[1])+n(i[2])+n(i[3])+n(i[4])+n(i[5])+n(i[6])+n(i[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){var e=o();if(!("console"in e))return t();var i=e.console,n={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&i[t].__sentry_original__&&(n[t]=i[t],i[t]=i[t].__sentry_original__)}));var r=t();return Object.keys(n).forEach((function(t){i[t]=n[t]})),r}}).call(this,i(14))},function(t,e,i){function n(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function r(t,e){var i=t,n=i.length;if(n<=150)return i;e>n&&(e=n);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,n);return o>n-5&&(o=n),o===n&&(r=Math.max(o-140,0)),i=i.slice(r,o),r>0&&(i="'{snip} "+i),o<n&&(i+=" {snip}"),i}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r})),i(4)},function(t,e,i){i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return p})),i.d(e,"c",(function(){return m})),i.d(e,"a",(function(){return v})),i.d(e,"e",(function(){return _.a}));var n=i(5),r=["expires","from","host","if-modified-since","if-unmodified-since","age","authorization","content-length","content-type","etag","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],o=function(t){var e,i,o,a={};return t?(t.split("\n").forEach((function(t){o=t.indexOf(":"),e=Object(n.i)(t.substr(0,o)).toLowerCase(),i=Object(n.i)(t.substr(o+1)),e&&(a[e]&&r.indexOf(e)>=0||(a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i))})),a):a},a=function(t,e,i,n){void 0===n&&(n=!1);var r=s(e);return t||(t={}),void 0===(t=JSON.parse(JSON.stringify(t)))[e]&&void 0===t[r]?t[r]=i:n&&(delete t[e],t[r]=i),t},s=function(t){return{"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag","last-event-id":"Last-Event-ID",tcn:"TCN",te:"TE","www-authenticate":"WWW-Authenticate","x-dnsprefetch-control":"X-DNSPrefetch-Control"}[t.toLowerCase()]||t.split("-").map((function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})).join("-")},l=i(0),c=i(1),u=i(21),h=i(3),d=i.n(h)()("fs:request:data"),p=function(t){return t=f(t),Object(n.e)(t.data)||Object(n.c)(t.data)||Object(n.g)(t.data)||Object(n.d)(t.data)||Object(n.b)(t.data)||Object(n.a)(t.data)||(Object(n.h)(t.data)?(t.headers=a(t.headers,"content-type","application/x-www-form-urlencoded;charset=utf-8"),t.data=t.data.toString()):Object(n.f)(t.data)&&(t.headers=a(t.headers,"content-type","application/json",!0),t.data=JSON.stringify(t.data))),t},f=function(t){return t.filestackHeaders?(t.headers=a(t.headers,"filestack-source",Object(c.getVersion)()),t.headers=a(t.headers,"filestack-trace-id",Math.floor(Date.now()/1e3)+"-"+Object(c.uniqueId)()),t.headers=a(t.headers,"filestack-trace-span","jssdk-"+Object(c.uniqueId)()),t):t},m=function(t){return Object(l.b)(void 0,void 0,void 0,(function(){var e,i;return Object(l.d)(this,(function(r){if(!t.headers||!t.headers["content-type"])return[2,Promise.resolve(t)];if(e=t.headers["content-type"],/application\/json/.test(e))try{t.data=JSON.parse(t.data)}catch(e){d("Cannot parse response %O - %O",t.data,t.headers)}else/text\/(plain|html)/.test(e)?Object(n.c)(t.data)&&(t.data=g(t.data)):/application\/xml/.test(e)&&(i=t.data,Object(n.c)(t.data)&&(i=g(t.data)),!0===u.validate(i)&&(t.data=u.parse(i,{ignoreAttributes:!0,trimValues:!0})));return[2,Promise.resolve(t)]}))}))};function g(t){for(var e=new Uint16Array(t),i=e.length,n="",r=Math.pow(2,16)-1,o=0;o<i;o+=r)o+r>i&&(r=i-o),n+=String.fromCharCode.apply(null,e.subarray(o,o+r));return n}var v=function(t,e){if(!e)return t;var i=y(e),n=t.indexOf("#");return-1!==n&&(t=t.slice(0,n)),t+(-1===t.indexOf("?")?"?":"&")+i},y=function(t){return Object.keys(t).filter((function(e){return e&&void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},_=i(16)},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(19),o=e.ValidationError=function(t,e,i,n,r,o){n&&(this.property=n),t&&(this.message=t),i&&(i.id?this.schema=i.id:this.schema=i),e&&(this.instance=e),this.name=r,this.argument=o,this.stack=this.toString()};o.prototype.toString=function(){return this.property+" "+this.message};var a=e.ValidatorResult=function(t,e,i,n){this.instance=t,this.schema=e,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=i&&i.throwError,this.disableFormat=i&&!0===i.disableFormat};function s(t,e){return e+": "+t.toString()+"\n"}a.prototype.addError=function(t){var e;if("string"==typeof t)e=new o(t,this.instance,this.schema,this.propertyPath);else{if(!t)throw new Error("Missing error detail");if(!t.message)throw new Error("Missing error message");if(!t.name)throw new Error("Missing validator type");e=new o(t.message,this.instance,this.schema,this.propertyPath,t.name,t.argument)}if(this.throwError)throw e;return this.errors.push(e),e},a.prototype.importErrors=function(t){"string"==typeof t||t&&t.validatorType?this.addError(t):t&&t.errors&&Array.prototype.push.apply(this.errors,t.errors)},a.prototype.toString=function(t){return this.errors.map(s).join("")},Object.defineProperty(a.prototype,"valid",{get:function(){return!this.errors.length}});var l=e.SchemaError=function t(e,i){this.message=e,this.schema=i,Error.call(this,e),Error.captureStackTrace(this,t)};l.prototype=Object.create(Error.prototype,{constructor:{value:l,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=e.SchemaContext=function(t,e,i,n,r){this.schema=t,this.options=e,this.propertyPath=i,this.base=n,this.schemas=r};c.prototype.resolve=function(t){return r.resolve(this.base,t)},c.prototype.makeChild=function(t,e){var i=void 0===e?this.propertyPath:this.propertyPath+h(e),n=r.resolve(this.base,t.id||""),o=new c(t,this.options,i,n,Object.create(this.schemas));return t.id&&!o.schemas[n]&&(o.schemas[n]=t),o};var u=e.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(t){return"string"==typeof t&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},regex:function(t){var e=!0;try{new RegExp(t)}catch(t){e=!1}return e},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],e.isFormat=function(t,e,i){if("string"==typeof t&&void 0!==u[e]){if(u[e]instanceof RegExp)return u[e].test(t);if("function"==typeof u[e])return u[e](t)}else if(i&&i.customFormats&&"function"==typeof i.customFormats[e])return i.customFormats[e](t);return!0};var h=e.makeSuffix=function(t){return(t=t.toString()).match(/[.\s\[\]]/)||t.match(/^[\d]/)?t.match(/^\d+$/)?"["+t+"]":"["+JSON.stringify(t)+"]":"."+t};function d(t,e,i,r){"object"===n(i)?e[r]=m(t[r],i):-1===t.indexOf(i)&&e.push(i)}function p(t,e,i){e[i]=t[i]}function f(t,e,i,r){"object"===n(e[r])&&e[r]&&t[r]?i[r]=m(t[r],e[r]):i[r]=e[r]}function m(t,e){var i=Array.isArray(e),r=i&&[]||{};return i?(t=t||[],r=r.concat(t),e.forEach(d.bind(null,t,r))):(t&&"object"===n(t)&&Object.keys(t).forEach(p.bind(null,t,r)),Object.keys(e).forEach(f.bind(null,t,e,r))),r}function g(t){return"/"+encodeURIComponent(t).replace(/~/g,"%7E")}e.deepCompareStrict=function t(e,i){if(n(e)!==n(i))return!1;if(e instanceof Array)return i instanceof Array&&e.length===i.length&&e.every((function(n,r){return t(e[r],i[r])}));if("object"===n(e)){if(!e||!i)return e===i;var r=Object.keys(e),o=Object.keys(i);return r.length===o.length&&r.every((function(n){return t(e[n],i[n])}))}return e===i},t.exports.deepMerge=m,e.objectGetPath=function(t,e){for(var i,n=e.split("/").slice(1);"string"==typeof(i=n.shift());){var r=decodeURIComponent(i.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in t))return;t=t[r]}return t},e.encodePath=function(t){return t.map(g).join("")},e.getDecimalPlaces=function(t){var e=0;if(isNaN(t))return e;"number"!=typeof t&&(t=Number(t));var i=t.toString().split("e");if(2===i.length){if("-"!==i[1][0])return e;e=Number(i[1].slice(1))}var n=i[0].split(".");return 2===n.length&&(e+=n[1].length),e}},function(t,e,i){(function(t){function n(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}function r(t,e){return t.require(e)}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r}))}).call(this,i(26))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){var n=i(7),r=i(7).buildOptions,o=i(45),a="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var s={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};e.defaultOptions=s;var l=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function c(t,e,i){var n=t[7]||i,r=t[12];return r&&(e.trimValues&&(r=r.trim()),r=d(r=e.tagValueProcessor(r,n),e.parseNodeValue,e.parseTrueNumberOnly)),r}function u(t){return"]]>"===t[4]?4:"/"===t[10]?2:void 0!==t[8]&&"/"===t[8].substr(t[8].length-1)?3:1}function h(t,e){if(e.ignoreNameSpace){var i=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===i[0])return"";2===i.length&&(t=n+i[1])}return t}function d(t,e,i){var r;return e&&"string"==typeof t?(""===t.trim()||isNaN(t)?r="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?r=Number.parseInt(t,16):-1!==t.indexOf(".")?(r=Number.parseFloat(t),t=t.replace(/0+$/,"")):r=Number.parseInt(t,10),i&&(r=String(r)===t?r:t)),r):n.isExist(t)?t:""}e.props=l;var p=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");for(var i=n.getAllMatches(t,p),r=i.length,o={},a=0;a<r;a++){var s=h(i[a][1],e);s.length&&(void 0!==i[a][4]?(e.trimValues&&(i[a][4]=i[a][4].trim()),i[a][4]=e.attrValueProcessor(i[a][4],s),o[e.attributeNamePrefix+s]=d(i[a][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(o[e.attributeNamePrefix+s]=!0))}if(!Object.keys(o).length)return;if(e.attrNodeName){var l={};return l[e.attrNodeName]=o,l}return o}}e.getTraversalObj=function(t,e){e=r(e,s,l),t=t.replace(/<!--[\s\S]*?-->/g,"");for(var i=new o("!xml"),h=i,d=new RegExp(a,"g"),p=d.exec(t),m=d.exec(t);p;){var g=u(p);if(2===g)h.parent&&p[12]&&(h.parent.val=n.getValue(h.parent.val)+""+c(p,e,h.parent.tagname)),e.stopNodes.length&&e.stopNodes.includes(h.tagname)&&(h.child=[],null==h.attrsMap&&(h.attrsMap={}),h.val=t.substr(h.startIndex+1,p.index-h.startIndex-1)),h=h.parent;else if(4===g)if(e.cdataTagName){var v=new o(e.cdataTagName,h,p[3]);v.attrsMap=f(p[8],e),h.addChild(v),h.val=n.getValue(h.val)+e.cdataPositionChar,p[12]&&(h.val+=c(p,e))}else h.val=(h.val||"")+(p[3]||"")+c(p,e);else if(3===g){h&&p[12]&&(h.val=n.getValue(h.val)+""+c(p,e));var y=new o(e.ignoreNameSpace?p[7]:p[5],h,"");p[8]&&p[8].length>0&&(p[8]=p[8].substr(0,p[8].length-1)),y.attrsMap=f(p[8],e),h.addChild(y)}else{var _=new o(e.ignoreNameSpace?p[7]:p[5],h,c(p,e));e.stopNodes.length&&e.stopNodes.includes(_.tagname)&&(_.startIndex=p.index+p[1].length),_.attrsMap=f(p[8],e),h.addChild(_),h=_}p=m,m=d.exec(t)}return i}},function(t,e,i){i.d(e,"a",(function(){return a}));var n=i(2),r=i(3),o=i.n(r)()("fs:request:shouldRetry"),a=function(t){switch(o("Checking error for retry. Code: %n, type: %s",t.response?t.response.status:"Malformed response",t.code),t.code){case n.b.NETWORK:case n.b.SERVER:case n.b.TIMEOUT:return!0;case n.b.ABORTED:return!1}return!!t.response&&500<=t.response.status&&t.response.status<=599}},function(module,exports,__webpack_require__){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var toBytes=function(t){return _toConsumableArray(t).map((function(t){return t.charCodeAt(0)}))},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t[e],n=1,r=0;++r<8;)n*=256,i+=t[e+r]*n;return i}var fileType=function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(t),"`"));var e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;var i=function(t,i){i=Object.assign({offset:0},i);for(var n=0;n<t.length;n++)if(i.mask){if(t[n]!==(i.mask[n]&e[n+i.offset]))return!1}else if(t[n]!==e[n+i.offset])return!1;return!0},n=function(t,e){return i(toBytes(t),e)};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(i([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((i([73,73,42,0])||i([77,77,0,42]))&&i([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i([73,73,42,0])||i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i([80,75,3,4])){if(i([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(i(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex((function(t,i,n){return i>=e&&80===n[i]&&75===n[i+1]&&3===n[i+2]&&4===n[i+3]}))},o=0,a=!1,s=null;do{var l=o+30;if(a||(a=i(oxmlContentTypes,{offset:l})||i(oxmlRels,{offset:l})),s||(n("word/",{offset:l})?s={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:l})?s={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:l})&&(s={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),a&&s)return s;o=r(e,l)}while(o>=0);if(s)return s}if(i([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(i([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(i([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([51,103,112,53])||i([0,0,0])&&i([102,116,121,112],{offset:4})&&(i([109,112,52,49],{offset:8})||i([109,112,52,50],{offset:8})||i([105,115,111,109],{offset:8})||i([105,115,111,50],{offset:8})||i([109,109,112,52],{offset:8})||i([77,52,86],{offset:8})||i([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(i([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(i([26,69,223,163])){var c=e.subarray(4,4100),u=c.findIndex((function(t,e,i){return 66===i[e]&&130===i[e+1]}));if(-1!==u){var h=u+3,d=function(t){return _toConsumableArray(t).every((function(t,e){return c[h+e]===t.charCodeAt(0)}))};if(d("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(d("webm"))return{ext:"webm",mime:"video/webm"}}}if(i([0,0,0,20,102,116,121,112,113,116,32,32])||i([102,114,101,101],{offset:4})||i([102,116,121,112,113,116,32,32],{offset:4})||i([109,100,97,116],{offset:4})||i([109,111,111,118],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i([48,38,178,117,142,102,207,17,166,217])){var p=30;do{var f=readUInt64LE(e,p+16);if(i([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:p})){if(i([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:p+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(i([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:p+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}p+=f}while(p+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var m=0;m<2&&m<e.length-16;m++){if(i([73,68,51],{offset:m})||i([255,226],{offset:m,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([255,228],{offset:m,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([255,248],{offset:m,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([255,240],{offset:m,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(i([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(i([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(i([79,103,103,83]))return i([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:i([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:i([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:i([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:i([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(i([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(i([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(i([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(i([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(i([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([119,79,70,70])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(i([119,79,70,50])&&(i([0,1,0,0],{offset:4})||i([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i([37,33]))return{ext:"ps",mime:"application/postscript"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i([77,83,67,70])||i([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(i([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(i([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i([0,0,0,12,106,80,32,32,13,10,135,10])){if(i([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(i([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(i([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(i([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(i([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([102,116,121,112],{offset:4})){if(i([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(i([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(i([104,101,105,99],{offset:8})||i([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(i([104,101,118,99],{offset:8})||i([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return i([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:i([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:i([77,80,43])||i([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:i([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:i([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:i([212,195,178,161])||i([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise((function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",(function(){var t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(t){reject(t)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,(function(){}))):resolve(readableStream.pipe(t))}))}))}},function(t,e,i){var n=t.exports.Validator=i(34);t.exports.ValidatorResult=i(12).ValidatorResult,t.exports.ValidationError=i(12).ValidationError,t.exports.SchemaError=i(12).SchemaError,t.exports.SchemaScanResult=i(20).SchemaScanResult,t.exports.scan=i(20).scan,t.exports.validate=function(t,e,i){return(new n).validate(t,e,i)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(35),o=i(36);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return o.isString(t)&&(t=b(t)),t instanceof a?t.format():a.prototype.format.call(t)},e.Url=a;var s=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(u),d=["%","/","?",";","#"].concat(h),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=i(37);function b(t,e,i){if(t&&o.isObject(t)&&t instanceof a)return t;var n=new a;return n.parse(t,e,i),n}a.prototype.parse=function(t,e,i){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+n(t));var a=t.indexOf("?"),l=-1!==a&&a<t.indexOf("#")?"?":"#",u=t.split(l);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(l);if(b=b.trim(),!i&&1===t.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(b);if(x){var M=(x=x[0]).toLowerCase();this.protocol=M,b=b.substr(x.length)}if(i||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(S||x&&!y[x])){for(var k,T,C=-1,E=0;E<p.length;E++)-1!==(A=b.indexOf(p[E]))&&(-1===C||A<C)&&(C=A);for(-1!==(T=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(k=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(k)),C=-1,E=0;E<d.length;E++){var A;-1!==(A=b.indexOf(d[E]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var D=this.hostname.split(/\./),P=(E=0,D.length);E<P;E++){var O=D[E];if(O&&!O.match(f)){for(var I="",N=0,R=O.length;N<R;N++)O.charCodeAt(N)>127?I+="x":I+=O[N];if(!I.match(f)){var F=D.slice(0,E),j=D.slice(E+1),U=O.match(m);U&&(F.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=r.toASCII(this.hostname));var Y=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+Y,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[M])for(E=0,P=h.length;E<P;E++){var H=h[E];if(-1!==b.indexOf(H)){var B=encodeURIComponent(H);B===H&&(B=escape(H)),b=b.split(H).join(B)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),e&&(this.query=_.parse(this.query)),b=b.slice(0,W)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Y=this.pathname||"";var q=this.search||"";this.path=Y+q}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+r+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(o.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var i=new a,n=Object.keys(this),r=0;r<n.length;r++){var s=n[r];i[s]=this[s]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(i[u]=t[u])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||v[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||_||i.host&&t.pathname,x=w,M=i.pathname&&i.pathname.split("/")||[],S=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(S&&(i.hostname="",i.port=null,i.host&&(""===M[0]?M[0]=i.host:M.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),w=w&&(""===f[0]||""===M[0])),b)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,M=f;else if(f.length)M||(M=[]),M.pop(),M=M.concat(f),i.search=t.search,i.query=t.query;else if(!o.isNullOrUndefined(t.search))return S&&(i.hostname=i.host=M.shift(),(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift())),i.search=t.search,i.query=t.query,o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!M.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=M.slice(-1)[0],T=(i.host||t.host||M.length>1)&&("."===k||".."===k)||""===k,C=0,E=M.length;E>=0;E--)"."===(k=M[E])?M.splice(E,1):".."===k?(M.splice(E,1),C++):C&&(M.splice(E,1),C--);if(!w&&!x)for(;C--;C)M.unshift("..");!w||""===M[0]||M[0]&&"/"===M[0].charAt(0)||M.unshift(""),T&&"/"!==M.join("/").substr(-1)&&M.push("");var A,L=""===M[0]||M[0]&&"/"===M[0].charAt(0);return S&&(i.hostname=i.host=L?"":M.length?M.shift():"",(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift())),(w=w||i.host&&M.length)&&!L&&M.unshift(""),M.length?i.pathname=M.join("/"):(i.pathname=null,i.path=null),o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},a.prototype.parseHost=function(){var t=this.host,e=l.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(19),o=i(12);function a(t,e){this.id=t,this.ref=e}t.exports.SchemaScanResult=a,t.exports.scan=function(t,e){function i(t,e){if(e&&"object"==n(e))if(e.$ref){var a=r.resolve(t,e.$ref);u[a]=u[a]?u[a]+1:0}else{var h=e.id?r.resolve(t,e.id):t;if(h){if(h.indexOf("#")<0&&(h+="#"),c[h]){if(!o.deepCompareStrict(c[h],e))throw new Error("Schema <"+e+"> already exists with different definition");return c[h]}c[h]=e,"#"==h[h.length-1]&&(c[h.substring(0,h.length-1)]=e)}s(h+"/items",e.items instanceof Array?e.items:[e.items]),s(h+"/extends",e.extends instanceof Array?e.extends:[e.extends]),i(h+"/additionalItems",e.additionalItems),l(h+"/properties",e.properties),i(h+"/additionalProperties",e.additionalProperties),l(h+"/definitions",e.definitions),l(h+"/patternProperties",e.patternProperties),l(h+"/dependencies",e.dependencies),s(h+"/disallow",e.disallow),s(h+"/allOf",e.allOf),s(h+"/anyOf",e.anyOf),s(h+"/oneOf",e.oneOf),i(h+"/not",e.not)}}function s(t,e){if(e instanceof Array)for(var n=0;n<e.length;n++)i(t+"/"+n,e[n])}function l(t,e){if(e&&"object"==n(e))for(var r in e)i(t+"/"+r,e[r])}var c={},u={};return i(t,e),new a(c,u)}},function(t,e,i){var n=i(44),r=i(15),o=i(15),a=i(7).buildOptions,s=i(46);e.parse=function(t,e,i){if(i){!0===i&&(i={});var l=s.validate(t,i);if(!0!==l)throw Error(l.err.msg)}return e=a(e,o.defaultOptions,o.props),n.convertToJson(r.getTraversalObj(t,e),e)},e.convertTonimn=i(47).convert2nimn,e.getTraversalObj=r.getTraversalObj,e.convertToJson=n.convertToJson,e.convertToJsonString=i(48).convertToJsonString,e.validate=s.validate,e.j2xParser=i(49),e.parseToNimn=function(t,i,n){return e.convertTonimn(e.getTraversalObj(t,n),i,n)}},function(t,e,i){i.d(e,"a",(function(){return r}));var n=i(4);function r(t){try{for(var e=t,i=[],n=0,r=0,a=" > ".length,s=void 0;e&&n++<5&&!("html"===(s=o(e))||n>1&&r+i.length*a+s.length>=80);)i.push(s),r+=s.length,e=e.parentNode;return i.reverse().join(" > ")}catch(t){return"<unknown>"}}function o(t){var e,i,r,o,a,s=t,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(e=s.className)&&Object(n.h)(e))for(i=e.split(/\s+/),a=0;a<i.length;a++)l.push("."+i[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)r=c[a],(o=s.getAttribute(r))&&l.push("["+r+'="'+o+'"]');return l.join("")}},,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new f(t,e)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){t.exports=function(t){if(!t)return!1;for(var e=0,i=t.length;e<i;)if(t[e]<=127)e++;else{if(t[e]>=194&&t[e]<=223){if(t[e+1]>>6==2){e+=2;continue}return!1}if((224===t[e]&&t[e+1]>=160&&t[e+1]<=191||237===t[e]&&t[e+1]>=128&&t[e+1]<=159)&&t[e+2]>>6==2)e+=3;else if((t[e]>=225&&t[e]<=236||t[e]>=238&&t[e]<=239)&&t[e+1]>>6==2&&t[e+2]>>6==2)e+=3;else{if(!(240===t[e]&&t[e+1]>=144&&t[e+1]<=191||t[e]>=241&&t[e]<=243&&t[e+1]>>6==2||244===t[e]&&t[e+1]>=128&&t[e+1]<=143)||t[e+2]>>6!=2||t[e+3]>>6!=2)return!1;e+=4}}return!0}},function(t,e,i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}o=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(t,e){var i=t[0],n=t[1],r=t[2],o=t[3];n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[0]-680876936|0)<<7|i>>>25)+n|0)&n|~i&r)+e[1]-389564586|0)<<12|o>>>20)+i|0)&i|~o&n)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&i)+e[3]-1044525330|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[4]-176418897|0)<<7|i>>>25)+n|0)&n|~i&r)+e[5]+1200080426|0)<<12|o>>>20)+i|0)&i|~o&n)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&i)+e[7]-45705983|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[8]+1770035416|0)<<7|i>>>25)+n|0)&n|~i&r)+e[9]-1958414417|0)<<12|o>>>20)+i|0)&i|~o&n)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&i)+e[11]-1990404162|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&r|~n&o)+e[12]+1804603682|0)<<7|i>>>25)+n|0)&n|~i&r)+e[13]-40341101|0)<<12|o>>>20)+i|0)&i|~o&n)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&i)+e[15]+1236535329|0)<<22|n>>>10)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[1]-165796510|0)<<5|i>>>27)+n|0)&r|n&~r)+e[6]-1069501632|0)<<9|o>>>23)+i|0)&n|i&~n)+e[11]+643717713|0)<<14|r>>>18)+o|0)&i|o&~i)+e[0]-373897302|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[5]-701558691|0)<<5|i>>>27)+n|0)&r|n&~r)+e[10]+38016083|0)<<9|o>>>23)+i|0)&n|i&~n)+e[15]-660478335|0)<<14|r>>>18)+o|0)&i|o&~i)+e[4]-405537848|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[9]+568446438|0)<<5|i>>>27)+n|0)&r|n&~r)+e[14]-1019803690|0)<<9|o>>>23)+i|0)&n|i&~n)+e[3]-187363961|0)<<14|r>>>18)+o|0)&i|o&~i)+e[8]+1163531501|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n&o|r&~o)+e[13]-1444681467|0)<<5|i>>>27)+n|0)&r|n&~r)+e[2]-51403784|0)<<9|o>>>23)+i|0)&n|i&~n)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&i|o&~i)+e[12]-1926607734|0)<<20|n>>>12)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[5]-378558|0)<<4|i>>>28)+n|0)^n^r)+e[8]-2022574463|0)<<11|o>>>21)+i|0)^i^n)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^i)+e[14]-35309556|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[1]-1530992060|0)<<4|i>>>28)+n|0)^n^r)+e[4]+1272893353|0)<<11|o>>>21)+i|0)^i^n)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^i)+e[10]-1094730640|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[13]+681279174|0)<<4|i>>>28)+n|0)^n^r)+e[0]-358537222|0)<<11|o>>>21)+i|0)^i^n)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^i)+e[6]+76029189|0)<<23|n>>>9)+r|0,n=((n+=((r=((r+=((o=((o+=((i=((i+=(n^r^o)+e[9]-640364487|0)<<4|i>>>28)+n|0)^n^r)+e[12]-421815835|0)<<11|o>>>21)+i|0)^i^n)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^i)+e[2]-995338651|0)<<23|n>>>9)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[0]-198630844|0)<<6|i>>>26)+n|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~i))+e[5]-57434055|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[12]+1700485571|0)<<6|i>>>26)+n|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~i))+e[1]-2054922799|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[8]+1873313359|0)<<6|i>>>26)+n|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~i))+e[13]+1309151649|0)<<21|n>>>11)+r|0,n=((n+=((o=((o+=(n^((i=((i+=(r^(n|~o))+e[4]-145523070|0)<<6|i>>>26)+n|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+i|0)^((r=((r+=(i^(o|~n))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~i))+e[9]-343485551|0)<<21|n>>>11)+r|0,t[0]=i+t[0]|0,t[1]=n+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function n(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}function r(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return i}function o(t){var e,r,o,a,s,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)i(u,n(t.substring(e-64,e)));for(r=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(i(u,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,i(u,o),u}function a(t){var i,n="";for(i=0;i<4;i+=1)n+=e[t>>8*i+4&15]+e[t>>8*i&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=a(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t){var e,i=[],n=t.length;for(e=0;e<n-1;e+=2)i.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,i)}function u(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(i,n){var r,o,a,s,l=this.byteLength,c=e(i,l),u=l;return n!==t&&(u=e(n,l)),c>u?new ArrayBuffer(0):(r=u-c,o=new ArrayBuffer(r),a=new Uint8Array(o),s=new Uint8Array(this,c,r),a.set(s),o)}}(),u.prototype.append=function(t){return this.appendBinary(l(t)),this},u.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;e<=r;e+=64)i(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},u.prototype.end=function(t){var e,i,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),i=s(this._hash),t&&(i=c(i)),this.reset(),i},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},u.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(t,e){var n,r,o,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(i(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=r,t[15]=o,i(this._hash,t)},u.hash=function(t,e){return u.hashBinary(l(t),e)},u.hashBinary=function(t,e){var i=s(o(t));return e?c(i):i},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(t){var e,n,o,a,s=(n=this._buff.buffer,o=t,!0,(a=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),a.set(new Uint8Array(o),n.byteLength),a),l=s.length;for(this._length+=t.byteLength,e=64;e<=l;e+=64)i(this._hash,r(s.subarray(e-64,e)));return this._buff=e-64<l?new Uint8Array(s.buffer.slice(e-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(t){var e,i,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=n[e]<<(e%4<<3);return this._finish(o,r),i=s(this._hash),t&&(i=c(i)),this.reset(),i},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var t,e=u.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},u.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var i,n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r);for(i=0;i<n;i+=1)o[i]=t.charCodeAt(i);return o}(t.buff),u.prototype.setState.call(this,t)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(t,e){var n=s(function(t){var e,n,o,a,s,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)i(u,r(t.subarray(e-64,e)));for(n=(t=e-64<c?t.subarray(e-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(i(u,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,i(u,o),u}(new Uint8Array(t)));return e?c(n):n},u},"object"===a(e)?t.exports=o():void 0===(r="function"==typeof(n=o)?n.call(e,i,e,t):n)||(t.exports=r)},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}var c=i(50),u=function(){function t(){a(this,t),this._queue=[]}return l(t,[{key:"enqueue",value:function(t,e){var i={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)this._queue.push(i);else{var n=function(t,e,i){for(var n=0,r=t.length;r>0;){var o=r/2|0,a=n+o;i(t[a],e)<=0?(n=++a,r-=o+1):r=o}return n}(this._queue,i,(function(t,e){return e.priority-t.priority}));this._queue.splice(n,0,i)}}},{key:"dequeue",value:function(){return this._queue.shift().run}},{key:"size",get:function(){return this._queue.length}}]),t}(),h=function(t){function e(t){var i;if(a(this,e),i=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,r(e).call(this)),!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:u},t)).concurrency&&t.concurrency>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(t.concurrency,"` (").concat(n(t.concurrency),")"));if(!("number"==typeof t.intervalCap&&t.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(t.intervalCap,"` (").concat(n(t.intervalCap),")"));if(!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(t.interval,"` (").concat(n(t.interval),")"));return i._carryoverConcurrencyCount=t.carryoverConcurrencyCount,i._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,i._intervalCount=0,i._intervalCap=t.intervalCap,i._interval=t.interval,i._intervalId=null,i._intervalEnd=0,i._timeoutId=null,i.queue=new t.queueClass,i._queueClass=t.queueClass,i._pendingCount=0,i._concurrency=t.concurrency,i._isPaused=!1===t.autoStart,i._resolveEmpty=function(){},i._resolveIdle=function(){},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,t),l(e,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=function(){},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=function(){})}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}},{key:"_intervalPaused",value:function(){var t=this,e=Date.now();if(null===this._intervalId){var i=this._intervalEnd-e;if(!(i<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((function(){return t._onResumeInterval()}),i)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){var t=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),t&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var t=this;this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((function(){return t._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}},{key:"add",value:function(t,e){var i=this;return new Promise((function(n,r){i.queue.enqueue((function(){i._pendingCount++,i._intervalCount++;try{Promise.resolve(t()).then((function(t){n(t),i._next()}),(function(t){r(t),i._next()}))}catch(t){r(t),i._next()}}),e),i._tryToStartAnother()}))}},{key:"addAll",value:function(t,e){var i=this;return Promise.all(t.map((function(t){return i.add(t,e)})))}},{key:"start",value:function(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this.queue=new this._queueClass}},{key:"onEmpty",value:function(){var t=this;return 0===this.queue.size?Promise.resolve():new Promise((function(e){var i=t._resolveEmpty;t._resolveEmpty=function(){i(),e()}}))}},{key:"onIdle",value:function(){var t=this;return 0===this._pendingCount&&0===this.queue.size?Promise.resolve():new Promise((function(e){var i=t._resolveIdle;t._resolveIdle=function(){i(),e()}}))}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"size",get:function(){return this.queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}}]),e}(c);t.exports=h,t.exports.default=h},function(t,e,i){(function(t,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Map]",l="[object Set]",c=/\w*$/,u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[s]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[l]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[o]=d["[object WeakMap]"]=!1;var p="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,f="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,m=p||f||Function("return this")(),g="object"==n(e)&&e&&!e.nodeType&&e,v=g&&"object"==n(i)&&i&&!i.nodeType&&i,y=v&&v.exports===g;function _(t,e){return t.set(e[0],e[1]),t}function b(t,e){return t.add(e),t}function w(t,e,i,n){var r=-1,o=t?t.length:0;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function x(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function M(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function S(t,e){return function(i){return t(e(i))}}function k(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}var T,C=Array.prototype,E=Function.prototype,A=Object.prototype,L=m["__core-js_shared__"],D=(T=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",P=E.toString,O=A.hasOwnProperty,I=A.toString,N=RegExp("^"+P.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y?m.Buffer:void 0,F=m.Symbol,j=m.Uint8Array,U=S(Object.getPrototypeOf,Object),Y=Object.create,V=A.propertyIsEnumerable,H=C.splice,B=Object.getOwnPropertySymbols,z=R?R.isBuffer:void 0,W=S(Object.keys,Object),q=mt(m,"DataView"),G=mt(m,"Map"),$=mt(m,"Promise"),X=mt(m,"Set"),K=mt(m,"WeakMap"),J=mt(Object,"create"),Q=bt(q),Z=bt(G),tt=bt($),et=bt(X),it=bt(K),nt=F?F.prototype:void 0,rt=nt?nt.valueOf:void 0;function ot(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function st(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function lt(t){this.__data__=new at(t)}function ct(t,e,i){var n=t[e];O.call(t,e)&&wt(n,i)&&(void 0!==i||e in t)||(t[e]=i)}function ut(t,e){for(var i=t.length;i--;)if(wt(t[i][0],e))return i;return-1}function ht(t,e,i,n,u,h,p){var f;if(n&&(f=h?n(t,u,h,p):n(t)),void 0!==f)return f;if(!Tt(t))return t;var m=xt(t);if(m){if(f=function(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&O.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!e)return function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}(t,f)}else{var g=vt(t),v=g==o||g==a;if(St(t))return function(t,e){if(e)return t.slice();var i=new t.constructor(t.length);return t.copy(i),i}(t,e);if("[object Object]"==g||g==r||v&&!h){if(x(t))return h?t:{};if(f=function(t){return"function"!=typeof t.constructor||_t(t)?{}:Tt(e=U(t))?Y(e):{};var e}(v?{}:t),!e)return function(t,e){return pt(t,gt(t),e)}(t,function(t,e){return t&&pt(e,Ct(e),t)}(f,t))}else{if(!d[g])return h?t:{};f=function(t,e,i,n){var r,o=t.constructor;switch(e){case"[object ArrayBuffer]":return dt(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var i=e?dt(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var i=e?dt(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}(t,n);case s:return function(t,e,i){return w(e?i(M(t),!0):M(t),_,new t.constructor)}(t,n,i);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,c.exec(t));return e.lastIndex=t.lastIndex,e}(t);case l:return function(t,e,i){return w(e?i(k(t),!0):k(t),b,new t.constructor)}(t,n,i);case"[object Symbol]":return r=t,rt?Object(rt.call(r)):{}}}(t,g,ht,e)}}p||(p=new lt);var y=p.get(t);if(y)return y;if(p.set(t,f),!m)var S=i?function(t){return function(t,e,i){var n=e(t);return xt(t)?n:function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}(n,i(t))}(t,Ct,gt)}(t):Ct(t);return function(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i););}(S||t,(function(r,o){S&&(r=t[o=r]),ct(f,o,ht(r,e,i,n,o,t,p))})),f}function dt(t){var e=new t.constructor(t.byteLength);return new j(e).set(new j(t)),e}function pt(t,e,i,n){i||(i={});for(var r=-1,o=e.length;++r<o;){var a=e[r],s=n?n(i[a],t[a],a,i,t):void 0;ct(i,a,void 0===s?t[a]:s)}return i}function ft(t,e){var i,r,o=t.__data__;return("string"==(r=n(i=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function mt(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Tt(t)||(e=t,D&&D in e))&&(kt(t)||x(t)?N:u).test(bt(t));var e}(i)?i:void 0}ot.prototype.clear=function(){this.__data__=J?J(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(J){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return O.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:O.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(t){var e=this.__data__,i=ut(e,t);return!(i<0||(i==e.length-1?e.pop():H.call(e,i,1),0))},at.prototype.get=function(t){var e=this.__data__,i=ut(e,t);return i<0?void 0:e[i][1]},at.prototype.has=function(t){return ut(this.__data__,t)>-1},at.prototype.set=function(t,e){var i=this.__data__,n=ut(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},st.prototype.clear=function(){this.__data__={hash:new ot,map:new(G||at),string:new ot}},st.prototype.delete=function(t){return ft(this,t).delete(t)},st.prototype.get=function(t){return ft(this,t).get(t)},st.prototype.has=function(t){return ft(this,t).has(t)},st.prototype.set=function(t,e){return ft(this,t).set(t,e),this},lt.prototype.clear=function(){this.__data__=new at},lt.prototype.delete=function(t){return this.__data__.delete(t)},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof at){var n=i.__data__;if(!G||n.length<199)return n.push([t,e]),this;i=this.__data__=new st(n)}return i.set(t,e),this};var gt=B?S(B,Object):function(){return[]},vt=function(t){return I.call(t)};function yt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}function _t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||A)}function bt(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wt(t,e){return t===e||t!=t&&e!=e}(q&&"[object DataView]"!=vt(new q(new ArrayBuffer(1)))||G&&vt(new G)!=s||$&&"[object Promise]"!=vt($.resolve())||X&&vt(new X)!=l||K&&"[object WeakMap]"!=vt(new K))&&(vt=function(t){var e=I.call(t),i="[object Object]"==e?t.constructor:void 0,n=i?bt(i):void 0;if(n)switch(n){case Q:return"[object DataView]";case Z:return s;case tt:return"[object Promise]";case et:return l;case it:return"[object WeakMap]"}return e});var xt=Array.isArray;function Mt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!kt(t)}var St=z||function(){return!1};function kt(t){var e=Tt(t)?I.call(t):"";return e==o||e==a}function Tt(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function Ct(t){return Mt(t)?function(t,e){var i=xt(t)||function(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&Mt(t)}(t)&&O.call(t,"callee")&&(!V.call(t,"callee")||I.call(t)==r)}(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],o=i.length,a=!!o;for(var s in t)!e&&!O.call(t,s)||a&&("length"==s||yt(s,o))||i.push(s);return i}(t):function(t){if(!_t(t))return W(t);var e=[];for(var i in Object(t))O.call(t,i)&&"constructor"!=i&&e.push(i);return e}(t)}i.exports=function(t){return ht(t,!0,!0)}}).call(this,i(14),i(24)(t))},function(t,e,i){function n(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}i.d(e,"a",(function(){return n}))},function(t,e,i){i.d(e,"a",(function(){return n}));var n=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},,function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(19),o=i(40),a=i(12),s=i(20).scan,l=a.ValidatorResult,c=a.SchemaError,u=a.SchemaContext,h=function t(){this.customFormats=Object.create(t.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(p),this.attributes=Object.create(o.validators)};function d(t){var e="string"==typeof t?t:t.$ref;return"string"==typeof e&&e}h.prototype.customFormats={},h.prototype.schemas=null,h.prototype.types=null,h.prototype.attributes=null,h.prototype.unresolvedRefs=null,h.prototype.addSchema=function(t,e){var i=this;if(!t)return null;var n=s(e||"/",t),r=e||t.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(t){return void 0===i.schemas[t]})),this.schemas[r]},h.prototype.addSubSchemaArray=function(t,e){if(e instanceof Array)for(var i=0;i<e.length;i++)this.addSubSchema(t,e[i])},h.prototype.addSubSchemaObject=function(t,e){if(e&&"object"==n(e))for(var i in e)this.addSubSchema(t,e[i])},h.prototype.setSchemas=function(t){this.schemas=t},h.prototype.getSchema=function(t){return this.schemas[t]},h.prototype.validate=function(t,e,i,n){i||(i={});var o=i.propertyName||"instance",a=r.resolve(i.base||"/",e.id||"");if(!n){(n=new u(e,i,o,a,Object.create(this.schemas))).schemas[a]||(n.schemas[a]=e);var l=s(a,e);for(var h in l.id){var d=l.id[h];n.schemas[h]=d}}if(e){var p=this.validateSchema(t,e,i,n);if(!p)throw new Error("Result undefined");return p}throw new c("no schema specified",e)},h.prototype.validateSchema=function(t,e,i,n){var r,s=new l(t,e,i,n);if("boolean"==typeof e)!0===e?e={}:!1===e&&(e={type:[]});else if(!e)throw new Error("schema is undefined");if(e.extends)if(e.extends instanceof Array){var h={schema:e,ctx:n};e.extends.forEach(this.schemaTraverser.bind(this,h)),e=h.schema,h.schema=null,h.ctx=null,h=null}else e=a.deepMerge(e,this.superResolve(e.extends,n));if(r=d(e)){var p=this.resolve(e,r,n),f=new u(p.subschema,i,n.propertyPath,p.switchSchema,n.schemas);return this.validateSchema(t,p.subschema,i,f)}var m=i&&i.skipAttributes||[];for(var g in e)if(!o.ignoreProperties[g]&&m.indexOf(g)<0){var v=null,y=this.attributes[g];if(y)v=y.call(this,t,e,i,n);else if(!1===i.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,e);v&&s.importErrors(v)}if("function"==typeof i.rewrite){var _=i.rewrite.call(this,t,e,i,n);s.instance=_}return s},h.prototype.schemaTraverser=function(t,e){t.schema=a.deepMerge(t.schema,this.superResolve(e,t.ctx))},h.prototype.superResolve=function(t,e){var i;return(i=d(t))?this.resolve(t,i,e).subschema:t},h.prototype.resolve=function(t,e,i){if(e=i.resolve(e),i.schemas[e])return{subschema:i.schemas[e],switchSchema:e};var n=r.parse(e),o=n&&n.hash,s=o&&o.length&&e.substr(0,e.length-o.length);if(!s||!i.schemas[s])throw new c("no such schema <"+e+">",t);var l=a.objectGetPath(i.schemas[s],o.substr(1));if(void 0===l)throw new c("no such schema "+o+" located in <"+s+">",t);return{subschema:l,switchSchema:e}},h.prototype.testType=function(t,e,i,r,o){if("function"==typeof this.types[o])return this.types[o].call(this,t);if(o&&"object"==n(o)){var a=this.validateSchema(t,o,i,r);return void 0===a||!(a&&a.errors.length)}return!0};var p=h.prototype.types={};p.string=function(t){return"string"==typeof t},p.number=function(t){return"number"==typeof t&&isFinite(t)},p.integer=function(t){return"number"==typeof t&&t%1==0},p.boolean=function(t){return"boolean"==typeof t},p.array=function(t){return Array.isArray(t)},p.null=function(t){return null===t},p.date=function(t){return t instanceof Date},p.any=function(t){return!0},p.object=function(t){return t&&"object"===n(t)&&!(t instanceof Array)&&!(t instanceof Date)},t.exports=h},function(t,e,i){(function(t,n){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}
/*! https://mths.be/punycode v1.3.2 by @mathias */!function(a){var s="object"==o(e)&&e&&!e.nodeType&&e,l="object"==o(t)&&t&&!t.nodeType&&t,c="object"==(void 0===n?"undefined":o(n))&&n;c.global!==c&&c.window!==c&&c.self!==c||(a=c);var u,h,d=2147483647,p=/^xn--/,f=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,y=String.fromCharCode;function _(t){throw RangeError(g[t])}function b(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function w(t,e){var i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),n+b((t=t.replace(m,".")).split("."),e).join(".")}function x(t){for(var e,i,n=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function M(t){return b(t,(function(t){var e="";return t>65535&&(e+=y((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+y(t)})).join("")}function S(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,i){var n=0;for(t=i?v(t/700):t>>1,t+=v(t/e);t>455;n+=36)t=v(t/35);return v(n+36*t/(t+38))}function T(t){var e,i,n,r,o,a,s,l,c,u,h,p=[],f=t.length,m=0,g=128,y=72;for((i=t.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&_("not-basic"),p.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<f;){for(o=m,a=1,s=36;r>=f&&_("invalid-input"),((l=(h=t.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>v((d-m)/a))&&_("overflow"),m+=l*a,!(l<(c=s<=y?1:s>=y+26?26:s-y));s+=36)a>v(d/(u=36-c))&&_("overflow"),a*=u;y=k(m-o,e=p.length+1,0==o),v(m/e)>d-g&&_("overflow"),g+=v(m/e),m%=e,p.splice(m++,0,g)}return M(p)}function C(t){var e,i,n,r,o,a,s,l,c,u,h,p,f,m,g,b=[];for(p=(t=x(t)).length,e=128,i=0,o=72,a=0;a<p;++a)(h=t[a])<128&&b.push(y(h));for(n=r=b.length,r&&b.push("-");n<p;){for(s=d,a=0;a<p;++a)(h=t[a])>=e&&h<s&&(s=h);for(s-e>v((d-i)/(f=n+1))&&_("overflow"),i+=(s-e)*f,e=s,a=0;a<p;++a)if((h=t[a])<e&&++i>d&&_("overflow"),h==e){for(l=i,c=36;!(l<(u=c<=o?1:c>=o+26?26:c-o));c+=36)g=l-u,m=36-u,b.push(y(S(u+g%m,0))),l=v(g/m);b.push(y(S(l,0))),o=k(i,f,n==r),i=0,++n}++i,++e}return b.join("")}if(u={version:"1.3.2",ucs2:{decode:x,encode:M},decode:T,encode:C,toASCII:function(t){return w(t,(function(t){return f.test(t)?"xn--"+C(t):t}))},toUnicode:function(t){return w(t,(function(t){return p.test(t)?T(t.slice(4).toLowerCase()):t}))}},"object"==o(i(25))&&i(25))void 0===(r=function(){return u}.call(e,i,e,t))||(t.exports=r);else if(s&&l)if(t.exports==s)l.exports=u;else for(h in u)u.hasOwnProperty(h)&&(s[h]=u[h]);else a.punycode=u}(this)}).call(this,i(24)(t),i(14))},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===n(t)&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){e.decode=e.parse=i(38),e.encode=e.stringify=i(39)},function(t,e,i){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,o){e=e||"&",i=i||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var h,d,p,f,m=t[u].replace(s,"%20"),g=m.indexOf(i);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),n(a,p)?r(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=function(t){switch(n(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,l){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"===n(t)?a(s(t),(function(n){var s=encodeURIComponent(r(n))+i;return o(t[n])?a(t[n],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[n]))})).join(e):l?encodeURIComponent(r(l))+i+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){var n=i(12),r=n.ValidatorResult,o=n.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function l(t,e,i,n,r){var o=e.throwError;e.throwError=!1;var a=this.validateSchema(t,r,e,i);return e.throwError=o,!a.valid&&n instanceof Function&&n(a),a.valid}function c(t,e,i,n,r,o){if(this.types.object(t)&&(!e.properties||void 0===e.properties[r]))if(!1===e.additionalProperties)o.addError({name:"additionalProperties",argument:r,message:"additionalProperty "+JSON.stringify(r)+" exists in instance when not allowed"});else{var a=e.additionalProperties||{};"function"==typeof i.preValidateProperty&&i.preValidateProperty(t,r,a,i,n);var s=this.validateSchema(t[r],a,i,n.makeChild(a,r));s.instance!==o.instance[r]&&(o.instance[r]=s.instance),o.importErrors(s)}}s.type=function(t,e,i,n){if(void 0===t)return null;var o=new r(t,e,i,n),a=Array.isArray(e.type)?e.type:[e.type];if(!a.some(this.testType.bind(this,t,e,i,n))){var s=a.map((function(t){return t.id&&"<"+t.id+">"||t+""}));o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o},s.anyOf=function(t,e,i,n){if(void 0===t)return null;var a=new r(t,e,i,n),s=new r(t,e,i,n);if(!Array.isArray(e.anyOf))throw new o("anyOf must be an array");if(!e.anyOf.some(l.bind(this,t,i,n,(function(t){s.importErrors(t)})))){var c=e.anyOf.map((function(t,e){return t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+e+"]"}));i.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return a},s.allOf=function(t,e,i,n){if(void 0===t)return null;if(!Array.isArray(e.allOf))throw new o("allOf must be an array");var a=new r(t,e,i,n),s=this;return e.allOf.forEach((function(e,r){var o=s.validateSchema(t,e,i,n);if(!o.valid){var l=e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+r+"]";a.addError({name:"allOf",argument:{id:l,length:o.errors.length,valid:o},message:"does not match allOf schema "+l+" with "+o.errors.length+" error[s]:"}),a.importErrors(o)}})),a},s.oneOf=function(t,e,i,n){if(void 0===t)return null;if(!Array.isArray(e.oneOf))throw new o("oneOf must be an array");var a=new r(t,e,i,n),s=new r(t,e,i,n),c=e.oneOf.filter(l.bind(this,t,i,n,(function(t){s.importErrors(t)}))).length,u=e.oneOf.map((function(t,e){return t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+e+"]"}));return 1!==c&&(i.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),a},s.properties=function(t,e,i,n){if(this.types.object(t)){var o=new r(t,e,i,n),a=e.properties||{};for(var s in a){"function"==typeof i.preValidateProperty&&i.preValidateProperty(t,s,a[s],i,n);var l=Object.hasOwnProperty.call(t,s)?t[s]:void 0,c=this.validateSchema(l,a[s],i,n.makeChild(a[s],s));c.instance!==o.instance[s]&&(o.instance[s]=c.instance),o.importErrors(c)}return o}},s.patternProperties=function(t,e,i,n){if(this.types.object(t)){var o=new r(t,e,i,n),a=e.patternProperties||{};for(var s in t){var l=!0;for(var u in a)if(new RegExp(u).test(s)){l=!1,"function"==typeof i.preValidateProperty&&i.preValidateProperty(t,s,a[u],i,n);var h=this.validateSchema(t[s],a[u],i,n.makeChild(a[u],s));h.instance!==o.instance[s]&&(o.instance[s]=h.instance),o.importErrors(h)}l&&c.call(this,t,e,i,n,s,o)}return o}},s.additionalProperties=function(t,e,i,n){if(this.types.object(t)){if(e.patternProperties)return null;var o=new r(t,e,i,n);for(var a in t)c.call(this,t,e,i,n,a,o);return o}},s.minProperties=function(t,e,i,n){if(this.types.object(t)){var o=new r(t,e,i,n);return Object.keys(t).length>=e.minProperties||o.addError({name:"minProperties",argument:e.minProperties,message:"does not meet minimum property length of "+e.minProperties}),o}},s.maxProperties=function(t,e,i,n){if(this.types.object(t)){var o=new r(t,e,i,n);return Object.keys(t).length<=e.maxProperties||o.addError({name:"maxProperties",argument:e.maxProperties,message:"does not meet maximum property length of "+e.maxProperties}),o}},s.items=function(t,e,i,n){var o=this;if(this.types.array(t)&&e.items){var a=new r(t,e,i,n);return t.every((function(t,r){var s=Array.isArray(e.items)?e.items[r]||e.additionalItems:e.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var l=o.validateSchema(t,s,i,n.makeChild(s,r));return l.instance!==a.instance[r]&&(a.instance[r]=l.instance),a.importErrors(l),!0})),a}},s.minimum=function(t,e,i,n){if(this.types.number(t)){var o=new r(t,e,i,n);return(e.exclusiveMinimum&&!0===e.exclusiveMinimum?t>e.minimum:t>=e.minimum)||o.addError({name:"minimum",argument:e.minimum,message:"must have a minimum value of "+e.minimum}),o}},s.maximum=function(t,e,i,n){if(this.types.number(t)){var o=new r(t,e,i,n);return(e.exclusiveMaximum&&!0===e.exclusiveMaximum?t<e.maximum:t<=e.maximum)||o.addError({name:"maximum",argument:e.maximum,message:"must have a maximum value of "+e.maximum}),o}};var u=function(t,e,i,a,s,l){if(this.types.number(t)){var c=e[s];if(0==c)throw new o(s+" cannot be zero");var u=new r(t,e,i,a),h=n.getDecimalPlaces(t),d=n.getDecimalPlaces(c),p=Math.max(h,d),f=Math.pow(10,p);return Math.round(t*f)%Math.round(c*f)!=0&&u.addError({name:s,argument:c,message:l+JSON.stringify(c)}),u}};function h(t,e,i){var r,o=i.length;for(r=e+1;r<o;r++)if(n.deepCompareStrict(t,i[r]))return!1;return!0}s.multipleOf=function(t,e,i,n){return u.call(this,t,e,i,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(t,e,i,n){return u.call(this,t,e,i,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(t,e,i,n){var o=new r(t,e,i,n);return void 0===t&&!0===e.required?o.addError({name:"required",message:"is required"}):this.types.object(t)&&Array.isArray(e.required)&&e.required.forEach((function(e){void 0===t[e]&&o.addError({name:"required",argument:e,message:"requires property "+JSON.stringify(e)})})),o},s.pattern=function(t,e,i,n){if(this.types.string(t)){var o=new r(t,e,i,n);return t.match(e.pattern)||o.addError({name:"pattern",argument:e.pattern,message:"does not match pattern "+JSON.stringify(e.pattern.toString())}),o}},s.format=function(t,e,i,o){if(void 0!==t){var a=new r(t,e,i,o);return a.disableFormat||n.isFormat(t,e.format,this)||a.addError({name:"format",argument:e.format,message:"does not conform to the "+JSON.stringify(e.format)+" format"}),a}},s.minLength=function(t,e,i,n){if(this.types.string(t)){var o=new r(t,e,i,n),a=t.match(/[\uDC00-\uDFFF]/g);return t.length-(a?a.length:0)>=e.minLength||o.addError({name:"minLength",argument:e.minLength,message:"does not meet minimum length of "+e.minLength}),o}},s.maxLength=function(t,e,i,n){if(this.types.string(t)){var o=new r(t,e,i,n),a=t.match(/[\uDC00-\uDFFF]/g);return t.length-(a?a.length:0)<=e.maxLength||o.addError({name:"maxLength",argument:e.maxLength,message:"does not meet maximum length of "+e.maxLength}),o}},s.minItems=function(t,e,i,n){if(this.types.array(t)){var o=new r(t,e,i,n);return t.length>=e.minItems||o.addError({name:"minItems",argument:e.minItems,message:"does not meet minimum length of "+e.minItems}),o}},s.maxItems=function(t,e,i,n){if(this.types.array(t)){var o=new r(t,e,i,n);return t.length<=e.maxItems||o.addError({name:"maxItems",argument:e.maxItems,message:"does not meet maximum length of "+e.maxItems}),o}},s.uniqueItems=function(t,e,i,o){if(this.types.array(t)){var a=new r(t,e,i,o);return t.every((function(t,e,i){for(var r=e+1;r<i.length;r++)if(n.deepCompareStrict(t,i[r]))return!1;return!0}))||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}},s.uniqueItems=function(t,e,i,n){if(this.types.array(t)){var o=new r(t,e,i,n);return t.every(h)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.dependencies=function(t,e,i,n){if(this.types.object(t)){var o=new r(t,e,i,n);for(var a in e.dependencies)if(void 0!==t[a]){var s=e.dependencies[a],l=n.makeChild(s,a);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(e){void 0===t[e]&&o.addError({name:"dependencies",argument:l.propertyPath,message:"property "+e+" not found, required by "+l.propertyPath})}));else{var c=this.validateSchema(t,s,i,l);o.instance!==c.instance&&(o.instance=c.instance),c&&c.errors.length&&(o.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),o.importErrors(c))}}return o}},s.enum=function(t,e,i,a){if(void 0===t)return null;if(!Array.isArray(e.enum))throw new o("enum expects an array",e);var s=new r(t,e,i,a);return e.enum.some(n.deepCompareStrict.bind(null,t))||s.addError({name:"enum",argument:e.enum,message:"is not one of enum values: "+e.enum.map(String).join(",")}),s},s.const=function(t,e,i,o){if(void 0===t)return null;var a=new r(t,e,i,o);return n.deepCompareStrict(e.const,t)||a.addError({name:"const",argument:e.const,message:"does not exactly match expected constant: "+e.const}),a},s.not=s.disallow=function(t,e,i,n){var o=this;if(void 0===t)return null;var a=new r(t,e,i,n),s=e.not||e.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(r){if(o.testType(t,e,i,n,r)){var s=r&&r.id&&"<"+r.id+">"||r;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),a):null},t.exports=a},function(t,e,i){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.exports=function(t){function e(t){for(var e=0,i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var i;function n(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];if(n.enabled){var a=n,s=Number(new Date),l=s-(i||s);a.diff=l,a.prev=i,a.curr=s,i=s,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,i){if("%%"===t)return t;c++;var n=r.formatters[i];if("function"==typeof n){var o=e[c];t=n.call(a,o),e.splice(c,1),c--}return t})),r.formatArgs.call(a,e);var u=a.log||r.log;u.apply(a,e)}}return n.namespace=t,n.enabled=r.enabled(t),n.useColors=r.useColors(),n.color=e(t),n.destroy=o,n.extend=a,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function a(t,e){var i=r(this.namespace+(void 0===e?":":e)+t);return i.log=this.log,i}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){var t=[].concat(n(r.names.map(s)),n(r.skips.map(s).map((function(t){return"-"+t})))).join(",");return r.enable(""),t},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),n=i.length;for(e=0;e<n;e++)i[e]&&("-"===(t=i[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,i;for(e=0,i=r.skips.length;e<i;e++)if(r.skips[e].test(t))return!1;for(e=0,i=r.names.length;e<i;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=i(42),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var n=1e3,r=6e4,o=60*r,a=24*o;function s(t,e,i,n){var r=e>=1.5*i;return Math.round(t/i)+" "+n+(r?"s":"")}t.exports=function(t,e){e=e||{};var l=i(t);if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(t);if("number"===l&&isFinite(t))return e.long?function(t){var e=Math.abs(t);return e>=a?s(t,e,a,"day"):e>=o?s(t,e,o,"hour"):e>=r?s(t,e,r,"minute"):e>=n?s(t,e,n,"second"):t+" ms"}(t):function(t){var e=Math.abs(t);return e>=a?Math.round(t/a)+"d":e>=o?Math.round(t/o)+"h":e>=r?Math.round(t/r)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,i){i.r(e),i.d(e,"XhrAdapter",(function(){return h}));var n=i(0),r=i(3),o=i.n(r),a=i(5),s=i(6),l=i(2),c=i(11),u=o()("fs:request:xhr"),h=function(){function t(){}return t.prototype.request=function(t){var e=this;void 0===t.filestackHeaders&&(t.filestackHeaders=!0),(t=Object(c.d)(t)).headers=t.headers||{};var i=t.data,r=t.headers;a.e(i)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(t.blobResponse&&(o.responseType="blob"),t.auth){if(!t.auth.username||0===t.auth.username.length||!t.auth.password||0===t.auth.password.length)return Promise.reject(new l.a("Basic auth: username and password are required "+t.auth,t));r.Authorization="Basic "+btoa(unescape(encodeURIComponent(t.auth.username+":"+t.auth.password))),u("Set request authorization to %s",t.auth.username+t.auth.password)}var h=t.url.trim();return/^http(s)?:\/\//.test(h)||(h="https://"+h),h=Object(c.a)(h,t.params),u("Starting request to %s with options %O",h,t),o.open(t.method.toUpperCase(),h,!0),o.timeout=t.timeout,new Promise((function(a,d){var p;if(t.cancelToken&&(p=function(e){return o&&(o.abort(),o=null),u("Request canceled by user %s, config: %O",e,t),d(new l.a("Request aborted. Reason: "+e,t,null,l.b.ABORTED))},t.cancelToken.once("cancel",p)),o.onreadystatechange=function(){return Object(n.b)(e,void 0,void 0,(function(){var e,i,r;return Object(n.d)(this,(function(n){switch(n.label){case 0:return o&&4===o.readyState&&(0!==o.status||o.responseURL)?(e=Object(c.b)(o.getAllResponseHeaders()),i=o.response,r={data:i,status:o.status,statusText:o.statusText,headers:e,config:t},o=null,[4,Object(c.c)(r)]):[2];case 1:return 500<=(r=n.sent()).status&&r.status<=599?(u("Server error(5xx) - %O",r),[2,d(new l.a("Server error "+h,t,r,l.b.SERVER))]):400<=r.status&&r.status<=499?(u("Request error(4xx) - %O",r),[2,d(new l.a("Request error "+h,t,r,l.b.REQUEST))]):(t.cancelToken&&(t.cancelToken.removeListener("cancel",p),p=null),[2,a(r)])}}))}))},o.onabort=function(){o&&(o=null,d(new l.a("Request aborted",t,null,l.b.ABORTED)))},o.onerror=function(e){o=null,u("Request error! %O",e),d(new l.a("Network Error",t,null,l.b.NETWORK))},o.ontimeout=function(){o=null,u("Request timed out. %O",t),d(new l.a("Request timeout",t,null,l.b.TIMEOUT))},"setRequestHeader"in o&&r&&Object.keys(r).length)for(var f in r)void 0!==r[f]&&(u("Set request header %s to %s",f,r[f]),o.setRequestHeader(f,r[f]));"function"==typeof t.onProgress&&[s.a.POST,s.a.PUT].indexOf(t.method)>-1&&(o.upload?(u("Bind to upload progress event"),o.upload.addEventListener("progress",t.onProgress)):(u("Bind to progress event"),o.addEventListener("progress",t.onProgress))),void 0===i&&(i=null),o.send(i)}))},t}()},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(7);e.convertToJson=function t(e,i){var o={};if(!(e.child&&!r.isEmptyObject(e.child)||e.attrsMap&&!r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==i.cdataPositionChar)&&("strict"===i.arrayMode?o[i.textNodeName]=[e.val]:o[i.textNodeName]=e.val),r.merge(o,e.attrsMap,i.arrayMode);for(var a=Object.keys(e.child),s=0;s<a.length;s++){var l=a[s];if(e.child[l]&&e.child[l].length>1)for(var c in o[l]=[],e.child[l])o[l].push(t(e.child[l][c],i));else if(!0===i.arrayMode){var u=t(e.child[l][0],i);"object"===n(u)?o[l]=[u]:o[l]=u}else"strict"===i.arrayMode?o[l]=[t(e.child[l][0],i)]:o[l]=t(e.child[l][0],i)}return o}},function(t,e,i){t.exports=function(t,e,i){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=i,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},function(t,e,i){var n=i(7),r={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function a(t,e){for(var i=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var n=t.substr(i,e-i);if(e>5&&"xml"===n)return d("InvalidXml","XML declaration allowed only at the start of the document.",f(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function s(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){var i=1;for(e+=8;e<t.length;e++)if("<"===t[e])i++;else if(">"===t[e]&&0==--i)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function l(t,e){for(var i="",n="",r=!1;e<t.length;e++){if('"'===t[e]||"'"===t[e])if(""===n)n=t[e];else{if(n!==t[e])continue;n=""}else if(">"===t[e]&&""===n){r=!0;break}i+=t[e]}return""===n&&{value:i,index:e,tagClosed:r}}e.validate=function(t,e){e=n.buildOptions(e,r,o);var i,c=[],p=!1,m=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(var g=0;g<t.length;g++){if("<"!==t[g]){if(" "===t[g]||"\t"===t[g]||"\n"===t[g]||"\r"===t[g])continue;return d("InvalidChar","char '".concat(t[g],"' is not expected."),f(t,g))}if("?"===t[++g]){if((g=a(t,++g)).err)return g}else{if("!"===t[g]){g=s(t,g);continue}var v=!1;"/"===t[g]&&(v=!0,g++);for(var y="";g<t.length&&">"!==t[g]&&" "!==t[g]&&"\t"!==t[g]&&"\n"!==t[g]&&"\r"!==t[g];g++)y+=t[g];if("/"===(y=y.trim())[y.length-1]&&(y=y.substring(0,y.length-1),g--),i=y,!n.isName(i))return d("InvalidTag",0===y.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '".concat(y,"' is an invalid name."),f(t,g));var _=l(t,g);if(!1===_)return d("InvalidAttr","Attributes for '".concat(y,"' have open quote."),f(t,g));var b=_.value;if(g=_.index,"/"===b[b.length-1]){var w=u(b=b.substring(0,b.length-1),e);if(!0!==w)return d(w.err.code,w.err.msg,f(t,g-b.length+w.err.line));p=!0}else if(v){if(!_.tagClosed)return d("InvalidTag","Closing tag '".concat(y,"' doesn't have proper closing."),f(t,g));if(b.trim().length>0)return d("InvalidTag","Closing tag '".concat(y,"' can't have attributes or invalid starting."),f(t,g));var x=c.pop();if(y!==x)return d("InvalidTag","Closing tag '".concat(x,"' is expected inplace of '").concat(y,"'."),f(t,g));0==c.length&&(m=!0)}else{var M=u(b,e);if(!0!==M)return d(M.err.code,M.err.msg,f(t,g-b.length+M.err.line));if(!0===m)return d("InvalidXml","Multiple possible root nodes found.",f(t,g));c.push(y),p=!0}for(g++;g<t.length;g++){if("<"===t[g]){if("!"===t[g+1]){g=s(t,++g);continue}break}if("&"===t[g]){var S=h(t,g);if(-1==S)return d("InvalidChar","char '&' is not expected.",f(t,g));g=S}}"<"===t[g]&&g--}}return p?!(c.length>0)||d("InvalidXml","Invalid '".concat(JSON.stringify(c,null,4).replace(/\r?\n/g,""),"' found."),1):d("InvalidXml","Start tag expected.",1)};var c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(t,e){for(var i=n.getAllMatches(t,c),r={},o=0;o<i.length;o++){if(0===i[o][1].length)return d("InvalidAttr","Attribute '".concat(i[o][2],"' has no space in starting."),m(t,i[o][0]));if(void 0===i[o][3]&&!e.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '".concat(i[o][2],"' is not allowed."),m(t,i[o][0]));var a=i[o][2];if(!p(a))return d("InvalidAttr","Attribute '".concat(a,"' is an invalid name."),m(t,i[o][0]));if(r.hasOwnProperty(a))return d("InvalidAttr","Attribute '".concat(a,"' is repeated."),m(t,i[o][0]));r[a]=1}return!0}function h(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){var i=/\d/;for("x"===t[e]&&(e++,i=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(i))break}return-1}(t,++e);for(var i=0;e<t.length;e++,i++)if(!(t[e].match(/\w/)&&i<20)){if(";"===t[e])break;return-1}return e}function d(t,e,i){return{err:{code:t,msg:e,line:i}}}function p(t){return n.isName(t)}function f(t,e){return t.substring(0,e).split(/\r?\n/).length}function m(t,e){return t.indexOf(e)+e.length}},function(t,e,i){var n=function(t){return String.fromCharCode(t)},r={nilChar:n(176),missingChar:n(201),nilPremitive:n(175),missingPremitive:n(200),emptyChar:n(178),emptyValue:n(177),boundryChar:n(179),objStart:n(198),arrStart:n(204),arrayEnd:n(185)},o=[r.nilChar,r.nilPremitive,r.missingChar,r.missingPremitive,r.boundryChar,r.emptyChar,r.emptyValue,r.arrayEnd,r.objStart,r.arrStart],a=function(t){switch(t){case void 0:return r.missingPremitive;case null:return r.nilPremitive;case"":return r.emptyValue;default:return t}},s=function(t,e){return l(e[0])||l(t[t.length-1])||(t+=r.boundryChar),t+e},l=function(t){return-1!==o.indexOf(t)},c=i(15),u=i(7).buildOptions;e.convert2nimn=function(t,e,i){return function t(e,i,n){if("string"==typeof i)return e&&e[0]&&void 0!==e[0].val?a(e[0].val,i):a(e,i);var o,l=void 0===(o=e)?r.missingChar:null===o?r.nilChar:!(o.child&&0===Object.keys(o.child).length&&(!o.attrsMap||0===Object.keys(o.attrsMap).length))||r.emptyChar;if(!0===l){var c="";if(Array.isArray(i)){c+=r.arrStart;var u=i[0],h=e.length;if("string"==typeof u)for(var d=0;d<h;d++){var p=a(e[d].val,u);c=s(c,p)}else for(var f=0;f<h;f++){var m=t(e[f],u,n);c=s(c,m)}c+=r.arrayEnd}else{c+=r.objStart;var g=Object.keys(i);for(var v in Array.isArray(e)&&(e=e[0]),g){var y,_=g[v];y=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[_]?t(e.attrsMap[_],i[_],n):_===n.textNodeName?t(e.val,i[_],n):t(e.child[_],i[_],n),c=s(c,y)}}return c}return l}(t,e,i=u(i,c.defaultOptions,c.props))}},function(t,e,i){var n=i(7),r=i(7).buildOptions,o=i(15);e.convertToJsonString=function(t,e){return(e=r(e,o.defaultOptions,o.props)).indentBy=e.indentBy||"",function t(e,i,r){for(var o,a="{",s=Object.keys(e.child),l=0;l<s.length;l++){var c=s[l];if(e.child[c]&&e.child[c].length>1){for(var u in a+='"'+c+'" : [ ',e.child[c])a+=t(e.child[c][u],i)+" , ";a=a.substr(0,a.length-1)+" ] "}else a+='"'+c+'" : '+t(e.child[c][0],i)+" ,"}return n.merge(a,e.attrsMap),n.isEmptyObject(a)?n.isExist(e.val)?e.val:"":(n.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==i.cdataPositionChar)&&(a+='"'+i.textNodeName+'" : '+(!0!==(o=e.val)&&!1!==o&&isNaN(o)?'"'+o+'"':o)),","===a[a.length-1]&&(a=a.substr(0,a.length-2)),a+"}")}(t,e)}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r=i(7).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},a=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function s(t){this.options=r(t,o,a),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=m),this.options.cdataTagName?this.isCDATA=g:this.isCDATA=function(){return!1},this.replaceCDATAstr=l,this.replaceCDATAarr=c,this.options.format?(this.indentate=f,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=p,this.buildObjNode=h):(this.buildTextNode=d,this.buildObjNode=u),this.buildTextValNode=d,this.buildObjectNode=u}function l(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function c(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var i in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[i]+"]]>");return t+this.newLine}function u(t,e,i,n){return i&&!t.includes("<")?this.indentate(n)+"<"+e+i+">"+t+"</"+e+this.tagEndChar:this.indentate(n)+"<"+e+i+this.tagEndChar+t+this.indentate(n)+"</"+e+this.tagEndChar}function h(t,e,i,n){return""!==t?this.buildObjectNode(t,e,i,n):this.indentate(n)+"<"+e+i+"/"+this.tagEndChar}function d(t,e,i,n){return this.indentate(n)+"<"+e+i+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function p(t,e,i,n){return""!==t?this.buildTextValNode(t,e,i,n):this.indentate(n)+"<"+e+i+"/"+this.tagEndChar}function f(t){return this.options.indentBy.repeat(t)}function m(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function g(t){return t===this.options.cdataTagName}s.prototype.parse=function(t){return this.j2x(t,0).val},s.prototype.j2x=function(t,e){for(var i="",r="",o=Object.keys(t),a=o.length,s=0;s<a;s++){var l=o[s];if(void 0===t[l]);else if(null===t[l])r+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if(t[l]instanceof Date)r+=this.buildTextNode(t[l],l,"",e);else if("object"!==n(t[l])){var c=this.isAttribute(l);c?i+=" "+c+'="'+this.options.attrValueProcessor(""+t[l])+'"':this.isCDATA(l)?t[this.options.textNodeName]?r+=this.replaceCDATAstr(t[this.options.textNodeName],t[l]):r+=this.replaceCDATAstr("",t[l]):l===this.options.textNodeName?t[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+t[l])):r+=this.buildTextNode(t[l],l,"",e)}else if(Array.isArray(t[l]))if(this.isCDATA(l))r+=this.indentate(e),t[this.options.textNodeName]?r+=this.replaceCDATAarr(t[this.options.textNodeName],t[l]):r+=this.replaceCDATAarr("",t[l]);else for(var u=t[l].length,h=0;h<u;h++){var d=t[l][h];if(void 0===d);else if(null===d)r+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if("object"===n(d)){var p=this.j2x(d,e+1);r+=this.buildObjNode(p.val,l,p.attrStr,e)}else r+=this.buildTextNode(d,l,"",e)}else if(this.options.attrNodeName&&l===this.options.attrNodeName)for(var f=Object.keys(t[l]),m=f.length,g=0;g<m;g++)i+=" "+f[g]+'="'+this.options.attrValueProcessor(""+t[l][f[g]])+'"';else{var v=this.j2x(t[l],e+1);r+=this.buildObjNode(v.val,l,v.attrStr,e)}}return{attrStr:i,val:r}},t.exports=s},function(t,e,i){var n=Object.prototype.hasOwnProperty,r="~";function o(){}function a(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new a(i,n||t,o),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},c.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,a=new Array(o);n<o;n++)a[n]=i[n].fn;return a},c.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},c.prototype.emit=function(t,e,i,n,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,o),!0;case 6:return u.fn.call(u.context,e,i,n,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},c.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},c.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||l(this,o);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||n&&!a[s].once||i&&a[s].context!==i)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}i.r(e),i.d(e,"Filestack",(function(){return Me})),i.d(e,"init",(function(){return Se})),i.d(e,"version",(function(){return ke})),i.d(e,"EAlignOptions",(function(){return pt})),i.d(e,"EAlignFacesOptions",(function(){return ft})),i.d(e,"EFitOptions",(function(){return mt})),i.d(e,"EBlurMode",(function(){return gt})),i.d(e,"EShapeType",(function(){return vt})),i.d(e,"ENoiseType",(function(){return yt})),i.d(e,"EStyleType",(function(){return _t})),i.d(e,"EColorspaceType",(function(){return bt})),i.d(e,"ECropfacesType",(function(){return wt})),i.d(e,"ESmartCropMode",(function(){return xt})),i.d(e,"EImageWatermarkPosition",(function(){return Mt})),i.d(e,"EVideoTypes",(function(){return St})),i.d(e,"EUrlscreenshotAgent",(function(){return kt})),i.d(e,"EUrlscreenshotMode",(function(){return Tt})),i.d(e,"EUrlscreenshotOrientation",(function(){return Ct})),i.d(e,"EVideoLocations",(function(){return Et})),i.d(e,"EVideoAccess",(function(){return At})),i.d(e,"EVideoAccessMode",(function(){return Lt})),i.d(e,"transform",(function(){return Xt})),i.d(e,"Align",(function(){return $})),i.d(e,"FitOptions",(function(){return X})),i.d(e,"BlurMode",(function(){return K})),i.d(e,"ShapeType",(function(){return J})),i.d(e,"NoiseType",(function(){return Q})),i.d(e,"StyleType",(function(){return Z})),i.d(e,"ColorspaceType",(function(){return tt})),i.d(e,"CropfacesType",(function(){return et})),i.d(e,"ImageWatermarkPosition",(function(){return it})),i.d(e,"SmartCropMode",(function(){return nt})),i.d(e,"VideoTypes",(function(){return rt})),i.d(e,"URLScreenshotAgent",(function(){return ot})),i.d(e,"URLScreenshotMode",(function(){return at})),i.d(e,"URLScreenshotOrientation",(function(){return st})),i.d(e,"Locations",(function(){return lt})),i.d(e,"VideoAccess",(function(){return ct})),i.d(e,"VideoAccessMode",(function(){return ut})),i.d(e,"EnhancePreset",(function(){return ht})),i.d(e,"Filelink",(function(){return Pt})),i.d(e,"FilestackErrorType",(function(){return R})),i.d(e,"FsHttpMethod",(function(){return Ut.a})),i.d(e,"FsRequest",(function(){return zt})),i.d(e,"FsRequestErrorCode",(function(){return Wt.b})),i.d(e,"FsRequestError",(function(){return Wt.a})),i.d(e,"FsCancelToken",(function(){return qt})),i.d(e,"resolveCdnUrl",(function(){return z.resolveCdnUrl})),i.d(e,"resolveHost",(function(){return z.resolveHost})),i.d(e,"removeEmpty",(function(){return z.removeEmpty})),i.d(e,"uniqueTime",(function(){return z.uniqueTime})),i.d(e,"uniqueId",(function(){return z.uniqueId})),i.d(e,"extensionToMime",(function(){return z.extensionToMime})),i.d(e,"sanitizeName",(function(){return z.sanitizeName})),i.d(e,"filterObject",(function(){return z.filterObject})),i.d(e,"cleanUpCallbacks",(function(){return z.cleanUpCallbacks})),i.d(e,"md5",(function(){return z.md5})),i.d(e,"b64",(function(){return z.b64})),i.d(e,"getVersion",(function(){return z.getVersion})),i.d(e,"isMobile",(function(){return z.isMobile})),i.d(e,"isFacebook",(function(){return z.isFacebook})),i.d(e,"TransformSchema",(function(){return U})),i.d(e,"getSecurity",(function(){return c})),i.d(e,"validateWebhookSignature",(function(){return u})),i.d(e,"Client",(function(){return xe})),i.d(e,"FilestackError",(function(){return j})),i.d(e,"PickerDisplayMode",(function(){return _e})),i.d(e,"getMimetype",(function(){return z.getMimetype})),i.d(e,"PrefetchEvents",(function(){return fe}));var r,o=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==n(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){i.r(e),i.d(e,"loadModules",(function(){return l})),i.d(e,"loadModule",(function(){return c})),i.d(e,"registerModule",(function(){return u})),i.d(e,"loadCss",(function(){return h})),i.d(e,"FILESTACK_MODULES",(function(){return n}));var n,r={},o=function(){var t,e=(t="undefined"==typeof window?r:window).filestackInternals;return e||(e={modules:{}},t.filestackInternals=e),e.modules||(e.modules={}),e}(),a=o&&o.modules,s=function(t,e,i){t.detachEvent?t.detachEvent("onreadystatechange",e):t.removeEventListener(i,e,!1)},l=function(t){return Promise.all(t.map((function(t){var e=t.id,i=t.url;return c(e,i)}))).then((function(e){var i={};return e.forEach((function(e,n){var r=t[n];i[r.id]=e})),i}))},c=function(t,e){if("undefined"==typeof window)return Promise.reject(new Error("Load module is working only on browser env"));if(!t)throw new Error("Module id is required");var i=a[t="fs-loader-"+t];return i||(a[t]={},i=a[t]),i.instance?Promise.resolve(i.instance):i.promise?i.promise:i.promise=new Promise((function(i,n){var r=function e(r){if("load"===r.type||/^(complete|loaded)$/.test((r.currentTarget||r.srcElement).readyState)){var o=r.currentTarget||r.srcElement;s(o,e,"load"),s(o,n,"error"),setTimeout((function(){return i(a[t]?a[t].instance:void 0)}),10)}},o=document.createElement("script");o.id=t,!o.attachEvent||o.attachEvent.toString&&o.attachEvent.toString().indexOf("[native code")<0?(o.addEventListener("load",r,!1),o.addEventListener("onerror",n,!1)):o.attachEvent("onreadystatechange",r),o.setAttribute("crossorigin","anonymous"),o.setAttribute("charset","utf-8"),o.setAttribute("async","true"),o.src=e,document.body.appendChild(o)}))},u=function(t,e,i){if("undefined"!=typeof window){if(!t)throw new Error("Module id is required");if(!a)throw new Error("Loader is not initialized");a[t="fs-loader-"+t]&&(a[t]={instance:e,metadata:i})}},h=function(t){return null!==document.querySelector('link[href="'.concat(t,'"]'))?Promise.resolve():new Promise((function(e){var i=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.href=t,n.addEventListener("load",(function t(){e(),n.removeEventListener("load",t)})),i.appendChild(n)}))};!function(t){t.FILESTACK_SDK="filestack-sdk",t.TRANSFORMS_UI="transforms-ui",t.PICKER="picker"}(n||(n={}))}]),a=(o.loadModules,o.loadModule),s=o.registerModule,l=(o.loadCss,o.FILESTACK_MODULES),c=function(t,e){throw new Error("getSecurity is only supported in nodejs")},u=function(t,e,i){throw new Error("validateWebhookSignature is only supported in nodejs")},h=i(0),d=i(8);!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(r||(r={}));var p=i(9),f=i(54),m=Object(p.b)(),g="Sentry Logger ",v=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(p.a)((function(){m.console.log(g+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(p.a)((function(){m.console.warn(g+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(p.a)((function(){m.console.error(g+"[Error]: "+t.join(" "))}))},t}();m.__SENTRY__=m.__SENTRY__||{};var y,_=m.__SENTRY__.logger||(m.__SENTRY__.logger=new v),b=i(13),w=i(4);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(y||(y={}));var x=function(){function t(t){var e=this;this._state=y.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(y.RESOLVED,t)},this._reject=function(t){e._setResult(y.REJECTED,t)},this._setResult=function(t,i){e._state===y.PENDING&&(Object(w.j)(i)?i.then(e._resolve,e._reject):(e._state=t,e._value=i,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==y.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===y.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===y.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,i){i(e)}))},t.all=function(e){return new t((function(i,n){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,0==(r-=1)&&i(o)})).then(null,n)}))}else i([]);else n(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,i){var n=this;return new t((function(t,r){n._attachHandler({done:!1,onfulfilled:function(i){if(e)try{return void t(e(i))}catch(t){return void r(t)}else t(i)},onrejected:function(e){if(i)try{return void t(i(e))}catch(t){return void r(t)}else r(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var i=this;return new t((function(t,n){var r,o;return i.then((function(t){o=!1,r=t,e&&e()}),(function(t){o=!0,r=t,e&&e()})).then((function(){o?n(r):t(r)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),M=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var i=new t;return e&&(i._breadcrumbs=Object(h.e)(e._breadcrumbs),i._tags=Object(h.a)({},e._tags),i._extra=Object(h.a)({},e._extra),i._contexts=Object(h.a)({},e._contexts),i._user=e._user,i._level=e._level,i._span=e._span,i._session=e._session,i._transactionName=e._transactionName,i._fingerprint=e._fingerprint,i._eventProcessors=Object(h.e)(e._eventProcessors)),i},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Object(h.a)(Object(h.a)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var i;return this._tags=Object(h.a)(Object(h.a)({},this._tags),((i={})[t]=e,i)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(h.a)(Object(h.a)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var i;return this._extra=Object(h.a)(Object(h.a)({},this._extra),((i={})[t]=e,i)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var i;return null===e?delete this._contexts[t]:this._contexts=Object(h.a)(Object(h.a)({},this._contexts),((i={})[t]=e,i)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,i,n,r=this.getSpan();return(null===(t=r)||void 0===t?void 0:t.transaction)?null===(e=r)||void 0===e?void 0:e.transaction:(null===(n=null===(i=r)||void 0===i?void 0:i.spanRecorder)||void 0===n?void 0:n.spans[0])?r.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var i=e(this);return i instanceof t?i:this}return e instanceof t?(this._tags=Object(h.a)(Object(h.a)({},this._tags),e._tags),this._extra=Object(h.a)(Object(h.a)({},this._extra),e._extra),this._contexts=Object(h.a)(Object(h.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(w.e)(e)&&(e=e,this._tags=Object(h.a)(Object(h.a)({},this._tags),e.tags),this._extra=Object(h.a)(Object(h.a)({},this._extra),e.extra),this._contexts=Object(h.a)(Object(h.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var i=Object(h.a)({timestamp:Object(f.a)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Object(h.e)(this._breadcrumbs,[i]).slice(-e):Object(h.e)(this._breadcrumbs,[i]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var i;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Object(h.a)(Object(h.a)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(h.a)(Object(h.a)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(h.a)(Object(h.a)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(h.a)(Object(h.a)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Object(h.a)({trace:this._span.getTraceContext()},t.contexts);var n=null===(i=this._span.transaction)||void 0===i?void 0:i.name;n&&(t.tags=Object(h.a)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Object(h.e)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(h.e)(function(){var t=Object(p.b)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,i,n){var r=this;return void 0===n&&(n=0),new x((function(o,a){var s=t[n];if(null===e||"function"!=typeof s)o(e);else{var l=s(Object(h.a)({},e),i);Object(w.j)(l)?l.then((function(e){return r._notifyEventProcessors(t,e,i,n+1).then(o)})).then(null,a):r._notifyEventProcessors(t,l,i,n+1).then(o).then(null,a)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();var S=i(55),k=function(){function t(t){this.errors=0,this.sid=Object(p.c)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=r.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Object(p.c)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===r.Ok?this.update({status:r.Exited}):this.update()},t.prototype.toJSON=function(){return Object(S.a)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(S.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),T=function(){function t(t,e,i){void 0===e&&(e=new M),void 0===i&&(i=3),this._version=i,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=M.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var i=this._lastEventId=Object(p.c)(),n=e;if(!e){var r=void 0;try{throw new Error("Sentry syntheticException")}catch(t){r=t}n={originalException:t,syntheticException:r}}return this._invokeClient("captureException",t,Object(h.a)(Object(h.a)({},n),{event_id:i})),i},t.prototype.captureMessage=function(t,e,i){var n=this._lastEventId=Object(p.c)(),r=i;if(!i){var o=void 0;try{throw new Error(t)}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,Object(h.a)(Object(h.a)({},r),{event_id:n})),n},t.prototype.captureEvent=function(t,e){var i=this._lastEventId=Object(p.c)();return this._invokeClient("captureEvent",t,Object(h.a)(Object(h.a)({},e),{event_id:i})),i},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var i=this.getStackTop(),n=i.scope,r=i.client;if(n&&r){var o=r.getOptions&&r.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,l=o.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=Object(f.a)(),d=Object(h.a)({timestamp:u},t),m=s?Object(p.a)((function(){return s(d,e)})):d;null!==m&&n.addBreadcrumb(m,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var i=this.getScope();i&&i.setTag(t,e)},t.prototype.setExtra=function(t,e){var i=this.getScope();i&&i.setExtra(t,e)},t.prototype.setContext=function(t,e){var i=this.getScope();i&&i.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),i=e.scope,n=e.client;i&&n&&t(i)},t.prototype.run=function(t){var e=E(this);try{t(this)}finally{E(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return _.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,i,n,r;null===(i=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===i||i.close(),this._sendSessionUpdate(),null===(r=null===(n=this.getStackTop())||void 0===n?void 0:n.scope)||void 0===r||r.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),i=e.scope,n=e.client,o=n&&n.getOptions()||{},a=o.release,s=o.environment,l=new k(Object(h.a)(Object(h.a)({release:a,environment:s},i&&{user:i.getUser()}),t));if(i){var c=i.getSession&&i.getSession();c&&c.status===r.Ok&&c.update({status:r.Exited}),this.endSession(),i.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,i=t.client;if(e){var n=e.getSession&&e.getSession();n&&i&&i.captureSession&&i.captureSession(n)}},t.prototype._invokeClient=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=this.getStackTop(),o=r.scope,a=r.client;a&&a[t]&&(e=a)[t].apply(e,Object(h.e)(i,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=C(),r=n.__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);_.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function C(){var t=Object(p.b)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function E(t){var e=C(),i=D(e);return P(e,t),i}function A(){var t=C();return L(t)&&!D(t).isOlderThan(3)||P(t,new T),Object(b.b)()?function(t){var e,i,n;try{var r=null===(n=null===(i=null===(e=C().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===i?void 0:i.domain)||void 0===n?void 0:n.active;if(!r)return D(t);if(!L(r)||D(r).isOlderThan(3)){var o=D(t).getStackTop();P(r,new T(o.client,M.clone(o.scope)))}return D(r)}catch(e){return D(t)}}(t):D(t)}function L(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function D(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new T),t.__SENTRY__.hub}function P(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function O(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=A();if(n&&n[t])return n[t].apply(n,Object(h.e)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function I(t,e){var i;try{throw new Error("Sentry syntheticException")}catch(t){i=t}return O("captureException",t,{captureContext:e,originalException:t,syntheticException:i})}function N(t){O("withScope",t)}var R,F={processUrl:"https://process.filestackapi.com",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/1.23.0/picker.js"};!function(t){t.VALIDATION="validation",t.REQUEST="request",t.ABORTED="aborted",t.OTHER="other"}(R||(R={}));var j=function(t){function e(i,n,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.details=n,o.type=r,o}return Object(h.c)(e,t),e}(Error),U={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,properties:{flip:{type:"boolean",additionalProperties:!1},auto_image:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enhance:{default:!0,oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["auto","vivid","beautify","beautify_plus","fix_dark","fix_noise","fix_tint","outdoor","fireworks"]}}}]},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},smart_crop:{width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",default:"auto",enum:["face","auto"]}},animate:{type:"object",properties:{delay:{type:"integer",minimum:0,maximum:1e4,default:1e3},loop:{type:"integer",minimum:0,maximum:1e3,default:0},width:{type:"integer",minimum:1,maximum:1800},height:{type:"integer",minimum:1,maximum:1800},fit:{type:"string",default:"clip",enum:["clip","scale","crop"]},background:{$ref:"colorDef",default:"transparent"},align:{$ref:"positionDef",default:"center"}}},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",enum:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"colorDef",default:"snow"},background:{$ref:"colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"colorDef"},background:{$ref:"colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"colorDef"},background:{$ref:"colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},ascii:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"colorDef",default:"000000FF"},background:{$ref:"colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"colorDef"},pageformat:{type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:4096},height:{type:"integer",minimum:1,maximum:4096},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]},pdfinfo:{oneOf:[{type:"boolean"},{type:"object",properties:{colorinfo:{type:"boolean"}}}]},pdfconvert:{type:"object",additionalProperties:!1,properties:{pageorientation:{type:"string",enum:["portrait","landscape"]},pageformat:{$ref:"pageFormatDef"},pages:{$ref:"pageRangeDef"}},anyOf:[{required:["pageorientation"]},{required:["pageformat"]},{required:["pages"]}]},fallback:{type:"object",additionalProperties:!1,properties:{handle:{type:"string"},cache:{type:"integer",minimum:1,maximum:31536e3}},required:["handle"]},zip:{type:"string"},minify_css:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},level:{type:"number",enum:[1,2]}}},minify_js:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},use_babel_polyfill:{type:"boolean"},keep_fn_name:{type:"boolean"},keep_class_name:{type:"boolean"},mangle:{type:"boolean"},merge_vars:{type:"boolean"},remove_console:{type:"boolean"},remove_undefined:{type:"boolean"},targets:{type:"string"}}}}},Y=i(18),V={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack",description:"Filestack common definitions",type:"object",additionalProperties:!1,definitions:{workflowsDef:{id:"/workflowsDef",type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}]},securityCallDef:{id:"/securityCallDef",oneOf:[{additionalProperties:!1,type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},{type:"array",additionalProperties:!1,items:[{minItems:1,maxItems:10,type:"string",additionalProperties:!1,enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]}]}]},regionsDef:{id:"/regionsDef",type:"string"},locationsDef:{id:"/locationsDef",type:"string",enum:["s3","S3","rackspace","gcs","azure","dropbox"]},colorDef:{id:"colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent"]}]},pageFormatDef:{id:"/pageFormatDef",type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageRangeDef:{id:"/pageRangeDef",type:"array",uniqueItems:!0,items:[{oneOf:[{type:"integer",minimum:1},{type:"string",pattern:"^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$",errorMessage:'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" '}]}]},facesDef:{id:"/facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{id:"/objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{id:"/positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right","faces"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,maxItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}}},H=new Y.Validator;Y.Validator.prototype.customFormats.callback=function(t){return"function"==typeof t},Y.Validator.prototype.customFormats.HTMLContainer=function(t){return"string"==typeof t||t.toString&&t.toString().indexOf("HTML")>-1};var B=function(t){return function(e){return H.addSchema(V),H.validate(e,t)}},z=i(1),W=i(3),q=i.n(W);function G(t){return(G="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var $,X,K,J,Q,Z,tt,et,it,nt,rt,ot,at,st,lt,ct,ut,ht,dt=q()("fs:filelink");!function(t){t.left="left",t.right="right",t.center="center",t.bottom="bottom",t.top="top",t.faces="faces",t.middle="middle"}($||($={})),function(t){t.clip="clip",t.crop="crop",t.scale="scale",t.max="max"}(X||(X={})),function(t){t.linear="linear",t.gaussian="gaussian"}(K||(K={})),function(t){t.oval="oval",t.rect="rect"}(J||(J={})),function(t){t.none="none",t.low="low",t.medium="medium",t.high="high"}(Q||(Q={})),function(t){t.artwork="artwork",t.photo="photo"}(Z||(Z={})),function(t){t.RGB="RGB",t.CMYK="CMYK",t.Input="Input"}(tt||(tt={})),function(t){t.thumb="thumb",t.crop="crop",t.fill="fill"}(et||(et={})),function(t){t.top="top",t.middle="middle",t.bottom="bottom",t.left="left",t.center="center",t.right="right"}(it||(it={})),function(t){t.face="face",t.auto="auto"}(nt||(nt={})),function(t){t.h264="h264",t.h264_hi="h264.hi",t.webm="webm",t["webm-hi"]="webm.hi",t.ogg="ogg",t["ogg-hi"]="ogg.hi",t["hls-variant"]="hls.variant",t.mp3="mp3",t.oga="oga",t.m4a="m4a",t.aac="aac",t.hls="hls.variant.audio"}(rt||(rt={})),function(t){t.desktop="desktop",t.mobile="mobile"}(ot||(ot={})),function(t){t.all="all",t.window="window"}(at||(at={})),function(t){t.portrait="portrait",t.landscape="landscape"}(st||(st={})),function(t){t.s3="s3",t.azure="azure",t.gcs="gcs",t.rackspace="rackspace",t.dropbox="dropbox"}(lt||(lt={})),function(t){t.private="private",t.public="public"}(ct||(ct={})),function(t){t.preserve="preserve",t.constrain="constrain",t.letterbox="letterbox",t.pad="pad",t.crop="crop"}(ut||(ut={})),function(t){t.auto="auto",t.vivid="vivid",t.beautify="beautify",t.beautifyPlus="beautify_plus",t.fixDark="fix_dark",t.fixNoise="fix_noise",t.fixTint="fix_tint",t.outdor="outdoor",t.fireworks="fireworks"}(ht||(ht={}));var pt,ft,mt,gt,vt,yt,_t,bt,wt,xt,Mt,St,kt,Tt,Ct,Et,At,Lt,Dt=/^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/,Pt=function(){function t(t,e){this.transforms=[],this.b64=!1,this.useValidator=!0,this.arrayToObject=function(t,e,i){return void 0===t&&(t=[]),t.reduce((function(t,n){return t[n[e]]=n[i],t}),{})},this.apikey=e,this.setSource(t)}return t.prototype.setBase64=function(t){return this.b64=t,this},t.prototype.setUseValidator=function(t){return this.useValidator=t,this},t.prototype.setCname=function(t){return this.cname=t,this},t.prototype.setCustomDomain=function(t){return this.customDomain=t,this},t.prototype.setSource=function(t){this.source=t;var e=this.isSourceExternal();if(dt("Source "+t+" - isExternal? "+e),e&&!this.apikey)throw new j("External sources requires apikey to handle transforms");if(!e&&"string"==typeof this.source&&!Dt.test(this.source)&&-1===this.source.indexOf("filestackcontent"))throw new j("Invalid filestack source provided")},t.prototype.getValidationSchema=function(){return U},t.prototype.getTransformations=function(){return this.useValidator&&this.validateTasks(this.transforms),this.transforms},t.prototype.toString=function(){var t=[];t.push(this.getCdnHost()),this.useValidator&&this.validateTasks(this.transforms),this.apikey&&t.push(this.apikey);var e=this.generateTransformString(),i=this.source;return this.b64?(this.transforms.length>0&&(e="b64/"+Object(z.b64)(JSON.stringify(this.transforms),!0)),Array.isArray(i)&&(i=this.arrayToString(i)),i="b64://"+Object(z.b64)(i,!0)):i=Array.isArray(i)?this.arrayToString(i):this.escapeValue(i),e.length&&t.push(e),t.push(i),t.join("/")},t.prototype.addTask=function(t,e){if(q()("Add task  "+t+" with params %O",e),"cache"!==t&&"boolean"==typeof e){if(!e)return this;e=void 0}else"object"!==G(e)||Object.keys(e).length||(e=void 0);return this.transforms.push({name:t,params:e}),this},t.prototype.getTasks=function(){return this.transforms},t.prototype.reset=function(){return this.transforms=[],this},t.prototype.autoImage=function(){return this.addTask("auto_image",!0)},t.prototype.flip=function(){return this.addTask("flip",!0)},t.prototype.flop=function(){return this.addTask("flop",!0)},t.prototype.imagesize=function(){return this.addTask("imagesize",!0)},t.prototype.noMetadata=function(){return this.addTask("no_metadata",!0)},t.prototype.pjpg=function(t){return this.addTask("pjpg",t)},t.prototype.smartCrop=function(t){return this.addTask("smart_crop",t)},t.prototype.watermark=function(t){return this.addTask("watermark",t)},t.prototype.enhance=function(t){return this.addTask("enhance",t||!0)},t.prototype.redeye=function(){return this.addTask("redeye",!0)},t.prototype.monochrome=function(){return this.addTask("monochrome",!0)},t.prototype.compress=function(t){return this.addTask("compress",t||!0)},t.prototype.negative=function(){return this.addTask("negative",!0)},t.prototype.tags=function(){return this.addTask("tags",!0)},t.prototype.sfw=function(){return this.addTask("sfw",!0)},t.prototype.animate=function(t){return this.addTask("animate",t)},t.prototype.store=function(t){return this.addTask("store",t)},t.prototype.cache=function(t){return this.addTask("cache",t)},t.prototype.resize=function(t){return this.addTask("resize",t)},t.prototype.crop=function(t){return this.addTask("crop",t)},t.prototype.rotate=function(t){return this.addTask("rotate",t)},t.prototype.detectFaces=function(t){return this.addTask("detect_faces",t)},t.prototype.cropFaces=function(t){return this.addTask("crop_faces",t)},t.prototype.pixelateFaces=function(t){return this.addTask("pixelate_faces",t)},t.prototype.blurFaces=function(t){return this.addTask("blur_faces",t)},t.prototype.roundedCorners=function(t){return this.addTask("rounded_corners",t)},t.prototype.polaroid=function(t){return this.addTask("polaroid",t)},t.prototype.vignette=function(t){return this.addTask("vignette",t)},t.prototype.tornEdges=function(t){return this.addTask("torn_edges",t)},t.prototype.shadow=function(t){return this.addTask("shadow",t)},t.prototype.circle=function(t){return this.addTask("circle",t)},t.prototype.border=function(t){return this.addTask("border",t)},t.prototype.sharpen=function(t){return this.addTask("sharpen",t)},t.prototype.blur=function(t){return this.addTask("blur",t)},t.prototype.blackwhite=function(t){return this.addTask("blackwhite",t)},t.prototype.sepia=function(t){return this.addTask("sepia",t)},t.prototype.pixelate=function(t){return this.addTask("pixelate",t)},t.prototype.oilPaint=function(t){return this.addTask("oil_paint",t)},t.prototype.modulate=function(t){return this.addTask("modulate",t)},t.prototype.partialPixelate=function(t){return this.addTask("partial_pixelate",t)},t.prototype.partialBlur=function(t){return this.addTask("partial_blur",t)},t.prototype.collage=function(t){return this.addTask("collage",t)},t.prototype.upscale=function(t){return this.addTask("upscale",t)},t.prototype.ascii=function(t){return this.addTask("ascii",t)},t.prototype.quality=function(t){return this.addTask("quality",t)},t.prototype.security=function(t){return this.addTask("security",t)},t.prototype.output=function(t){return this.addTask("output",t)},t.prototype.videoConvert=function(t){return this.addTask("video_convert",t)},t.prototype.URLScreenshot=function(t){return this.addTask("urlscreenshot",t)},t.prototype.PDFInfo=function(t){return this.addTask("pdfinfo",t)},t.prototype.PDFConvert=function(t){return this.addTask("pdfconvert",t)},t.prototype.fallback=function(t){return this.addTask("fallback",t)},t.prototype.zip=function(){return this.addTask("zip",!0)},t.prototype.minifyCss=function(t){return this.addTask("minify_css",t)},t.prototype.minifyJs=function(t){return this.addTask("minify_js",t)},t.prototype.isSourceExternal=function(){if(!this.source)throw new j("Source not Set");var t=Array.isArray(this.source)?this.source:[this.source];for(var e in t)if(t.hasOwnProperty(e)&&(0===t[e].indexOf("src:")||0===t[e].indexOf("http")&&-1===t[e].indexOf("filestackcontent")))return!0;return!1},t.prototype.validateTasks=function(e){var i=t.validator(this.arrayToObject(e,"name","params"));if(i.errors.length)throw new j("Params validation error",i.errors,R.VALIDATION)},t.prototype.getCdnHost=function(){var t=Object.assign({},F);return this.customDomain&&(t.cdnUrl=this.customDomain),(t=Object(z.resolveHost)(t,this.cname)).cdnUrl},t.prototype.generateTransformString=function(){var t=this,e=[];return this.transforms.forEach((function(i){e.push(t.optionToString(i.name,i.params))})),e.join("/")},t.prototype.optionToString=function(t,e){var i=this,n=[];return void 0===e?t:"boolean"==typeof e?e||"cache"!==t?t:"cache=false":(Object.keys(e).forEach((function(t){Array.isArray(e[t])?n.push(t+":"+i.arrayToString(e[t])):n.push(t+":"+i.escapeValue(e[t]))})),t+"="+n.join(","))},t.prototype.escapeValue=function(t){return"string"!=typeof t?t:t.indexOf("/")>-1||t.indexOf(",")>-1?'"'+t+'"':t},t.prototype.arrayToString=function(t){var e=this;return"["+t.map((function(t){return Array.isArray(t)?e.arrayToString(t):e.escapeValue(t)}))+"]"},t.validator=B(U),t}(),Ot={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Store",description:"Filestack Store Options",type:"object",additionalProperties:!1,properties:{filename:{oneOf:[{type:"string"},{format:"callback"}]},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"},disableStorageKey:{type:"boolean"},tags:{type:"object",additionalProperties:{type:"string"}},sanitizer:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{exclude:{type:"array",items:[{type:"string"}]},replacement:{type:"string"}}}]}}},It={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Preview",description:"Filestack Preview Options",type:"object",additionalProperties:!1,properties:{id:{type:"string"},css:{type:"string"}}},Nt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Upload",description:"Filestack Upload Options",type:"object",additionalProperties:!1,properties:{partSize:{type:"integer",minimum:5242880},concurrency:{type:"integer",minimum:1,maximum:20},progressInterval:{type:"integer",minimum:1},retry:{type:"integer",minimum:0,maximum:20},retryFactor:{type:"integer"},retryMaxTime:{type:"integer"},timeout:{type:"integer",minimum:1,maximum:36e5},intelligent:{oneOf:[{type:"boolean"},{type:"string",enum:["fallback"]}]},intelligentChunkSize:{type:"integer"},onProgress:{format:"callback"},onRetry:{format:"callback"},disableIntegrityCheck:{type:"boolean"},tags:{type:"object",maxItems:10,additionalProperties:{type:"string",maxlength:256}}}},Rt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Picker",description:"Filestack Picker Options",type:"object",additionalProperties:!1,properties:{allowManualRetry:{type:"boolean"},accept:{additionalProperties:!1,oneOf:[{type:"string"},{type:"array",minItems:1,items:[{type:"string"}]}]},acceptFn:{format:"callback"},fromSources:{type:"array",items:[{type:["string","object"],additionalProperties:!1,enum:["local_file_system","url","imagesearch","facebook","instagram","googledrive","unsplash","dropbox","webcam","video","audio","box","github","gmail","googlephotos","onedrive","onedriveforbusiness","clouddrive","googlephotos","customsource","tint"]}]},container:{format:"HTMLContainer"},cleanupImageExif:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{keepOrientation:{type:"boolean"},keepICCandAPP:{type:"boolean"}}}]},displayMode:{type:"string",enum:["inline","overlay","dropPane"]},concurrency:{type:"integer",minimum:1,maximum:20},supportEmail:{type:"string"},customSourceContainer:{type:"string"},customSourcePath:{type:"string"},customSourceName:{type:"string"},disableStorageKey:{type:"boolean"},disableTransformer:{type:"boolean"},disableThumbnails:{type:"boolean"},exposeOriginalFile:{type:"boolean"},globalDropZone:{type:"boolean"},hideModalWhenUploading:{type:"boolean"},imageDim:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMax:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMin:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMinMaxBlock:{type:"boolean",default:!1},lang:{type:"string",enum:["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"]},minFiles:{type:"integer",minimum:1,maximum:1e6},maxFiles:{type:"integer",minimum:1,maximum:1e6},maxSize:{type:"integer",minimum:1},modalSize:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1,maximum:1e6}]},rootId:{type:"string"},startUploadingWhenMaxFilesReached:{type:"boolean"},uploadInBackground:{type:"boolean"},videoResolution:{type:"string"},onCancel:{format:"callback"},onClose:{format:"callback"},onOpen:{format:"callback"},onFileSelected:{format:"callback"},onFileUploadCancel:{format:"callback"},onFileUploadStarted:{format:"callback"},onFileUploadFinished:{format:"callback"},onFileUploadFailed:{format:"callback"},onFileUploadProgress:{format:"callback"},onUploadStarted:{format:"callback"},onUploadDone:{format:"callback"},onFileCropped:{format:"callback"},storeTo:{additionalProperties:!1,type:"object",properties:{filename:{type:"string"},location:{$ref:"locationsDef"},container:{type:"string"},path:{type:"string"},region:{type:"string"},access:{type:"string",enum:["public","private"]},workflows:{$ref:"workflowsDef"}}},viewType:{type:"string",enum:["grid","list"]},transformations:{type:"object",additionalProperties:!1,properties:{circle:{type:"boolean"},rotate:{type:"boolean"},force:{type:"boolean"},crop:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{force:{type:"boolean"},aspectRatio:{type:"number"}}}]}}},customText:{type:"object",patternProperties:{".*":{type:"string"}}},cropFiles:{type:"array",minItems:1},loadCss:{type:"string"},failOverMaxFiles:{type:"boolean"},dropPane:{type:"object",properties:{cropFiles:{type:"array",minItems:1},customText:{type:"string"},disableClick:{type:"boolean"},overlay:{type:"boolean"},showIcon:{type:"boolean"},showProgress:{type:"boolean"},onDragEnter:{format:"callback"},onProgress:{format:"callback"},onDragLeave:{format:"callback"},onDragOver:{format:"callback"},onDrop:{format:"callback"},onSuccess:{format:"callback"},onError:{format:"callback"},onClick:{format:"callback"}}},errorsTimeout:{type:"number",minimum:0},customAuthText:{type:"object",patternProperties:{".*":{additionalProperties:!1,type:"object",required:["top","bottom"],properties:{top:{type:"string"},bottom:{type:"string"}}}}},uploadConfig:{type:"object",additionalProperties:!1,properties:Object(h.a)(Object(h.a)({},Nt.properties),{tags:{type:"object",additionalProperties:{anyOf:[{type:"string"},{format:"callback"}]}}})},useSentryBreadcrumbs:{type:"boolean"},pasteMode:{type:"object",additionalProperties:!1,properties:{pasteToFirstInViewPort:{type:"boolean"},pasteToFirstInstance:{type:"boolean"}}}}},Ft={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Metadata",description:"Filestack Metadata Options",type:"object",additionalProperties:!1,properties:{size:{type:"boolean"},mimetype:{type:"boolean"},filename:{type:"boolean"},width:{type:"boolean"},metadata:{type:"boolean"},height:{type:"boolean"},uploaded:{type:"boolean"},writeable:{type:"boolean"},cloud:{type:"boolean"},sourceUrl:{type:"boolean"},md5:{type:"boolean"},sha1:{type:"boolean"},sha224:{type:"boolean"},sha256:{type:"boolean"},sha384:{type:"boolean"},sha512:{type:"boolean"},location:{type:"boolean"},path:{type:"boolean"},container:{type:"boolean"},exif:{type:"boolean"}}},jt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Retrieve",description:"Filestack Retrieve Options",type:"object",additionalProperties:!1,properties:{metadata:{type:"boolean"},head:{type:"boolean"},dl:{type:"boolean"},cache:{type:"boolean"},extension:{type:"string"}}},Ut=i(6),Yt=i(16),Vt=q()("fs:request:dispatch"),Ht=function(){function t(t){this.adapter=t}return t.prototype.request=function(t){var e=this;return t.headers=t.headers||{},Vt("Dispatching request %O",t),this.adapter.request(t).catch((function(t){return Vt('Request error "%s": %O',t,t.response),e.retry(t)}))},t.prototype.retry=function(t){var e=this,i=t.config;if(!Object(Yt.a)(t))return Vt("[Retry] Request error is not retriable. Exiting"),Promise.reject(t);if(!i.retry)return Vt("[Retry] Retry config not found. Exiting"),Promise.reject(t);var n=i.retry,r=i.runtime&&i.runtime.retryCount?i.runtime.retryCount:0;if(n.retry&&n.retry<=r)return Vt("[Retry] Retry attempts reached %d. Exiting",r),Promise.reject(t);var o=Math.max(Math.min(n.retryMaxTime,1e3*Math.pow(n.retryFactor,r)),1);return i.runtime=Object(h.a)(Object(h.a)({},i.runtime),{retryCount:r+1}),Vt("[Retry] Retrying request to "+i.url+", count "+r+" of "+n.retry+" - Delay: "+o),new Promise((function(t){setTimeout((function(){return t(e.request(i))}),o)}))},t}(),Bt=i(43).XhrAdapter,zt=function(){function t(t){this.defaults=t,this.dispatcher=new Ht(new Bt)}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.dispatch=function(t){return t.method||(t.method=Ut.a.GET),this.dispatcher.request(Object.assign({},this.defaults,t))},t.dispatch=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{url:e}))},t.get=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{method:Ut.a.GET,url:e}))},t.head=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{method:Ut.a.HEAD,url:e}))},t.options=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{method:Ut.a.OPTIONS,url:e}))},t.purge=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{method:Ut.a.PURGE,url:e}))},t.delete=function(e,i){return t.getInstance().dispatch(Object.assign({},i||{},{method:Ut.a.DELETE,url:e}))},t.post=function(e,i,n){return t.getInstance().dispatch(Object.assign({},n||{},{method:Ut.a.POST,url:e,data:i}))},t.put=function(e,i,n){return t.getInstance().dispatch(Object.assign({},n||{},{method:Ut.a.PUT,url:e,data:i}))},t.path=function(e,i,n){return t.getInstance().dispatch(Object.assign({},n||{},{method:Ut.a.PATH,url:e,data:i}))},t}(),Wt=i(2),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype.cancel=function(t){this.emit("cancel",t),this.removeAllListeners()},e}(d.EventEmitter),Gt=function(t,e,i,n){if(!e||"string"!=typeof e)throw new j("A valid Filestack handle is required for remove");if(!(t.policy&&t.signature||n&&n.policy&&n.signature))throw new j("Security policy and signature are required for remove");var r=t.urls.fileApiUrl+"/"+e,o={key:t.apikey,policy:n&&n.policy||t.policy,signature:n&&n.signature||t.signature};return i&&(o.skip_storage=!0),zt.delete(r,{filestackHeaders:!1,params:Object(z.removeEmpty)(o)})};function $t(t){return($t="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}!function(t){t.left="left",t.right="right",t.center="center",t.bottom="bottom",t.top="top"}(pt||(pt={})),function(t){t.left="left",t.right="right",t.center="center",t.bottom="bottom",t.top="top",t.faces="faces"}(ft||(ft={})),function(t){t.clip="clip",t.crop="crop",t.scale="scale",t.max="max"}(mt||(mt={})),function(t){t.linear="linear",t.gaussian="gaussian"}(gt||(gt={})),function(t){t.oval="oval",t.rect="rect"}(vt||(vt={})),function(t){t.none="none",t.low="low",t.medium="medium",t.high="high"}(yt||(yt={})),function(t){t.artwork="artwork",t.photo="photo"}(_t||(_t={})),function(t){t.RGB="RGB",t.CMYK="CMYK",t.Input="Input"}(bt||(bt={})),function(t){t.thumb="thumb",t.crop="crop",t.fill="fill"}(wt||(wt={})),function(t){t.fit="fit",t.auto="auto"}(xt||(xt={})),function(t){t.top="top",t.middle="middle",t.bottom="bottom",t.left="left",t.center="center",t.right="right"}(Mt||(Mt={})),function(t){t.h264="h264",t.h264_hi="h264.hi",t.webm="webm",t["webm-hi"]="webm.hi",t.ogg="ogg",t["ogg-hi"]="ogg.hi",t["hls-variant"]="hls.variant",t.mp3="mp3",t.oga="oga",t.m4a="m4a",t.aac="aac",t.hls="hls.variant.audio"}(St||(St={})),function(t){t.desktop="desktop",t.mobile="mobile"}(kt||(kt={})),function(t){t.all="all",t.window="window"}(Tt||(Tt={})),function(t){t.portrait="portrait",t.landscape="landscape"}(Ct||(Ct={})),function(t){t.s3="s3",t.azure="azure",t.gcs="gcs",t.rackspace="rackspace",t.dropbox="dropbox"}(Et||(Et={})),function(t){t.private="private",t.public="public"}(At||(At={})),function(t){t.preserve="preserve",t.constrain="constrain",t.letterbox="letterbox",t.pad="pad",t.crop="crop"}(Lt||(Lt={}));var Xt=function(t,e,i,n){void 0===i&&(i={}),void 0===n&&(n=!1),i=function t(e){for(var i={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r].split(/(?=[A-Z])/).join("_").toLowerCase();"object"!==$t(e[n[r]])||Array.isArray(e[n[r]])?i[o]=e[n[r]]:i[o]=t(e[n[r]])}return i}(i),t.policy&&t.signature&&(i.security={policy:t.policy,signature:t.signature});var r=new Pt(e,t.apikey);return r.setCname(t.cname),r.setBase64(n),Object.keys(i).forEach((function(t){("boolean"!=typeof i[t]||i[t]||"cache"===t)&&r.addTask(t,i[t])})),r.toString()};function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var Jt,Qt=function(){function t(t,e){this._file=t,this._sanitizeOptions=e,this._file.name=Object(z.sanitizeName)(this._file.name,this._sanitizeOptions)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._file.name},set:function(t){this._file.name=Object(z.sanitizeName)(t,this._sanitizeOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filename",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customName",{set:function(t){switch(Kt(t)){case"string":this.name=t;break;case"function":if("string"!=typeof t(this))throw new Error("Name function must return a string. Current return type is "+Kt(t));this.name=t(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._file.type||"application/octet-stream"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mimetype",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._file.size},enumerable:!0,configurable:!0}),t.prototype.getPartsCount=function(t){return Math.ceil(this._file.size/t)},t.prototype.getPartMetadata=function(t,e){var i=e*t;if(i>this._file.size)throw new Error("Start byte of the part is higher than buffer size");var n=Math.min(i+e,this._file.size);return{partNumber:t,startByte:i,endByte:n,size:n-i}},t.prototype.getPartByMetadata=function(t,e){return void 0===e&&(e=!0),Object(h.b)(this,void 0,void 0,(function(){var i;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,this._file.slice(t.startByte,t.endByte)];case 1:return i=n.sent(),[2,Promise.resolve(Object(h.a)(Object(h.a)({},t),{buffer:i,md5:e?Object(z.md5)(i):void 0}))]}}))}))},t.prototype.getChunkByMetadata=function(t,e,i,n){return void 0===n&&(n=!0),Object(h.b)(this,void 0,void 0,(function(){var r,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:return r=t.startByte+e,o=Math.min(r+i,t.endByte),[4,this._file.slice(r,o)];case 1:return a=s.sent(),[2,Promise.resolve(Object(h.a)(Object(h.a)({},t),{buffer:a,md5:n?Object(z.md5)(a):void 0,size:a.byteLength,startByte:r,endByte:o,offset:e}))]}}))}))},t.prototype.release=function(){this._file.release&&this._file.release()},t.prototype.toJSON=function(){return{name:this.name,status:this.status,type:this.type,size:this.size,url:this.url,handle:this.handle,uploadTags:this.uploadTags}},t}(),Zt=i(17),te=i.n(Zt),ee=/data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i,ie=function(t,e){var i,n;if(function(t){return t&&t.file&&t.name}(t)&&(i=t.name,t=t.file),function(t){return t instanceof File}(t))n=t,i=t.name;else if(function(t){if("string"!=typeof t)return!1;t.indexOf("base64")>-1&&(t=t.match(ee).pop());try{return btoa(atob(t))===t}catch(t){return!1}}(t))n=function(t,e){void 0===e&&(e=512);var i="";if(t.indexOf("base64")>-1){var n=t.match(ee);t=n.pop(),i=n[1]}for(var r=atob(t),o=[],a=0;a<r.length;a+=e){for(var s=r.slice(a,a+e),l=new Array(s.length),c=0;c<s.length;c+=1)l[c]=s.charCodeAt(c);o.push(new Uint8Array(l))}return new Blob(o,{type:i})}(t);else{if(!function(t){return"[object Blob]"===t.toString()}(t))return Promise.reject(new j("Unsupported input file type"));n=t}return function(t){return Object(h.b)(void 0,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return File&&FileReader&&Blob?[2,Promise.resolve({slice:function(e,i){return function(t,e,i){return new Promise((function(n,r){var o=new FileReader,a=i.slice(t,e);o.onload=function(){return n(o.result)},o.onerror=r,o.readAsArrayBuffer(a)}))}(e,i,t)},release:function(){t=null}})]:[2,Promise.reject(new j("The File APIs are not fully supported by your browser"))]}))}))}(n).then((function(t){return Object(h.b)(void 0,void 0,void 0,(function(){var r,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return r=n.type,n.type&&0!==n.type.length&&"text/plain"!==n.type?[3,2]:(o=z.getMimetype,[4,t.slice(0,te.a.minimumBytes)]);case 1:r=o.apply(void 0,[a.sent(),i]),a.label=2;case 2:return[2,new Qt({name:i,size:n.size,type:r,slice:t.slice,release:t.release},e)]}}))}))}))},ne=i(29),re=i.n(ne),oe=i(11),ae=q()("fs:upload:abstract"),se=function(t){function e(e,i){void 0===i&&(i=3);var n=t.call(this)||this;return n.storeOptions=e,n.concurrency=i,n.partSize=6291456,n.intelligentChunkSize=Object(z.isMobile)()?1048576:8388608,n.timeout=3e4,n.uploadMode="default",n.isModeLocked=!1,n.integrityCheck=!0,n.uploadTags=null,n}return Object(h.c)(e,t),e.prototype.setSecurity=function(t){ae("Set security %O",t),this.security=t},e.prototype.setApikey=function(t){ae("Set apikey to "+t),this.apikey=t},e.prototype.setTimeout=function(t){ae("Set request timeout to "+t),this.timeout=t},e.prototype.setRetryConfig=function(t){ae("Set retry config to "+t),this.retryConfig=t},e.prototype.setUrl=function(t){ae("Set upload url to "+t),this.url=t},e.prototype.setUploadTags=function(t){ae("Set tags to %O",t),this.uploadTags=t},e.prototype.setIntegrityCheck=function(t){this.integrityCheck=t},e.prototype.setUploadMode=function(t,e){void 0===e&&(e=!1),!0!==this.isModeLocked?(this.isModeLocked=e,ae("Set upload mode to "+t),this.uploadMode=t):ae("Cannot switch mode to "+t+". Locked! Probably mode is not supported at this apikey")},e.prototype.setPartSize=function(t){if("default"===this.uploadMode){if(ae("Set part size to "+t),t<5242880)throw new j("Minimum part size is 5MB");this.partSize=t}else ae("Cannot set part size because upload mode is other than default. ")},e.prototype.getPartSize=function(){return this.partSize},e.prototype.setIntelligentChunkSize=function(t){if(ae("Set inteligent chunk size to "+t),t<32768)throw new j("Minimum intelligent chunk size is 32768");this.intelligentChunkSize=t},e.prototype.getIntelligentChunkSize=function(){return this.intelligentChunkSize},e.prototype.getUrl=function(){if(!this.url)throw new j("Upload url not set");return this.url},e}(d),le=q()("fs:upload:s3"),ce=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.payloads={},n.partsQueue=new re.a({autoStart:!1,concurrency:n.concurrency}),n.cancelToken=new qt,n}return Object(h.c)(e,t),e.prototype.pause=function(){this.partsQueue.pause()},e.prototype.resume=function(){this.partsQueue.isPaused&&this.partsQueue.start()},e.prototype.abort=function(t){this.partsQueue.pause(),this.partsQueue.clear(),this.cancelToken.cancel(t||"Aborted by user")},e.prototype.execute=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e=this;return Object(h.d)(this,(function(i){return t=Object.keys(this.payloads).map((function(t){return new Promise((function(i){return Object(h.b)(e,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,this.startRequest(t)];case 1:return r.sent(),[4,this.prepareParts(t)];case 2:return r.sent(),[4,this.startPartsQueue(t)];case 3:return r.sent(),[4,this.completeRequest(t)];case 4:return r.sent(),[3,6];case 5:return e=r.sent(),this.emit("error",e),le("["+t+"] File upload failed. %O, \nDetails: %O ",e.message,e.details),[3,6];case 6:return(n=this.getPayloadById(t).file).release(),delete this.payloads[t],i(n),[2]}}))}))}))})),[2,Promise.all(t)]}))}))},e.prototype.addFile=function(t){le("Add file to queue: \n %o",t);var e=Object(z.uniqueId)(15)+"_"+Object(z.uniqueTime)();return t.status="Initialized",this.payloads[e]={file:t,parts:[]},e},e.prototype.getUploadUrl=function(t){var e=this.getDefaultFields(t,["location_url"]).location_url;return 0===e.indexOf("http")?e:"https://"+e},e.prototype.getStoreOptions=function(t){var e=Object(h.a)({location:"s3"},this.storeOptions);if(this.storeOptions.disableStorageKey){var i=this.getPayloadById(t);e.path&&"/"!==e.path.substr(-1)&&(e.path=e.path+"/"),e.path=""+(e.path?e.path:"/")+i.file.name,delete e.disableStorageKey}return e},e.prototype.getDefaultFields=function(t,e,i){void 0===i&&(i=!1);var n=this.getPayloadById(t),r=Object(h.a)(Object(h.a)({},this.security),{apikey:this.apikey,uri:n.uri,location_url:n.location_url,upload_id:n.upload_id,region:n.region});return("intelligent"===this.uploadMode||"fallback"===this.uploadMode&&i)&&(r.fii=!0),Object(h.a)(Object(h.a)({},Object(z.filterObject)(r,e)),{store:this.getStoreOptions(t)})},e.prototype.getDefaultHeaders=function(t){var e={},i=this.getPayloadById(t);return i.location_region&&(e["Filestack-Upload-Region"]=i.location_region),e},e.prototype.getPayloadById=function(t){return this.payloads[t]},e.prototype.prepareParts=function(t){var e=this.getPayloadById(t).file;["intelligent","fallback"].indexOf(this.uploadMode)>-1&&(this.partSize=8388608);for(var i=e.getPartsCount(this.partSize),n=[],r=0;r<i;r++)n[r]=Object(h.a)(Object(h.a)({},e.getPartMetadata(r,this.partSize)),{offset:0});return this.payloads[t].parts=n,Promise.resolve()},e.prototype.startRequest=function(t){var e=this,i=this.getPayloadById(t);return 0===i.file.size?(this.setPayloadStatus(t,"Failed"),Promise.reject(new j('Invalid file "'+i.file.name+'" size - 0',{},R.VALIDATION))):(le("["+t+"] Make start request"),zt.post(this.getUrl()+"/multipart/start",Object(h.a)({filename:i.file.name,mimetype:i.file.type,size:i.file.size},this.getDefaultFields(t,["apikey","policy","signature","fii"],!0)),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(t),retry:this.retryConfig}).then((function(i){var n=i.data;return n&&n.location_url&&n.region&&n.upload_id&&n.uri?(le("["+t+"] Assign payload data: \n%O\n",n),e.updatePayload(t,n),["intelligent","fallback"].indexOf(e.uploadMode)>-1&&(!n.upload_type||"intelligent_ingestion"!==n.upload_type)&&(le("["+t+"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change"),e.setUploadMode("default",!0)),n):(le("["+t+"] Incorrect start response: \n%O\n",n),e.setPayloadStatus(t,"Failed"),Promise.reject(new j("Incorrect start response",n,R.REQUEST)))})).catch((function(i){return le("["+t+"] Start request error %O",i),e.setPayloadStatus(t,"Failed"),e.rejectUpload("Cannot upload file. Start request failed",i)})))},e.prototype.startPartsQueue=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i,n,r=this;return Object(h.d)(this,(function(o){return e=this.getPayloadById(t),i=e.parts,n=i.length,le("["+t+"] Create uploading queue from file. parts count - %d",n),[2,new Promise((function(e,n){return Object(h.b)(r,void 0,void 0,(function(){var r,o=this;return Object(h.d)(this,(function(a){switch(a.label){case 0:return i.forEach((function(e){return o.partsQueue.add((function(){return o.startPart(t,e.partNumber)})).catch((function(e){return o.setPayloadStatus(t,"Failed"),le("["+t+"] Failed to upload part %s",e.message),o.partsQueue.pause(),o.partsQueue.clear(),n(e)}))})),le("["+t+"] All tasks for %s enqueued. Start processing main upload queue",t),this.emit("start"),this.partsQueue.start(),r=e,[4,this.partsQueue.onIdle()];case 1:return r.apply(void 0,[a.sent()]),[2]}}))}))}))]}))}))},e.prototype.startPart=function(t,e){return le("["+t+"] Start processing part "+e+" with mode "+this.uploadMode),this.getPayloadById(t).file.status="Progress",("intelligent"!==this.uploadMode?this.uploadRegular:this.uploadIntelligent).apply(this,[t,e])},e.prototype.getS3PartMetadata=function(t,e,i){var n=this,r=this.getUploadUrl(t);le("["+t+"] Get data for part "+e.partNumber+", url "+r+", Md5: "+e.md5+", Size: "+e.size);var o=Object(h.a)(Object(h.a)({},this.getDefaultFields(t,["apikey","uri","region","signature","policy","upload_id","fii"])),{part:e.partNumber+1,size:e.size,offset:i});return this.integrityCheck&&e.md5&&(o.md5=e.md5),zt.post(r+"/multipart/upload",o,{headers:this.getDefaultHeaders(t),cancelToken:this.cancelToken,timeout:this.timeout,retry:this.retryConfig}).catch((function(e){return n.setPayloadStatus(t,"Failed"),n.rejectUpload("Cannot get part metadata",e)}))},e.prototype.uploadRegular=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,n,r,o,a,s,l=this;return Object(h.d)(this,(function(c){switch(c.label){case 0:return i=this.getPayloadById(t),n=i.parts[e],[4,i.file.getPartByMetadata(n,this.integrityCheck)];case 1:return r=c.sent(),[4,this.getS3PartMetadata(t,r)];case 2:return o=c.sent(),a=o.data,s=o.headers,le("["+t+"] Received part "+e+" info body: \n%O\n headers: \n%O\n",a,s),[2,zt.put(a.url,r.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:a.headers,filestackHeaders:!1,onProgress:function(i){return l.onProgressUpdate(t,e,i.loaded)},retry:this.retryConfig&&"fallback"!==this.uploadMode?this.retryConfig:void 0}).then((function(i){if(!i.headers.etag)throw r=null,new j("Cannot upload file, check S3 bucket settings","Etag header is not exposed in CORS settings",R.REQUEST);return l.setPartETag(t,e,i.headers.etag),le("["+t+"] S3 Upload response headers for "+e+": \n%O\n",i.headers),l.onProgressUpdate(t,e,r.size),r=null,i})).catch((function(i){var n=i&&i.response?i.response:null;if(n&&403===n.status&&n.data&&n.data.Error&&n.data.Error.code){var o=n.data.Error.code;switch(Array.isArray(o)&&(o=o.pop()),o){case"RequestTimeTooSkewed":return l.startPart(t,e);default:return Promise.reject(new j("Cannot upload file",n.data.Error,R.REQUEST))}}return r=null,i instanceof j?Promise.reject(i):(l.onProgressUpdate(t,e,0),"fallback"===l.uploadMode&&!l.isModeLocked||"intelligent"===l.uploadMode?(le("["+t+"] Regular upload failed. Switching to intelligent ingestion mode"),l.setUploadMode("intelligent"),l.startPart(t,e)):l.rejectUpload("Cannot upload file part",i))}))]}}))}))},e.prototype.uploadIntelligent=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i=this;return Object(h.d)(this,(function(n){return[2,this.uploadNextChunk(t,e).then((function(){return i.commitPart(t,e)}))]}))}))},e.prototype.uploadNextChunk=function(t,e,i){return void 0===i&&(i=this.intelligentChunkSize),Object(h.b)(this,void 0,void 0,(function(){var n,r,o,a,s=this;return Object(h.d)(this,(function(l){switch(l.label){case 0:return n=this.getPayloadById(t),r=n.parts[e],i=Math.min(i,r.size-r.offset),[4,n.file.getChunkByMetadata(r,r.offset,i,this.integrityCheck)];case 1:return o=l.sent(),le("["+t+"] PartNum: "+e+", PartSize: "+r.size+", StartByte: "+r.startByte+", Offset: "+r.offset+", ChunkSize: "+o.size+",\n       Left: "+(r.size-r.offset-o.size)),[4,this.getS3PartMetadata(t,o,r.offset).catch((function(n){return le("["+t+"] Getting chunk data for ii failed %O, Chunk size: "+i+", offset "+r.offset+", part "+e,n),Promise.reject(n)}))];case 2:return a=l.sent().data,[2,zt.put(a.url,o.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:a.headers,filestackHeaders:!1,onProgress:function(i){return r?s.onProgressUpdate(t,e,r.offset+i.loaded):null}}).then((function(n){s.onProgressUpdate(t,e,r.offset+o.size);var a=Math.min(r.offset+i,r.size);return le("["+t+"] S3 Chunk uploaded! offset: "+r.offset+", part "+e+"! response headers for "+e+": \n%O\n",n.headers),s.setPartData(t,e,"offset",a),a===r.size?Promise.resolve(n):(r=null,o=null,s.uploadNextChunk(t,e,i))})).catch((function(n){var a=n&&n.response?n.response:null;if(a&&403===a.status&&a.data&&a.data.Error&&a.data.Error.code){var l=a.data.Error.code;switch(Array.isArray(l)&&(l=l.pop()),l){case"RequestTimeTooSkewed":return s.startPart(t,e);default:return Promise.reject(new j("Cannot upload file",a.data.Error,R.REQUEST))}}s.onProgressUpdate(t,e,r.offset);var c=Math.ceil(i/2);return c<32768?(le("["+t+"] Minimal chunk size limit. Upload file failed!"),Promise.reject(new j("Min chunk size reached",n.data,R.REQUEST))):Object(oe.e)(n)?(le("["+t+"] Request network error. Retry with new chunk size: "+c),s.uploadNextChunk(t,e,c)):(r=null,o=null,s.rejectUpload("Cannot upload file part (FII)",n))}))]}}))}))},e.prototype.commitPart=function(t,e){var i=this,n=this.getPayloadById(t),r=n.parts[e];return zt.post(this.getUploadUrl(t)+"/multipart/commit",Object(h.a)(Object(h.a)({},this.getDefaultFields(t,["apikey","region","upload_id","policy","signature","uri"])),{size:n.file.size,part:r.partNumber+1}),{cancelToken:this.cancelToken,timeout:this.timeout,headers:this.getDefaultHeaders(t),retry:this.retryConfig}).then((function(e){return le("["+t+"] Commit Part number "+r.partNumber+". Response: %O",e.data),e})).catch((function(t){return i.rejectUpload("Cannot commit file part metadata",t)}))},e.prototype.completeRequest=function(t){var e=this,i=this.getPayloadById(t),n=[];le("["+t+"] Run complete request");for(var r=i.parts,o=r.length,a=0;a<o;a++)r[a].etag&&n.push({part_number:a+1,etag:r[a].etag});return le("["+t+"] Etags %O",n),zt.post(this.getUploadUrl(t)+"/multipart/complete",Object(h.a)(Object(h.a)({},this.getDefaultFields(t,["apikey","policy","signature","uri","region","upload_id","fii"],!0)),{filename:i.file.name,mimetype:i.file.type,size:i.file.size,upload_tags:this.uploadTags&&Object.keys(this.uploadTags).length?this.uploadTags:void 0,parts:n.length?n:void 0}),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(t),retry:this.retryConfig}).then((function(i){if(202===i.status)return new Promise((function(i,n){setTimeout((function(){return e.completeRequest(t).then(i).catch(n)}),1e3)}));var n=e.getPayloadById(t).file;return n.handle=i.data.handle,n.url=i.data.url,n.container=i.data.container,n.key=i.data.key,n.uploadTags=i.data.upload_tags,n.workflows=i.data.workflows,n.status=i.data.status,n})).catch((function(i){return e.setPayloadStatus(t,"Failed"),e.rejectUpload("Cannot complete file",i)}))},e.prototype.onProgressUpdate=function(t,e,i){this.setPartData(t,e,"progress",i),this.emitProgress()},e.prototype.emitProgress=function(){var t=0,e=0,i={};for(var n in this.payloads){var r=this.payloads[n];if("Failed"!==r.file.status){var o=r.parts.map((function(t){return t.progress||0})).reduce((function(t,e){return t+e}),0);e+=o,i[n]={totalBytes:o,totalPercent:Math.round(100*o/r.file.size)||0},t+=r.file.size}}var a={totalBytes:e||0,totalPercent:Math.round(100*e/t)||0,files:i};le("Upload progress %O",a),this.emit("progress",a)},e.prototype.updatePayload=function(t,e){this.payloads[t]=Object(h.a)(Object(h.a)({},this.payloads[t]),e)},e.prototype.setPartETag=function(t,e,i){le("["+t+"] Set "+i+" etag for part "+e),this.getPayloadById(t).parts[e].etag=i},e.prototype.setPartData=function(t,e,i,n){le("["+t+"] Set "+i+" = "+n+" for part "+e);var r=this.getPayloadById(t);r?r.parts[e][i]=n:le("["+t+"] Cannot set "+i+" = "+n+" for part "+e)},e.prototype.setPayloadStatus=function(t,e){le("["+t+"] Set payload status to "+e),this.payloads[t]&&(this.payloads[t].file.status=e)},e.prototype.parseError=function(t){return t.response?{code:t.response.status,data:t.response.data,headers:t.response.headers}:{}},e.prototype.rejectUpload=function(t,e){return e instanceof Wt.a&&e.code===Wt.b.ABORTED?Promise.reject(new j(t,{reason:e.message},R.ABORTED)):Promise.reject(new j(t,this.parseError(e),R.REQUEST))},e}(se),ue=function(t,e){return t.totalBytes=Math.max(t.totalBytes,e.totalBytes),t.totalPercent=Math.max(t.totalPercent,e.totalPercent),t},he=function(t){function e(e,i){void 0===e&&(e={}),void 0===i&&(i={});var n=t.call(this)||this;n.options=e,n.storeOptions=i,n.lastProgress={totalBytes:0,totalPercent:0},n.storeOptions=Object.assign({},i);var r=B(Nt)(e);if(r.errors.length)throw new j("Invalid upload params",r.errors,R.VALIDATION);var o=B(Ot)(i);if(o.errors.length)throw new j("Invalid store upload params",o.errors,R.VALIDATION);return i.filename&&(n.overrideFileName=i.filename,delete n.storeOptions.filename),n.storeOptions.sanitizer&&(n.sanitizerOptions=n.storeOptions.sanitizer,delete n.storeOptions.sanitizer),n.uploader=new ce(n.storeOptions,e.concurrency),n.uploader.setRetryConfig({retry:e.retry||10,onRetry:e.onRetry,retryFactor:e.retryFactor||2,retryMaxTime:e.retryMaxTime||15e3}),n.uploader.setTimeout(e.timeout||12e4),e.partSize&&n.uploader.setPartSize(e.partSize),e.intelligentChunkSize&&n.uploader.setIntelligentChunkSize(e.intelligentChunkSize),e.disableIntegrityCheck&&n.uploader.setIntegrityCheck(!1),e.intelligent&&n.uploader.setUploadMode("fallback"===e.intelligent?"fallback":"intelligent"),n.uploader.setUploadTags(e.tags),n.uploader.on("start",(function(){return n.emit("start")})),n.uploader.on("error",(function(t){return n.emit("error",t)})),n.uploader.on("progress",n.handleProgress.bind(n)),n}return Object(h.c)(e,t),e.prototype.setSession=function(t){this.uploader.setApikey(t.apikey),t.policy&&t.signature&&this.uploader.setSecurity({policy:t.policy,signature:t.signature}),this.uploader.setUrl(t.urls.uploadApiUrl)},e.prototype.setToken=function(t){var e=this;if(!t||t!==Object(t))throw new Error("Incorrect upload token. Must be instance of object");return t.pause=function(){return e.uploader.pause()},t.resume=function(){return e.uploader.resume()},t.cancel=function(){return e.uploader.abort()},t},e.prototype.setSecurity=function(t){this.uploader.setSecurity(t)},e.prototype.setUploadTags=function(t){this.uploader.setUploadTags(t)},e.prototype.upload=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,ie(t,this.sanitizerOptions)];case 1:return(e=n.sent()).customName=this.overrideFileName,this.uploader.addFile(e),this.startProgressInterval(),[4,this.uploader.execute()];case 2:return i=n.sent().shift(),this.stopProgressInterval(),this.uploader.removeAllListeners(),"Failed"===i.status?[2,Promise.reject(i)]:[2,Promise.resolve(i)]}}))}))},e.prototype.multiupload=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i,n,r,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:for(i in e=[],t)e.push(i);n=0,s.label=1;case 1:return n<e.length?(r=e[n],t.hasOwnProperty(r)?[4,ie(t[r],this.sanitizerOptions)]:[3,3]):[3,4];case 2:(o=s.sent()).customName=this.overrideFileName,this.uploader.addFile(o),s.label=3;case 3:return n++,[3,1];case 4:return this.startProgressInterval(),[4,this.uploader.execute()];case 5:return a=s.sent(),this.stopProgressInterval(),this.uploader.removeAllListeners(),[2,Promise.resolve(a)]}}))}))},e.prototype.startProgressInterval=function(){var t=this;"function"==typeof this.options.onProgress&&(this.progressIntervalHandler=setInterval((function(){t.options.onProgress(t.lastProgress)}),this.options.progressInterval||1e3),this.options.onProgress(this.lastProgress))},e.prototype.stopProgressInterval=function(){clearInterval(this.progressIntervalHandler)},e.prototype.handleProgress=function(t){if(t=ue(t,this.lastProgress),this.lastProgress.files)for(var e in t.files)this.lastProgress.files[e]&&(t.files[e]=ue(t.files[e],this.lastProgress.files[e]));this.lastProgress=t},e}(d.EventEmitter),de=q()("fs:storage"),pe=function(){function t(){this.availableTypes=[],void 0!==window.localStorage&&(this.availableTypes.push(Jt.LOCAL),de("Local storage exists")),void 0!==window.sessionStorage&&(this.availableTypes.push(Jt.SESSION),de("Session storage exists")),de("availableTypes - %O",this.availableTypes)}return t.prototype.hasAccess=function(t){return de("Checking access to storage for %s. Available types: %O",t,this.availableTypes),t?this.availableTypes.indexOf(t)>-1:!!this.availableTypes.length},t.prototype.getItem=function(t,e){var i=this.getStore(e);if(de("getItem %s from %O",t,i),i)return i.getItem(t)},t.prototype.setItem=function(t,e,i){var n=this.getStore(i);if(de("setItem %s to %O",t,n),n)return n.setItem(t,e)},t.prototype.removeItem=function(t,e){var i=this.getStore(e);if(de("removeItem %s from %O",t,i),i)return i.removeItem(t)},t.prototype.getStore=function(t){if(de("get store with pref type - %s",t),this.hasAccess(t))switch(t){case Jt.LOCAL:return window.localStorage;case Jt.SESSION:return window.sessionStorage;default:return window[this.availableTypes[0]]}else de("User dont have access to any storage")},t}();!function(t){t.SESSION="sessionStorage",t.LOCAL="localStorage"}(Jt||(Jt={}));var fe,me="__fs_picker_token",ge=function(){function t(t,e){this.cache=!1,this.session=t,this.storeAdapter=new pe,this.cloudApiUrl=t.urls.cloudApiUrl,e&&e.sessionCache&&(this.cache=e.sessionCache)}return Object.defineProperty(t.prototype,"token",{get:function(){if(this.cache){var t=this.storeAdapter.getItem(me,Jt.LOCAL);if(t)return t}return this.isInAppBrowser?this.storeAdapter.getItem(me,Jt.SESSION):this._token},set:function(t){this.cache&&this.storeAdapter.setItem(me,t,Jt.LOCAL),this.isInAppBrowser&&this.storeAdapter.setItem(me,t,Jt.SESSION),this._token=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInAppBrowser",{get:function(){return!!(this.session&&this.session.prefetch&&this.session.prefetch.settings&&this.session.prefetch.settings.inapp_browser)&&this.session.prefetch.settings.inapp_browser},enumerable:!0,configurable:!0}),t.prototype.list=function(t,e,i){var n=this,r={apikey:this.session.apikey,clouds:t,flow:"web",token:this.token};i&&(Array.isArray(i)||(i=[i]),r.accept=i),this.isInAppBrowser&&(r.appurl=this.currentAppUrl()),this.session.policy&&this.session.signature&&(r.policy=this.session.policy,r.signature=this.session.signature);var o={};if(e){var a=new qt;e.cancel=a.cancel.bind(a),o.cancelToken=a}return zt.post(this.cloudApiUrl+"/folder/list",r,o).then((function(t){return t.data&&t.data.token&&(n.token=t.data.token),t.data}))},t.prototype.store=function(t,e,i,n,r,o){var a,s=this;void 0===i&&(i={}),void 0===n&&(n={}),void 0===o&&(o=null),void 0===i.location&&(i.location="s3");var l={apikey:this.session.apikey,token:this.token,flow:"web",upload_tags:o||void 0,clouds:(a={},a[t]={path:e,store:Object(z.removeEmpty)(i)},a)};"customsource"===t&&n.customSourcePath&&(l.clouds.customsource.customSourcePath=n.customSourcePath),"customsource"===t&&n.customSourceContainer&&(l.clouds.customsource.customSourceContainer=n.customSourceContainer),this.session.policy&&this.session.signature&&(l.policy=this.session.policy,l.signature=this.session.signature);var c={};if(r){var u=new qt;r.cancel=u.cancel.bind(u),c.cancelToken=u}return zt.post(this.cloudApiUrl+"/store/",l,c).then((function(e){return e.data&&e.data.token&&(s.token=e.data.token),e.data&&e.data[t]?e.data[t]:e.data}))},t.prototype.logout=function(t){var e,i={apikey:this.session.apikey,flow:"web",token:this.token};return t?i.clouds=((e={})[t]={},e):(this.cache&&this.storeAdapter.removeItem(me,Jt.LOCAL),this.isInAppBrowser&&this.storeAdapter.removeItem(me,Jt.SESSION)),zt.post(this.cloudApiUrl+"/auth/logout",i).then((function(e){return e.data&&e.data[t]?e.data[t]:e.data}))},t.prototype.metadata=function(t,e){var i={apikey:this.session.apikey,url:t,headers:e};return this.session.policy&&this.session.signature&&(i.policy=this.session.policy,i.signature=this.session.signature),zt.post(this.cloudApiUrl+"/metadata",i).then((function(t){return t.data}))},t.prototype.tokInit=function(t){if("video"!==t&&"audio"!==t)throw new j("Type must be one of video or audio.");return zt.post(this.cloudApiUrl+"/recording/"+t+"/init").then((function(t){return t.data}))},t.prototype.tokStart=function(t,e,i){if("video"!==t&&"audio"!==t)throw new j("Type must be one of video or audio.");var n={apikey:e,session_id:i};return zt.post(this.cloudApiUrl+"/recording/"+t+"/start",n).then((function(t){return t.data}))},t.prototype.tokStop=function(t,e,i,n){if("video"!==t&&"audio"!==t)throw new j("Type must be one of video or audio.");var r={apikey:e,session_id:i,archive_id:n};return zt.post(this.cloudApiUrl+"/recording/"+t+"/stop",r).then((function(t){return t.data}))},t.prototype.currentAppUrl=function(){if(window.URLSearchParams){var t=new URLSearchParams(window.location.search);return t.set("fs-tab","init"),window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t.toString()}},t}(),ve=i(30);!function(t){t.PICKER="picker",t.TRANSFORM_UI="transform_ui"}(fe||(fe={}));var ye,_e,be=function(){function t(t){this.session=t instanceof xe?t.session:t}return t.prototype.getConfig=function(t){var e=t.pickerOptions,i=t.settings,n=t.permissions,r=t.events;return Object(h.b)(this,void 0,void 0,(function(){var t,o,a=this;return Object(h.d)(this,(function(s){return t={apikey:this.session.apikey},this.session.policy&&this.session.signature&&(t.security={policy:this.session.policy,signature:this.session.signature}),i=i?(i=i.concat(["inapp_browser"])).filter((function(t,e){return i.indexOf(t)===e})):["inapp_browser"],e&&Object.keys(e).length&&(o=Object(z.cleanUpCallbacks)(ve(Object(h.a)({},e)))),t=Object(h.a)(Object(h.a)({},t),{permissions:n,settings:i,picker_config:o,events:r}),this.session.prefetch=null,[2,zt.post(this.session.urls.uploadApiUrl+"/prefetch",t).then((function(t){if(200!==t.status)throw new j("There is a problem with prefetch request");var i=t.data;return i.updated_config?(i.pickerOptions=a.reassignCallbacks(e,i.updated_config||{}),delete i.updated_config):i.pickerOptions=e,a.session.prefetch=i,i}))]}))}))},t.prototype.reassignCallbacks=function(t,e){if(!t||0===Object.keys(t).length)return t;for(var i in t)"function"==typeof t[i]&&(e[i]=t[i]),t[i]===Object(t[i])&&(e[i]=this.reassignCallbacks(t[i],e[i]));return e},t}();!function(t){t.cw="CW",t.ccw="CCW"}(ye||(ye={})),function(t){t.inline="inline",t.overlay="overlay",t.dropPane="dropPane"}(_e||(_e={}));var we=function(){function t(t,e){var i=B(Rt)(e);if(i.errors.length)throw new j("Invalid picker params",i.errors,R.VALIDATION);this._initialized=this.loadModule(t,e)}return t.prototype.open=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().open()];case 2:return t.sent(),[2]}}))}))},t.prototype.crop=function(t){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().crop(t)];case 2:return e.sent(),[2]}}))}))},t.prototype.close=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().close()];case 2:return t.sent(),[2]}}))}))},t.prototype.cancel=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().cancel()];case 2:return t.sent(),[2]}}))}))},t.prototype.loadModule=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i;return Object(h.d)(this,(function(n){switch(n.label){case 0:return i=t.session.urls.pickerUrl,[4,a(l.PICKER,i)];case 1:return[2,new(n.sent())(t,e)]}}))}))},t}();O("addBreadcrumb",{category:"sdk",message:"filestack-js-sdk scope"});var xe=function(t){function e(e,i){var n=t.call(this)||this;if(n.options=i,n.forwardErrors=!0,i&&i.forwardErrors&&(n.forwardErrors=i.forwardErrors),!e||"string"!=typeof e||0===e.length)throw new Error("An apikey is required to initialize the Filestack client");var r=F;if(n.session={apikey:e,urls:r},i){var o=i.cname,a=i.security;n.setSecurity(a),n.setCname(o)}return n.prefetchInstance=new be(n.session),n.cloud=new ge(n.session,i),n}return Object(h.c)(e,t),Object.defineProperty(e.prototype,"utils",{get:function(){return z},enumerable:!0,configurable:!0}),e.prototype.prefetch=function(t){return this.prefetchInstance.getConfig(t)},e.prototype.setSecurity=function(t){if(t&&(!t.policy||!t.signature))throw new j("Both policy and signature are required for client security");t&&t.policy&&t.signature&&(this.session.policy=t.policy,this.session.signature=t.signature)},e.prototype.setCname=function(t){t&&0!==t.length&&(this.session.cname=t,this.session.urls=z.resolveHost(this.session.urls,t))},e.prototype.logout=function(t){return this.cloud.logout(t)},e.prototype.metadata=function(t,e,i){return function(t,e,i,n){if(!e||"string"!=typeof e)throw new j("A valid Filestack handle is required for metadata");var r=B(Ft)(i);if(r.errors.length)throw new j("Invalid metadata params",r.errors);var o=Object(h.a)({},i);o.source_url=o.sourceUrl,o.policy=n&&n.policy||t.policy,o.signature=n&&n.signature||t.signature;var a=t.urls.fileApiUrl+"/"+e+"/metadata";return new Promise((function(t,i){zt.get(a,{params:Object(z.removeEmpty)(o),filestackHeaders:!1}).then((function(i){return t(Object(h.a)(Object(h.a)({},i.data),{handle:e}))})).catch(i)}))}(this.session,t,e,i)},e.prototype.picker=function(t){return function(t,e){return new we(t,e)}(this,t)},e.prototype.preview=function(t,e){return function(t,e,i){if(!e||"string"!=typeof e)throw new Error("A valid Filestack handle or storage alias is required for preview");var n=B(It)(i);if(n.errors.length)throw new j("Invalid preview params",n.errors,R.VALIDATION);var r=Object(z.removeEmpty)(i||{}),o=function(t,e,i,n){var r=Object(h.a)({},i),o=t.policy,a=t.signature,s=a&&o,l=[t.urls.cdnUrl],c=r.css&&encodeURIComponent('"'+r.css+'"'),u=c?"preview=css:"+c:"preview";return-1!==e.indexOf("src:")?l.push(t.apikey+"/"+u):l.push(u),s&&l.push("security=policy:"+o+",signature:"+a),l.push(e),l.join("/")}(t,e,r);if(r&&r.id){var a=r.id,s=document.createElement("iframe"),l=document.getElementById(a);if(s.src=o,s.width="100%",s.height="100%",!l)throw new Error('DOM Element with id "'+a+'" not found.');return l.appendChild(s)}return window.open(o,e)}(this.session,t,e)},e.prototype.remove=function(t,e){return Gt(this.session,t,!1,e)},e.prototype.removeMetadata=function(t,e){return Gt(this.session,t,!0,e)},e.prototype.storeURL=function(t,e,i,n,r,o,a){return function(t){var e=t.session,i=t.url,n=t.storeParams,r=t.token,o=t.security,a=t.uploadTags,s=t.headers,l=t.workflowIds;if(!i||"string"!=typeof i)return Promise.reject(new j("url is required for storeURL"));var c=B(Ot)(n);if(c.errors.length)return Promise.reject(new j("Invalid store params",c.errors));e.policy=o&&o.policy||e.policy,e.signature=o&&o.signature||e.signature;var u=new Pt(i,e.apikey);u.store(n),e.policy&&e.signature&&u.security({policy:e.policy,signature:e.signature});var d={};if(r){var p=new qt;r.cancel=p.cancel.bind(p),d.cancelToken=p}var f=[i];return s&&(f=[{source:i,headers:s}]),l&&l.length>0&&u.addTask("store",{workflows:l}),zt.post(e.urls.processUrl+"/process",{apikey:e.apikey,sources:f,tasks:u.getTasks(),upload_tags:a},d).then((function(t){if(t.data&&t.data.handle)return t.data.upload_tags&&(t.data.uploadTags=t.data.upload_tags,delete t.data.upload_tags),Object(h.a)(Object(h.a)({},t.data),{mimetype:t.data.type});throw new j("Invalid store response "+JSON.stringify(t.data))}))}({session:this.session,url:t,storeParams:e,token:i,security:n,uploadTags:r,headers:o,workflowIds:a})},e.prototype.retrieve=function(t,e,i){return function(t,e,i,n){if(void 0===i&&(i={}),!e||0===e.length||"string"!=typeof e)throw new j("File handle is required");console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");var r=B(jt)(i);if(r.errors.length)throw new j("Invalid retrieve params",r.errors);var o=Object(h.a)({},i);o.key=t.apikey,o.policy=n&&n.policy||t.policy,o.signature=n&&n.signature||t.signature;var a,s,l=Ut.a.GET;if(o.head&&(l=Ut.a.HEAD,delete o.head),o.extension&&o.extension.length&&(a=o.extension,delete o.extension),o.metadata){if(l===Ut.a.HEAD)throw new j("Head and metadata options cannot be used together");s=o.metadata,delete o.metadata}var c=t.urls.fileApiUrl+"/"+e+(a?"+"+a:"")+(s?"/metadata":"");return new Promise((function(t,e){zt.dispatch(c,{method:l,filestackHeaders:!1,params:Object(z.removeEmpty)(o)}).then((function(e){return t(l===Ut.a.HEAD?e.headers:e.data)})).catch(e)}))}(this.session,t,e,i)},e.prototype.download=function(t,e){return function(t,e,i){var n=new Pt(e,t.apikey),r=i&&i.policy||t.policy,o=i&&i.signature||t.signature;return r&&o&&n.security({signature:o,policy:r}),zt.dispatch(n.toString(),{method:Ut.a.GET,blobResponse:!0})}(this.session,t,e)},e.prototype.transform=function(t,e,i){return void 0===i&&(i=!1),Xt(this.session,t,e,i)},e.prototype.upload=function(t,e,i,n,r){var o=this,a=new he(e,i);return a.setSession(this.session),n&&a.setToken(n),r&&a.setSecurity(r),a.on("start",(function(){return o.emit("upload.start")})),a.on("error",(function(t){o.forwardErrors&&N((function(n){n.setTag("filestack-apikey",o.session.apikey),n.setTag("filestack-version",z.getVersion()),n.setExtra("filestack-options",o.options),n.setExtras({uploadOptions:e,storeOptions:i,details:t.details}),t.message="FS-"+t.message,I(t)})),o.emit("upload.error",t)})),a.upload(t)},e.prototype.multiupload=function(t,e,i,n,r){var o=this,a=new he(e,i);return a.setSession(this.session),n&&a.setToken(n),r&&a.setSecurity(r),a.on("start",(function(){return o.emit("upload.start")})),a.on("error",(function(t){N((function(n){n.setTag("filestack-apikey",o.session.apikey),n.setTag("filestack-version",z.getVersion()),n.setExtra("filestack-options",o.options),n.setExtras(t.details),n.setExtras({uploadOptions:e,storeOptions:i}),I(t)})),o.emit("upload.error",t)})),a.multiupload(t)},e}(d.EventEmitter),Me=function(t,e){return new xe(t,e)},Se=Me,ke="3.25.0";s(l.FILESTACK_SDK,Me,{version:"3.25.0"})},,function(t,e,i){(function(t){i.d(e,"a",(function(){return l}));var n=i(9),r=i(13),o={nowSeconds:function(){return Date.now()/1e3}},a=Object(r.b)()?function(){try{return Object(r.a)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=Object(n.b)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},l=o.nowSeconds.bind(o);s.nowSeconds.bind(s),function(){var t=Object(n.b)().performance;t&&(t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now())}()}).call(this,i(51)(t))},function(t,e,i){(function(t){i.d(e,"a",(function(){return o}));var n=i(0),r=(i(22),i(4));function o(t){var e,i;if(Object(r.e)(t)){var a=t,s={};try{for(var l=Object(n.f)(Object.keys(a)),c=l.next();!c.done;c=l.next()){var u=c.value;void 0!==a[u]&&(s[u]=o(a[u]))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return s}return Array.isArray(t)?t.map(o):t}i(32),i(31),i(10)}).call(this,i(14))}]),_filestack$Filestack=filestack.Filestack,_filestack$init=filestack.init,_filestack$version=filestack.version,_filestack$EAlignOptions=filestack.EAlignOptions,_filestack$EAlignFacesOptions=filestack.EAlignFacesOptions,_filestack$EFitOptions=filestack.EFitOptions,_filestack$EBlurMode=filestack.EBlurMode,_filestack$EShapeType=filestack.EShapeType,_filestack$ENoiseType=filestack.ENoiseType,_filestack$EStyleType=filestack.EStyleType,_filestack$EColorspaceType=filestack.EColorspaceType,_filestack$ECropfacesType=filestack.ECropfacesType,_filestack$ESmartCropMode=filestack.ESmartCropMode,_filestack$EImageWatermarkPosition=filestack.EImageWatermarkPosition,_filestack$EVideoTypes=filestack.EVideoTypes,_filestack$EUrlscreenshotAgent=filestack.EUrlscreenshotAgent,_filestack$EUrlscreenshotMode=filestack.EUrlscreenshotMode,_filestack$EUrlscreenshotOrientation=filestack.EUrlscreenshotOrientation,_filestack$EVideoLocations=filestack.EVideoLocations,_filestack$EVideoAccess=filestack.EVideoAccess,_filestack$EVideoAccessMode=filestack.EVideoAccessMode,_filestack$transform=filestack.transform,_filestack$Align=filestack.Align,_filestack$FitOptions=filestack.FitOptions,_filestack$BlurMode=filestack.BlurMode,_filestack$ShapeType=filestack.ShapeType,_filestack$NoiseType=filestack.NoiseType,_filestack$StyleType=filestack.StyleType,_filestack$ColorspaceType=filestack.ColorspaceType,_filestack$CropfacesType=filestack.CropfacesType,_filestack$ImageWatermarkPosition=filestack.ImageWatermarkPosition,_filestack$SmartCropMode=filestack.SmartCropMode,_filestack$VideoTypes=filestack.VideoTypes,_filestack$URLScreenshotAgent=filestack.URLScreenshotAgent,_filestack$URLScreenshotMode=filestack.URLScreenshotMode,_filestack$URLScreenshotOrientation=filestack.URLScreenshotOrientation,_filestack$Locations=filestack.Locations,_filestack$VideoAccess=filestack.VideoAccess,_filestack$VideoAccessMode=filestack.VideoAccessMode,_filestack$EnhancePreset=filestack.EnhancePreset,_filestack$Filelink=filestack.Filelink,_filestack$FilestackErrorType=filestack.FilestackErrorType,_filestack$FsHttpMethod=filestack.FsHttpMethod,_filestack$FsRequest=filestack.FsRequest,_filestack$FsRequestErrorCode=filestack.FsRequestErrorCode,_filestack$FsRequestError=filestack.FsRequestError,_filestack$FsCancelToken=filestack.FsCancelToken,_filestack$resolveCdnUrl=filestack.resolveCdnUrl,_filestack$resolveHost=filestack.resolveHost,_filestack$removeEmpty=filestack.removeEmpty,_filestack$uniqueTime=filestack.uniqueTime,_filestack$uniqueId=filestack.uniqueId,_filestack$extensionToMime=filestack.extensionToMime,_filestack$sanitizeName=filestack.sanitizeName,_filestack$filterObject=filestack.filterObject,_filestack$cleanUpCallbacks=filestack.cleanUpCallbacks,_filestack$md5=filestack.md5,_filestack$b64=filestack.b64,_filestack$getVersion=filestack.getVersion,_filestack$isMobile=filestack.isMobile,_filestack$isFacebook=filestack.isFacebook,_filestack$TransformSchema=filestack.TransformSchema,_filestack$getSecurity=filestack.getSecurity,_filestack$validateWebhookSignature=filestack.validateWebhookSignature,_filestack$Client=filestack.Client,_filestack$FilestackError=filestack.FilestackError,_filestack$PickerDisplayMode=filestack.PickerDisplayMode,_filestack$getMimetype=filestack.getMimetype,_filestack$PrefetchEvents=filestack.PrefetchEvents}.call(this,__webpack_require__(639).Buffer)},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i(640),r=i(641),o=i(642);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,i)}function c(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(e,i),r=(t=s(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|p(e.length);return 0===(t=s(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=s(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|p(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return T(this,e,i);case"ascii":return C(this,e,i);case"latin1":case"binary":return E(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function v(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):y(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,i,n,r){var o,a=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(o=i;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(t,o+d)!==c(e,d)){h=!1;break}if(h)return o}return-1}function _(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[i+a]=s}return a}function b(t,e,i,n){return H(Y(e,t.length-i),t,i,n)}function w(t,e,i,n){return H(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function x(t,e,i,n){return w(t,e,i,n)}function M(t,e,i,n){return H(V(e),t,i,n)}function S(t,e,i,n){return H(function(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function T(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,a,s,l,c=t[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=i)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return c(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return u(e),e<=0?s(t,e):void 0!==i?"string"==typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,r),u=t.slice(e,i),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return w(this,t,e,i);case"latin1":case"binary":return x(this,t,e,i);case"base64":return M(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function E(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function A(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=U(t[o]);return r}function L(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function D(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,n,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function O(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function I(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function N(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,n,o){return o||N(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function F(t,e,i,n,o){return o||N(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<i&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return F(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return F(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var a=l.isBuffer(t)?t:Y(new l(t,n).toString()),s=a.length;for(o=0;o<i-e;++o)this[o+e]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,i(51))},function(t,e,i){"use strict";e.byteLength=function(t){var e=c(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=c(t),a=n[0],s=n[1],l=new o(function(t,e,i){return 3*(e+i)/4-i}(0,a,s)),u=0,h=s>0?a-4:a;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===s&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[u++]=255&e);1===s&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var r,o,a=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[i+p]=255&a,p+=f,a/=256,c-=8);t[i+p-f]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){(function(e){var n=i(5),r=i(13);t.exports=r.extend({initialize:function(t){t=t||{},r.prototype.initialize.call(this,n.extend(t,{modalBody:e.div({class:"text-center bulk-actions-modal"},e.h3("An Error Occurred"),e.p("An error occurred, please reload the page.")),primaryActionLabel:"Reload",primaryActionClass:"thin-button",onPrimaryAction:this.handleReloadClick.bind(this),disableSecondaryAction:!0}))},handleReloadClick:function(t){return window.location.reload(),!0}})}).call(this,i(4))},,,function(t,e,i){(function(t){var i,n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT  Zeno Rocha
 */o=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=c(i(1)),s=c(i(3)),l=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===n(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return h("action",t)}},{key:"defaultTarget",value:function(t){var e=h("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return h("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach((function(t){i=i&&!!document.queryCommandSupported(t)})),i}}]),e}(s.default);function h(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=u},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(2),l=(n=s)&&n.__esModule?n:{default:n},c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,l.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,l.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function r(){n.off(t,r),e.apply(i,arguments)}return r._=e,this.on(t,r,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var o=0,a=n.length;o<a;o++)n[o].fn!==e&&n[o].fn._!==e&&r.push(n[o]);return r.length?i[t]=r:delete i[t],this}},t.exports=i},function(t,e,i){var n=i(5),r=i(6);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}(t,e,i);if(n.nodeList(t))return function(t,e,i){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,i)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,i)}))}}}(t,e,i);if(n.string(t))return function(t,e,i){return r(document.body,t,e,i)}(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var n=i(7);function r(t,e,i,n,r){var a=o.apply(this,arguments);return t.addEventListener(i,a,r),{destroy:function(){t.removeEventListener(i,a,r)}}}function o(t,e,i,r){return function(i){i.delegateTarget=n(i.target,e),i.delegateTarget&&r.call(t,i)}}t.exports=function(t,e,i,n,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,i,n,o)})))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},"object"===a(e)&&"object"===a(t)?t.exports=o():(n=[],void 0===(r="function"==typeof(i=o)?i.apply(e,n):i)||(t.exports=r))}).call(this,i(88)(t))},function(t,e,i){(function(i){var n,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r=[],void 0===(o="function"==typeof(n=function(){"use strict";function e(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==("undefined"==typeof window?"undefined":a(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":a(self))&&self.self===self?self:"object"==(void 0===i?"undefined":a(i))&&i.global===i?i:void 0,s=o.saveAs||("object"!=("undefined"==typeof window?"undefined":a(window))||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,a){var s=o.URL||o.webkitURL,l=document.createElement("a");i=i||t.name||"download",l.download=i,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):n(l.href)?e(t,i,a):r(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=a(e)&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){r(s)}))}}:function(t,i,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,n);var s="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l)&&"object"==("undefined"==typeof FileReader?"undefined":a(FileReader))){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var h=o.URL||o.webkitURL,d=h.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?n.apply(e,r):n)||(t.exports=o)}).call(this,i(51))},function(t,e,i){(function(e,n){var r=i(5),o=i(3),a=i(8).API_ROOT,s=i(25).ANNOTATION_SPINNER_DELAY,l=i(23),c=l.convertToCSVData,u=l.convertToHTMLData,h=l.exportFile,d=l.getExportFilename,p=l.renderAnnotationTargetRows,f=l.renderExportCompleteScreen,m=l.renderExportTypeScreen,g=l.renderNoAnnotationsMessage,v=l.renderSpinner,y=i(112);t.exports=o.View.extend({className:"annotation-list-export-view dialog-container",events:{"click #all-annotations-export-list-btn":"handleExportListClick","click #export-annotations-list-close-btn":"handleCloseClick","click #export-file-type-select-back-btn":"handleBackClick","click #export-file-type-select-export-btn":"handleExportClick"},initialize:function(t){if(this.options=t,!t.collection)throw"Requires a AnnotationTargetCollection as collection option";if(!t.sphereModel)throw"Requires a sphereModel option";this.sphereModel=t.sphereModel,this.uploadEmbed=new y({upload:this.sphereModel.get("uuid")}),this.createAnnotationsListViewAndExportButton()},createAnnotationsListViewAndExportButton:function(){if(e(".modal-title").text("ANNOTATIONS"),e(this.el).empty(),this.collection.models.length>0){var t=n.div({class:"all-annotations-container list-group overflow-auto"});p({container:t,annotationTargets:this.collection.models}),t.appendTo(this.el)}else g({container:this.el});var i=n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"export-annotations-list-close-btn"},"CLOSE"));this.collection.models.length>0&&n.button({class:"pill-button",id:"all-annotations-export-list-btn"},"EXPORT LIST").appendTo(i),i.appendTo(this.el)},handleCloseClick:function(){e(".close").trigger("click")},handleExportListClick:function(){var t=m({container:this.el,user:user}).select;this.exportTypeSelect=t},handleExportClick:function(){switch(this.exportTypeSelect.value){case"CSV":this.exportCSV();break;case"HTML":this.exportHTML();break;case"XLSX":this.exportXLSX();break;default:return}v({container:this.el})},handleBackClick:function(t){this.createAnnotationsListViewAndExportButton()},getExportData:function(){var t=this;return r.map(this.collection.models,(function(e){return{annotationTarget:e,upload:t.options.sphereModel}}))},exportCSV:function(){var t=this.getExportData();analytics.track("Export Annotations",{export_format:"CSV",annotation_count:t.length,is_collection:!1}),this.exportGeneric({contentType:"text/csv;charset=utf-8;",dataFunc:function(){return c({data:t})},fileExtension:"csv"})},exportHTML:function(){var t=this.getExportData();analytics.track("Export Annotations",{annotation_count:t.length,export_format:"HTML",is_collection:!1}),this.exportGeneric({contentType:"text/html;charset=utf-8;",dataFunc:function(){return u({data:t})},fileExtension:"html"})},exportXLSX:function(){analytics.track("Export Annotations",{export_format:"XLSX",annotation_count:this.collection.models.length,is_collection:!1}),setTimeout(function(){var t=d("xlsx"),e=function(){var e=this.options.sphereModel.get("uuid");window.open("".concat(a,"upload/").concat(e,"/annotations/xlsx?filename=").concat(t))}.bind(this);f({container:this.el,fileExtension:"xlsx",filename:t,handler:e})}.bind(this),s)},exportGeneric:function(t){var e=t.contentType,i=t.dataFunc,n=t.fileExtension;this.uploadEmbed.save({active:!0},{success:function(){setTimeout(function(){var t=d(n);f({container:this.el,fileExtension:n,filename:t,handler:function(){return h({contentType:e,data:i(),filename:t})}})}.bind(this),s)}.bind(this),error:function(){console.error("Failed to mark the UploadEmbed as active."),this.createAnnotationsListViewAndExportButton()}.bind(this)})}})}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=i(3),c=i(79),u=i(25),h=u.ANNOTATION_MODE_CREATE,d=u.ANNOTATION_MODE_EDIT,p=u.ANNOTATION_THUMBNAIL_HEIGHT,f=u.RENDER_MODES,m=u.ANNOTATION_THUMBNAIL_WIDTH,g=u.ANNOTATION_TYPES,v=u.RENDER_SIZES,y=u.FILE_SIZE_LIMITS,_=u.SUPPORTED_ATTACHMENT_TYPES,b=u.SUPPORTED_ANNOTATION_TYPES,w=u.RENDER_MODES_LABELS,x=u.ANNOTATION_FORM_METADATA,M=i(29),S=M.ANNOTATION_CREATE_CANCELED,k=M.ANNOTATION_EDIT_CANCELED,T=M.ANNOTATION_MARKER_CHANGED,C=M.ANNOTATION_SAVED,E=M.ANNOTATION_MEDIA_ADDED,A=M.ANNOTATION_MEDIA_REMOVED,L=M.REFRESH_ANNOTATION_MEDIA_VIEW,D=i(23),P=D.mimeTypesToRegEx,O=D.getAttachmentOptions,I=i(8).TIERS,N=i(13),R=i(156).getRootFolder,F=i(340),j=i(89),U=i(155),Y=i(154),V=i(656),H=i(347),B=i(661),z=i(348),W=i(665);t.exports=l.View.extend({className:"panel-contents",events:{"click #annotation-attachment":"openAttachmentPickerOverlay","click .btn-save":"handleSaveAnnotation","click button.btn-cancel":"handleCancel","click button.close":"handleClose","change #annotation-marker-id":"handleMarkerChanged","keydown #annotation-title":"handleTextInputKeyDown","keydown .annotation-media-text":"handleTextInputKeyDown","change #render-mode":"handleRenderModeChanged","change #annotation-type":"handleAnnotationTypeChanged","focus #annotation-type":"handleAnnotationTypeFocused","click a.upload-selector":"handleUploadSelectorClicked"},isSaving:!1,annotationForm:null,renderMode:null,renderSize:null,annotationType:null,previewImage:null,initializeForCreate:function(){this.media=new U,this.previewImage=new j,this.title="Add Annotation",this.renderMode=f.DEFAULT,this.annotationType=g.DEFAULT,this.renderSize=null},initializeForEdit:function(){var t=this.model.get("annotation"),i=this.model.get("annotation_marker");this.media=t.get("media"),t.get("preview_image_media")?this.previewImage=t.get("preview_image_media"):this.previewImage=new j,this.title="Edit Annotation",e(this.markerSelect).val(i.get("uuid")),this.renderMode=t.renderMode(),this.annotationType=t.annotationType(),e(this.renderModeSelect).val(this.renderMode),e(this.annotationTypeSelect).val(this.annotationType),t.renderSize()&&e(this.renderSizeSelect).val(t.renderSize()),e(this.openInNewWindowCheckbox).prop("checked",!0===t.get("open_in_new_window"))},initialize:function(t){var e=this;if(!(t=t||{}).annotationMarkerCollection)throw new Error("CreateOrEditAnnotationPanelView requires option annotationMarkerCollection");if(!t.annotationTargetCollection)throw new Error("CreateOrEditAnnotationPanelView requires option annotationTargetCollection");if(this.annotationTargetCollection=t.annotationTargetCollection,!t.panel)throw new Error("CreateOrEditAnnotationPanelView requires option panel");if(this.panel=t.panel,!t.mode)throw new Error("CreateOrEditAnnotationPanelView requires option mode");if(this.mode=t.mode===d?d:h,this.isEditMode()&&!t.model)throw new Error("CreateOrEditAnnotationPanelView requires option model for edit mode");if(!this.isEditMode()&&!t.viewOptions)throw new Error("CreateOrEditAnnotationPanelView requires option viewOptions for create mode");if(this.viewOptions=t.viewOptions,this.thumbnailWidth="thumbnailWidth"in t?t.thumbnailWidth:m,this.thumbnailHeight="thumbnailHeight"in t?t.thumbnailHeight:p,this.user="user"in t?t.user:null,!t.upload)throw new Error("CreateOrEditAnnotationPanelView requires option upload");this.upload=t.upload,this.fileStackClient=c.helpers.getFilestackClient();var i=new W({annotationMarkerCollection:t.annotationMarkerCollection,user:this.user,upload:this.upload,listeners:[this.panel]});i.$el.attr("id","annotation-marker-id"),this.markerSelect=i.el,this.renderModeSelect=n.select({class:"form-control form-control-sm",id:"render-mode"}),Object.entries(f).forEach((function(t){var i=a(t,2),r=i[0],o=i[1];n.option({value:o},w[r]).appendTo(e.renderModeSelect)})),this.annotationTypeSelect=n.select({class:"form-control form-control-sm",id:"annotation-type"});var s=this.getAnnotationTypesForAccountTier();Object.entries(g).forEach((function(t){var i=a(t,2),r=(i[0],i[1]);if(r!==g.DEFAULT){var o=s.includes(r)?x[r].label:x[r].upsellLabel||x[r].label;(r!==g.NAVIGATION||window.M360FeatureFlags&&!0===window.M360FeatureFlags["navigation-hotspots"])&&n.option({value:r},o).appendTo(e.annotationTypeSelect)}}));var u=this.isEditMode()?this.model.get("annotation"):null,y=this.isEditMode()?u.get("navigation_hotspot"):null;this.selectedUpload=this.isEditMode()&&u.get("annotation_type")===g.NAVIGATION&&y&&y.upload&&null===y.upload.deleted?new l.Model(this.model.get("annotation").get("navigation_hotspot").upload):new l.Model({}),this.listenTo(this.selectedUpload,"change",this.handleSelectedUploadChanged.bind(this)),this.renderSizeSelect=n.select({class:"form-control form-control-sm",id:"render-size"}),Object.entries(v).forEach((function(t){var i=a(t,2),s=(i[0],i[1]);n.option(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({value:s.label},"selected"in s?{selected:"selected"}:{}),s.label).appendTo(e.renderSizeSelect)})),this.openInNewWindowCheckbox=n.input({class:"form-check-input",type:"checkbox",value:"1",id:"open-in-new-window"}),this.isEditMode()?this.initializeForEdit():this.initializeForCreate(),this.mediaCollectionView=new H({collection:this.media,editMode:!0,filterMimeTypes:this.filterMimeTypes.bind(this),annotationType:this.getFormAnnotationType()}),this.mediaCollectionView.$el.addClass("annotation-media-collection-view"),this.listenTo(this.mediaCollectionView,E,this.handleAnnotationMediaAdded.bind(this)),this.listenTo(this.mediaCollectionView,A,this.handleAnnotationMediaRemoved.bind(this)),this.previewImagePickerView=new B({model:this.previewImage}),n.div({class:"header"},n.h5(this.title),n.button({class:"close"},"")).appendTo(this.el),this.annotationForm=n.div({class:"body annotation-form"},n.form(n.div({class:window.M360FeatureFlags&&!0===window.M360FeatureFlags["annotation-hotspots"]?"form-group":"form-group d-none"},n.div({class:"annotation-form-section-title"},"Type ",n.i({class:"fal fa-question-circle tt-annotation-type","aria-hidden":"true","data-toggle":"tooltip","data-placement":"top",title:"Switch between Annotation Types"})),this.renderModeSelect),n.div({class:"form-group d-none"},n.div({class:"annotation-form-section-title"},"Hotspot Type ",n.i({class:"fal fa-question-circle tt-hotspot-type","aria-hidden":"true","data-toggle":"tooltip","data-placement":"top",title:"Each hotspot type displays differently; click for specifics"}),n.p({class:"hotspot-upsell-message d-none"},n.a({href:"/billing/upgrade/"},"Upgrade")," to enable HTML, Video, and Audio hotspots. ",n.a({href:"https://help.momento360.com/article/110-hotspot-annotation-types",target:"_blank"},"Learn more"),".")),this.annotationTypeSelect),n.div({class:"form-group"},n.input({class:"form-control form-control-sm",id:"annotation-title",placeholder:"Title",value:this.isEditMode()?this.model.get("annotation").get("title"):""})),n.div({class:"form-group"},n.textarea({class:"form-control form-control-sm",id:"annotation-description",placeholder:"Description"},this.isEditMode()?this.model.get("annotation").get("description"):"")),n.div({class:"form-group navigation-hotspot d-none"},n.div({class:"annotation-form-section-title"},"Target 360"),this.renderTargetUploadPreviewOrLink()),n.div({class:"form-group d-none"},"Display Size",this.renderSizeSelect),n.div({class:"form-check d-none"},this.openInNewWindowCheckbox,n.label({class:"form-check-label",for:"open-in-new-window"},"Open link in new tab")),n.div({class:"form-group"},n.div({class:"annotation-form-section-title"},"Marker Shape"),this.markerSelect),this.mediaCollectionView.el,n.div({class:"attachment-link-section"},n.a({class:"annotation-add-attachment",id:"annotation-attachment",href:"#"},"Add attachment"),n.i({class:"fal fa-question-circle tt-annotation-attachment","aria-hidden":"true","data-toggle":"tooltip","data-placement":"top",title:"Click to upload media & attachments"})),n.div({class:"preview-image-link-section d-none"},this.previewImagePickerView.el),n.div({class:"error-section d-none"},n.span({class:"icon icon-exclamation-circle"}),n.span({class:"error-text"})),n.div({class:"button-group"},n.button({class:"btn btn-cancel thin-light-button"},"Cancel"),n.button({class:"btn btn-save thin-light-button"},"Save")))),this.annotationForm.appendTo(this.el),this.handleRenderModeChanged()},isEditMode:function(){return this.mode===d},renderTargetUploadPreviewOrLink:function(){if(this.selectedUpload.get("uuid")){var t=this.selectedUpload.has("video_sphere")?this.selectedUpload.get("video_sphere"):this.selectedUpload.get("photo_sphere");return[n.div({class:"selected-upload"},n.img({class:"media-small-square",src:t.small_square_thumbnail_url}),n.span({class:"media-caption"},this.selectedUpload.get("caption"))),n.a({class:"upload-selector",href:"#"},"Click to change target")]}return n.a({class:"upload-selector",href:"#"},"Select")},handleSelectedUploadChanged:function(t){var e=this.$el.find("a.upload-selector").first().parents(".form-group").first();e.find("a.upload-selector, .selected-upload").remove(),e.append(this.renderTargetUploadPreviewOrLink());var i=this.$el.find("#annotation-title");i.val().trim().length<1&&i.val(t.get("caption"))},handleTargetSelected:function(t,e){return this.selectedUpload.clear({silent:!0}).set(e.attributes),!0},handleUploadSelectorClicked:function(t){var e=this;t.preventDefault(),R().then((function(t){var i=new l.Model({}),r=new z({rootFolder:t,model:i,emptyTitle:"Select the target 360",emptyBody:n.ul({class:"instructions"},n.li("1. Select the Folder from the dropdown above"),n.li("2. Scroll and choose the 360 from the list on the left"),n.li('3. Click "Select" button')),startingFolderUuid:e.upload.get("folder_uuid")});new N({size:"xl",title:"Select Target",primaryActionLabel:"Select",secondaryActionLabel:"Cancel",onPrimaryAction:e.handleTargetSelected.bind(e),modalBody:r.el,verticalPosition:"top",model:i,modalDialogClass:"upload-selector-modal"}).open()}))},handleAnnotationMediaAdded:function(){this.handleAnnotationTypeChanged()},handleAnnotationMediaRemoved:function(){this.handleAnnotationTypeChanged()},handleAnnotationTypeFocused:function(t){var i=e(t.currentTarget);i.data("previous",i.val())},parseAndLoadSelectedUploadIfPresent:function(){var t=this,e=this.$el.find("#annotation-description").val().trim().match(/(?:\/#ud|\/e\/u)\/([A-Fa-f0-9]+)/);if(e){var i=e[1],n=c.constants.API_ROOT+"upload/"+encodeURI(i);c.helpers.fetchJson(n).then((function(e){t.selectedUpload.clear({silent:!0}).set(e)}))}},handleAnnotationTypeChanged:function(){var t=this.$el.find("#annotation-type"),e=t.data("previous"),i=t.val();e&&!this.getAnnotationTypesForAccountTier().includes(i)?(this.$el.find(".hotspot-upsell-message").removeClass("d-none"),t.val(e),i=e,analytics.track("Show Hotspots Upsell")):this.$el.find(".hotspot-upsell-message").addClass("d-none"),this.clearFormErrorMessages(),this.annotationType=this.getFormAnnotationType();var n=this.annotationType!==g.NAVIGATION;this.$el.find(".form-group.navigation-hotspot").toggleClass("d-none",n),this.setAnnotationFormPlaceholderText(this.annotationType);var r=!0===x[this.annotationType].supportsRenderSizes,o=this.getFormRenderMode()===f.HOTSPOT&&r;this.$el.find("#render-size").parents(".form-group").toggleClass("d-none",!o);var a=!0===x[this.annotationType].supportsPreviewImage;this.$el.find(".preview-image-link-section").toggleClass("d-none",!a);var s=this.addAttachmentLinkVisible(this.annotationType),l=O(this.annotationType),c=null!==l,u=c?l.label:O(g.DEFAULT).label;this.$el.find(".attachment-link-section").toggleClass("d-none",!s).find("#annotation-attachment").html(u),this.mediaCollectionView.$el.toggleClass("d-none",!c),this.mediaCollectionView.setAnnotationType(this.annotationType),this.mediaCollectionView.trigger(L);var h=this.annotationType===g.URL;this.$el.find("#open-in-new-window").parents(".form-check").toggleClass("d-none",!h),t.data("previous",i),i===g.NAVIGATION&&this.parseAndLoadSelectedUploadIfPresent()},addAttachmentLinkVisible:function(t){var e=O(t);if(null===e)return!1;if(e.multiple)return!0;var i="validate"+t[0].toUpperCase()+t.substr(1)+"HotspotContent";return i in this&&"function"==typeof this[i]?!this[i]().success:(console.warn("Validate method not defined for annotation type ".concat(t)),!1)},inferAnnotationType:function(){return this.media.models.length<1?this.getFormAnnotationType():Object.values(g).find(function(t){return null!==O(t)&&(t!==g.DEFAULT&&this.filterMimeTypes(this.media.models[0],t))}.bind(this))},setAnnotationFormPlaceholderText:function(t){var e=t in x?x[t].titlePlaceholder:"Title",i=t in x?x[t].descriptionPlaceholder:"Description";this.$el.find("#annotation-title")[0].placeholder=e,this.$el.find("#annotation-description")[0].placeholder=i},handleRenderModeChanged:function(){this.clearFormErrorMessages(),this.renderMode=this.getFormRenderMode();var t=this.$el.find("#annotation-type");t.parents(".form-group").toggleClass("d-none",this.renderMode===f.DEFAULT),this.renderMode===f.HOTSPOT&&t.val(this.inferAnnotationType()),this.handleAnnotationTypeChanged()},getFormRenderMode:function(){return this.$el.find("#render-mode").val()},getFormAnnotationType:function(){var t=this.$el.find("#annotation-type").val();return this.getFormRenderMode()===f.DEFAULT?g.DEFAULT:Object.values(g).includes(t)?t:g.IMAGE},getFormRenderSize:function(){var t=this.$el.find("#render-size").val(),e=this.getFormAnnotationType();return!0===x[e].supportsRenderSizes?t:null},getFormOpenInNewWindow:function(){var t=this.$el.find("#open-in-new-window:checked").length>0;return this.getFormAnnotationType()===g.URL&&t},handleCancel:function(t){t&&t.preventDefault(),this.isEditMode()?(this.mediaCollectionView.restoreOriginalCollection(),this.handleClose()):(this.panel.close(),this.panel.trigger(S))},handleClose:function(t){this.isEditMode()?this.panel.trigger(k,this.model):this.panel.trigger(S)},handleMarkerChanged:function(){var t=this.$el.find("#annotation-marker-id").val();this.panel.trigger(T,t)},handleTextInputKeyDown:function(t){t&&(13===t.keyCode?(t.preventDefault(),e(t.currentTarget).parents(".body").find(".btn-save").trigger("click")):27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e(t.currentTarget).parents(".panel-contents").find(".close").trigger("click")))},saving:function(t){this.isSaving=!0===t,this.isSaving?(this.$el.find(".btn-cancel, .btn-save").attr("disabled","disabled"),this.$el.find(".btn-save").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Saving&hellip;')):(this.$el.find(".btn-cancel, .btn-save").removeAttr("disabled"),this.$el.find(".btn-save").html("Save").find(".spinner-border").remove())},handleSaveAnnotation:function(t){t&&t.preventDefault(),this.isSaving||this.validateFormFieldsForSave()&&(this.saving(!0),this.isEditMode()?this.saveForEdit():this.saveForCreate())},validateFormFieldsForSave:function(){this.clearFormErrorMessages();var t=!0,e=this.getFormAnnotationType(),i=this.$el.find("#annotation-title");if(i.val().trim().length<1&&(this.renderMode===f.DEFAULT?i.val("Untitled Annotation"):e===g.NAVIGATION&&this.selectedUpload.get("uuid")?i.val(this.selectedUpload.get("caption")):i.val("Untitled Hotspot")),this.renderMode===f.HOTSPOT){var n,r="validate"+e[0].toUpperCase()+e.substr(1)+"HotspotContent";if(!r in this||"function"!=typeof this[r])throw new Error("Annotation type [".concat(e,"] is invalid"));(t=(n=this[r]()).success)||this.$el.find(".error-section").removeClass("d-none").find(".error-text").text(n.errMessage)}return t},clearFormErrorMessages:function(){this.$el.find(".error-section").addClass("d-none").find(".error-text").html("")},filterMimeTypes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||this.getFormAnnotationType();var i=O(e);if(!i||!("accept"in i))return!0;var n=i.accept,r=t.get("content_type");return null!==r.match(P(n))},hasRequiredMedia:function(t){var e=this;return this.media.models.filter((function(i){return e.filterMimeTypes(i,t)})).length>0},validateImageHotspotContent:function(){var t={success:!1,errMessage:""};return this.hasRequiredMedia(g.IMAGE)?t.success=!0:t.errMessage="Must have at least one image attachment",t},validateVideoHotspotContent:function(){var t={success:!1,errMessage:""};return this.hasRequiredMedia(g.VIDEO)?t.success=!0:t.errMessage="Must have a video attachment",t},validateAudioHotspotContent:function(){var t={success:!1,errMessage:""};return this.hasRequiredMedia(g.AUDIO)?t.success=!0:t.errMessage="Must have an audio file attachment",t},validateEmbedHotspotContent:function(){var t={success:!1,errMessage:""};return this.$el.find("#annotation-description").val().trim().includes("<iframe")?t.success=!0:t.errMessage="Embed hotspot must include <iframe> tags",t},validateHtmlHotspotContent:function(){var t={success:!1,errMessage:""};return this.$el.find("#annotation-description").val().trim()?t.success=!0:t.errMessage="HTML hotspot cannot be empty",t},validateUrlHotspotContent:function(){var t={success:!1,errMessage:""};return this.$el.find("#annotation-description").val().trim().match(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i)?t.success=!0:t.errMessage="Must be a valid URL",t},validateNavigationHotspotContent:function(){return this.selectedUpload&&this.selectedUpload.get("uuid")?{success:!0}:{success:!1,errMessage:"Target 360 is required"}},filterAttachments:function(t){var e=this.getFormAnnotationType(),i=O(e);return!i||"multiple"in i&&!0===i.multiple?t:[t[0]]},saveForEdit:function(){var t=this,e=[],i=this.$el.find("#annotation-marker-id").val();if(this.model.get("annotation_marker").get("uuid")!==i){this.model.set("annotation_marker_uuid",i);var n=new Promise(function(t,e){this.model.save({annotation_marker_uuid:i},{patch:!0,success:function(){t(!0)},error:function(t,i){e(i)}})}.bind(this));e.push(n)}for(var r=this.getFormAnnotationType(),o={title:this.$el.find("#annotation-title").val().trim(),description:this.$el.find("#annotation-description").val().trim(),annotation_type:r,render_mode:this.getFormRenderMode(),render_size:this.getFormRenderSize(),open_in_new_window:this.getFormOpenInNewWindow(),navigation_hotspot_upload_uuid:this.selectedUpload.get("uuid")},a=this.model.get("annotation"),s={},l=0,c=["title","description","annotation_type","render_mode","render_size","open_in_new_window"];l<c.length;l++){var u=c[l];a.get(u)!==o[u]&&(s[u]=o[u])}if(r===g.NAVIGATION){var h=a.get("navigation_hotspot");h&&h.upload.uuid===o.navigation_hotspot_upload_uuid||(s.navigation_hotspot={upload_uuid:o.navigation_hotspot_upload_uuid}),this.mediaCollectionView.clearAnnotationMedia()}if(this.previewImage.get("filestack_handle")&&!this.previewImage.get("uuid")?s.preview_image_media=this._generateAnnotationMediaPayload(this.previewImage):this.previewImage.get("filestack_handle")||(s.preview_image_media=null),Object.keys(s).length>0){var d=new Promise(function(t,e){a.save(s,{patch:!0,success:function(){t(!0)},error:function(t,i){e(i)}})}.bind(this));e.push(d)}this.filterAttachments(this.media.models.filter((function(e){return t.filterMimeTypes(e)}))).forEach((function(i){var n=t.$el.find("#media-".concat(i.get("filestack_handle"))).find(".annotation-media-text").val().trim();if(i.isNew()){i.set("annotation_uuid",a.get("uuid")),i.set("text",n);var r=new Promise(function(t,e){i.save(null,{success:function(){a.get("media")||a.set("media",new U),a.get("media").add(i),t(!0)},error:function(t,i){e(i)}})}.bind(t));e.push(r)}else if(i.get("text")!==n){var o=new Promise(function(t,e){i.save({text:n},{patch:!0,success:function(){t(!0)},error:function(t,i){e(i)}})}.bind(t));e.push(o)}})),this.mediaCollectionView.removePendingRemovals(),Promise.all(e).finally(function(){this.panel.trigger(C,this.model)}.bind(this)),markerModel=this.model.attributes.annotation_marker,analytics.track("Edit Annotation",{annotation_uuid:a.attributes.uuid,annotation_type:a.attributes.annotation_type,render_mode:a.attributes.render_mode,render_size:a.attributes.render_size,description:a.attributes.description,title:a.attributes.title,marker_type:markerModel.attributes.owner_id?"Custom Marker":"System Marker",marker_name:markerModel.attributes.name,marker_uuid:markerModel.attributes.uuid})},_generateAnnotationMediaPayload:function(t){return t&&t.get("filestack_handle")?{source_url:t.get("source_url"),content_type:t.get("content_type"),filename:t.get("filename"),filestack_handle:t.get("filestack_handle"),size:t.get("size")}:null},saveForCreate:function(){this.viewOptions.generateThumbnailAsync.call(this,{width:this.thumbnailWidth,height:this.thumbnailHeight,heading:this.viewOptions.heading,pitch:this.viewOptions.pitch}).then(function(t){var e=this,i=t.url,n=this.$el.find("#annotation-marker-id").val(),r=new Y({heading:this.viewOptions.heading,pitch:this.viewOptions.pitch,upload_uuid:this.viewOptions.upload_uuid,display_fov:this.viewOptions.display_fov,thumbnail_url:i,annotation_marker_uuid:n}),o=[];this.filterAttachments(this.media.models.filter((function(t){return e.filterMimeTypes(t)}))).forEach((function(t){var i=e.$el.find("#media-".concat(t.get("filestack_handle"))).find(".annotation-media-text").val().trim(),n=e._generateAnnotationMediaPayload(t);i.length>0&&(n.text=i);var r=new j(n);o.push(r)}));var a=this.previewImage&&this.previewImage.get("filestack_handle")?this.previewImage:null,s=this.$el.find("#annotation-title").val().trim(),l=this.$el.find("#annotation-description").val().trim(),c=this.getFormRenderMode(),u=this.getFormAnnotationType(),h=this.getFormRenderSize(),d=new V({title:s,description:l,targets:[r],media:o,preview_image_media:a,render_mode:c,annotation_type:u,render_size:h,open_in_new_window:this.getFormOpenInNewWindow()});c===f.HOTSPOT&&u===g.NAVIGATION&&d.set("navigation_hotspot",{upload_uuid:this.selectedUpload.get("uuid")}),d.save(null,{error:function(t,e,i){this.saving(!1),"responseJSON"in e?console.error("Unable to save Annotation: ".concat(e.responseJSON.error," ")+"(".concat(e.responseJSON.errorCode,")")):console.error("Unable to save Annotation: ".concat(e.responseText))}.bind(this),success:function(t,e,i){this.saving(!1);var n=new V(e),r=n.get("targets");if(r.length<1)throw new Error("Saved annotation object ".concat(n.get("uuid")," did not have a target"));var a=r[0],s=new F(e);s.get("preview_image_media")&&s.set("preview_image_media",new j(s.get("preview_image_media"))),a.set("annotation",s),this.annotationTargetCollection.add(a),this.panel.trigger(C,a),markerModel=s.attributes.targets[0].attributes.annotation_marker,analytics.track("Create Annotation",{annotation_marker:a.get("annotation_marker").get("name"),attachment_count:o.length,own_media:this.viewOptions.upload_owner.attributes.uuid===window.user.attributes.uuid,annotation_type:s.attributes.annotation_type,render_mode:s.attributes.render_mode,render_size:s.attributes.render_size,description:s.attributes.description,title:s.attributes.title,target_uuid:this.viewOptions.upload_uuid,marker_type:markerModel.attributes.owner_id?"Custom Marker":"System Marker",marker_name:markerModel.attributes.name,marker_uuid:markerModel.attributes.uuid})}.bind(this)})}.bind(this),function(t){this.saving(!1),console.error("Unable to generate thumbnail while saving Annotation"),console.error(t)}.bind(this))},handleUploadDone:function(t){t.filesUploaded.forEach(function(t){this.media.add(new j({source_url:t.url,content_type:t.mimetype,filename:t.filename,filestack_handle:t.handle,size:t.size})),analytics.track("Add Attachment",{attachment_type:t.mimetype})}.bind(this))},getUserFileSizeLimit:function(){var t=this.getUserAccountTier();return t in y?y[t]:y[I.FREE]},getPickerAcceptForAccountTier:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getUserAccountTier(),i=e in _?_[e]:_[I.FREE];return!t||!Array.isArray(t)||t.length<1?i:i.filter((function(e){return t.includes(e)}))},getAttachmentPickerOverlayOptions:function(){var t=this.getFormAnnotationType(),e={fromSources:["local_file_system","dropbox","onedrive","onedriveforbusiness","googledrive","box"],displayMode:"overlay",uploadInBackground:!1,maxFiles:5,maxSize:this.getUserFileSizeLimit(),onUploadDone:this.handleUploadDone.bind(this)},i=O(t);if(null!==i)for(var n=0,r=["accept","maxFiles"];n<r.length;n++){var o=r[n];o in i&&(e[o]=i[o])}return e.accept=this.getPickerAcceptForAccountTier("accept"in e?e.accept:null),e},openFilestackPickerOverlay:function(t){t=t||this.getAttachmentPickerOverlayOptions(),this.fileStackClient?this.fileStackClient.picker(t).open():console.error("Unexpected error: Filestack client is not initialized")},openAttachmentPickerOverlay:function(t){t&&t.preventDefault(),this.openFilestackPickerOverlay(this.getAttachmentPickerOverlayOptions())},getAnnotationTypesForAccountTier:function(){var t=this.getUserAccountTier();return t in b?b[t]:b[I.FREE]},getUserAccountTier:function(){return this.user?this.user.get("account_tier"):I.FREE}})}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){var r=i(3);t.exports=r.View.extend({className:"marker-selector",tagName:"div",events:{"click li.marker-select-option":"handleMarkerClick"},initialize:function(t){if(!(t=t||{}).model)throw new Error("MarkerSelectorView requires option model");if(!t.collection)throw new Error("MarkerSelectorView requires option collection");this.listenTo(this.model,"change",this.changeSelection.bind(this)),this.listenTo(this.collection,"sync",this.renderSelect.bind(this)),this.listenTo(this.collection,"update",this.updateSelect.bind(this)),this.collection.fetch()},updateSelect:function(t){var i=t.models.map((function(t){return t.get("uuid")}));this.model.has("uuid")&&!i.includes(this.model.get("uuid"))&&this.model.clear(),this.$el.find("ul").first().find("li").each((function(){var t=e(this),n=t.data("uuid");n&&(i.includes(n)||t.remove())}))},changeSelection:function(t){var e=this.$el.find("ul").first();this.model.has("uuid")?(e.find("li[data-uuid="+this.model.get("uuid")+"]").addClass("selected").siblings(".selected").removeClass("selected"),analytics.track("Custom Marker: Select Marker Details")):e.find("li").removeClass("selected")},renderSelect:function(t){var e=this;this.$el.empty();var i=n.ul({class:"marker-select"}).appendTo(this.el);this.collection.each((function(t){if(t.get("source_file")){var r=t.get("source_file").transform({output:{format:"png"},resize:{width:48,height:48,fit:"scale"},rotate:{deg:"exif"}});n.li({class:"marker-select-option"+(e.model.has("uuid")&&t.get("uuid")===e.model.get("uuid")?" selected":""),"data-uuid":t.get("uuid")},n.img({src:r}),n.span(t.get("name"))).appendTo(i)}}))},handleMarkerClick:function(t){t.preventDefault();var i=e(t.currentTarget);if(i.hasClass("selected"))this.model.clear();else{var n=i.data("uuid"),r=this.collection.find((function(t){return t.get("uuid")===n}));this.model.set(r.attributes)}}})}).call(this,i(2),i(4))},function(t,e,i){(function(e){var n=i(3),r=i(25),o=r.MARKER_POSITION_CENTER,a=r.MARKER_POSITION_LABELS,s=i(23).markerOffsetToSelectValue;t.exports=n.View.extend({className:"marker-detail",tagName:"div",initialize:function(t){if(!(t=t||{}).model)throw new Error("MarkerDetailView requires option model");var i={output:{format:"png"},resize:{width:78,height:78,fit:"scale"},rotate:{deg:"exif"}},n=(this.model.get("placement_offset_x"),this.model.get("placement_offset_y"),s(this.model,o)),r=a[n];this.$el.append(e.h3("Marker Details"),e.p(e.span({class:"marker-details-name"},"Name: ",e.strong(this.model.get("name")))),e.div({class:"marker-images"},e.div({class:"marker-image"},e.img({src:this.model.get("source_file").transform(i)}),e.label("Normal state")),e.div({class:"marker-image"},e.img({src:this.model.get("hover_source_file").transform(i)}),e.label("Hover state")),e.div({class:"marker-image"},e.img({src:this.model.get("selected_source_file").transform(i)}),e.label("Selected state"))),e.p({class:"marker-position"},"Marker Position: ",e.strong(r),e.div({class:"marker-position-preview"},e.img({src:this.model.get("source_file").transform({output:{format:"png"},resize:{width:64,height:64,fit:"scale"},rotate:{deg:"exif"}})}),e.i({class:"fad fa-times-circle "+n}))))}})}).call(this,i(4))},function(t,e,i){(function(e){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=i(3),a=i(29).IMAGE_PICKER_CHANGE,s=i(12).getFilestackClient,l=i(110);t.exports=o.View.extend({className:"single-image-picker",tagName:"div",events:{"click .action-remove":"handleActionRemoveClicked","click .action-upload":"handleActionUploadClicked"},model:null,maxSize:4194304,initialize:function(t){if("maxSize"in(t=t||{})){var e=parseInt(t.maxSize);null===e||e>0?this.maxSize=e:(console.warn("ImagePickerView: invalid maxSize [".concat(t.maxSize,"] specified; assume default value of [").concat(4194304,"]")),this.maxSize=4194304)}t.handle&&(this.model=new l({handle:t.handle})),this.filestackTransformations=t.filestackTransformations||{},this.filestackClient=s(),this.listenTo(this,a,this.render.bind(this)),this.render()},render:function(){if(this.$el.empty(),this.filestackClient)if(this.model){var t=this.model.transform({output:{format:"png"},resize:{width:78,height:78,fit:"scale"},rotate:{deg:"exif"}});e.div({class:"preview-state"},e.img({src:t}),e.a({class:"action-remove",href:"#"},e.i({class:"far fa-times-circle"}))).appendTo(this.el)}else e.div({class:"upload-state"},e.a({class:"action-upload",href:"#"},e.i({class:"fal fa-plus"}))).appendTo(this.el)},handleActionRemoveClicked:function(t){t.preventDefault(),this.model&&(this.model=null,this.trigger(a),analytics.track("Custom Marker: Remove Image"))},handleUploadImageDone:function(t){if(t&&t.filesUploaded&&t.filesUploaded.length>0){var e=t.filesUploaded[0];this.model=new l({handle:e.handle}),this.trigger(a),analytics.track("Custom Marker: Add Image",{image_type:e.mimetype})}},_getPickerOptions:function(){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({fromSources:["local_file_system","dropbox","onedrive","onedriveforbusiness","googledrive","box"],displayMode:"overlay",uploadInBackground:!1,maxFiles:1,maxSize:this.maxSize,onUploadDone:this.handleUploadImageDone.bind(this),accept:["image/*"]},this.filestackTransformations?{transformations:this.filestackTransformations}:{})},handleActionUploadClicked:function(t){t.preventDefault(),this.filestackClient&&this.filestackClient.picker(this._getPickerOptions()).open()},hasImage:function(){return null!==this.model}})}).call(this,i(4))},function(t,e,i){(function(e,n){function r(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var a=t.apply(e,i);function s(t){r(a,n,o,s,l,"next",t)}function l(t){r(a,n,o,s,l,"throw",t)}s(void 0)}))}}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h,d,p,f=i(5),m=i(13),g=i(25),v=g.MARKER_POSITION_LABELS,y=g.MARKER_POSITION_OFFSETS,_=g.MARKER_POSITION_CENTER,b=g.MARKER_DEFAULT_NAME,w=g.MARKER_MAX_NAME_LENGTH,x=i(29),M=x.ANNOTATION_MARKER_ADDED,S=x.ANNOTATION_MARKER_UPDATED,k=i(23),T=k.markerOffsetToSelectValue,C=k.notifyListeners,E=i(109),A=i(654);t.exports=m.extend({initialize:function(t){t=t||{};for(var i=0,n=["normal","hover","selected","previousModal"];i<n.length;i++){var r=n[i];if(!(r in t)||!t[r])throw new Error("Step2SetPropertiesModal requires option ".concat(r));this[r]=t[r]}this.listeners=t.listeners||null;var o=this.normal.transform({output:{format:"png"},resize:{width:64,height:64,fit:"scale"},rotate:{deg:"exif"}}),a=e.select({class:"form-control",id:"markerPosition"}),l=t.model?T(t.model):null;Object.entries(v).forEach((function(t){var i=c(t,2),n=i[0],r=i[1];e.option(s({value:n},l===n||null===l&&n===_?{selected:"selected"}:{}),r).appendTo(a)}));var u=e.div({class:"text-center custom-markers-set-properties bulk-actions-modal"},e.h3("Set Name and Position"),e.p("Name shows in the dropdown; position sets where it will display relative to the click point. ",e.i({class:"fal fa-info-circle tt-custom-marker-set-pos"})),e.p(e.label({for:"markerName"},"Marker Name: "),e.input(s({type:"text",class:"form-control",id:"markerName",placeholder:b,maxlength:w},t.model?{value:t.model.get("name")}:{}))),e.p({class:"marker-position"},e.label({for:"markerPosition"},"Marker Position: "),a,e.div({class:"marker-position-preview"},e.img({src:o}),e.i({class:"fad fa-times-circle"+(l?" "+l:"")}))));m.prototype.initialize.call(this,f.extend(t,{title:"Create Custom Marker  Set Properties",modalBody:u,buttons:[{label:" BACK",class:"thin-light-button",callback:this.handleBackClick.bind(this)},{label:"SAVE MARKER",class:"thin-button",callback:this.handleSaveMarkerClick.bind(this)}],verticalPosition:"top",centerButtons:!0})),this.$el.find("select").on("change",this.handleMarkerPositionChanged.bind(this)),this.handleMarkerPositionChanged()},handleMarkerPositionChanged:function(t){var e=(t?n(t.currentTarget):this.$el.find("select").first()).val();this.$el.find(".marker-position-preview > i").removeClass(Object.keys(v)).addClass(e),analytics.track("Custom Marker: Set Offset")},handleBackClick:function(t){return t.preventDefault(),this.previousModal.open(),analytics.track("Custom Marker: Click Back"),!0},handleCancelClick:function(t){return t.preventDefault(),!0},updateAnnotationMarker:(p=o(regeneratorRuntime.mark((function t(e){var i,n,r,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i={},n=0,r=Object.entries(e);n<r.length;n++)o=c(r[n],2),a=o[0],s=o[1],this.model.get(a)!==s&&(i[a]=s);return t.abrupt("return",this.model.savePromise(i,{patch:!0}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)}),createAnnotationMarker:(d=o(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new E(e),t.abrupt("return",i.savePromise());case 2:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),handleSaveMarkerClick:(h=o(regeneratorRuntime.mark((function t(e){var i,n,r,o,a,l,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),i=this.$el.find("#markerName").val().trim().substr(0,w)||b,(n=this.$el.find("#markerPosition").val())in y||(console.warn("Invalid marker position [".concat(n,"] - defaulting to [").concat(_,"]")),n=_),r=y[n],o=s(s({name:i},r),{},{source_filestack_handle:this.normal.get("handle"),source_url:this.normal.transform(),hover_source_filestack_handle:this.hover.get("handle"),hover_source_url:this.hover.transform(),selected_source_filestack_handle:this.selected.get("handle"),selected_source_url:this.selected.transform()}),a=!!this.model,l=a?this.updateAnnotationMarker(o):this.createAnnotationMarker(o),t.abrupt("return",l.then((function(t){new A({model:t,disableFade:!0}).open();var e=a?"Custom Marker Updated":"Custom Marker Created";return analytics.track(e,{marker_name:o.name,normal_image_url:o.source_url,marker_position:v[n],account_email:window.user.attributes.email,account_uuid:window.user.attributes.uuid}),C(c.listeners,c.model?S:M,t),!0})));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})})}).call(this,i(4),i(2))},function(t,e,i){(function(e){var n=i(5),r=i(13);t.exports=r.extend({initialize:function(t){if(!(t=t||{}).model)throw new Error("Step3ConfirmationModal requires option model");var i=this.model.get("source_file").transform({output:{format:"png"},resize:{width:48,height:48,fit:"scale"},rotate:{deg:"exif"}}),o=e.div({class:"text-center custom-markers-confirmation bulk-actions-modal"},e.h3("Marker Saved!"),e.p("Marker Name: ",e.strong(this.model.get("name"))),e.div({class:"marker-image"},e.img({src:i})),e.p("The marker is now available under Custom Markers in the Annotation Creation dialog. ",e.i({class:"fal fa-info-circle tt-custom-marker-confirm"})));r.prototype.initialize.call(this,n.extend(t,{modalBody:o,primaryActionLabel:"DONE",primaryActionClass:"thin-button",verticalPosition:"top",centerButtons:!0,disableSecondaryAction:!0}))}})}).call(this,i(4))},function(t,e,i){(function(e,n){var r=i(5),o=i(13),a=i(29).ANNOTATION_MARKER_DELETED,s=i(23).notifyListeners;t.exports=o.extend({initialize:function(t){if(!(t=t||{}).model)throw new Error("Step2DeleteConfirmModal requires option model");if(!t.previousModal)throw new Error("Step2DeleteConfirmModal requires option previousModal");this.previousModal=t.previousModal,this.listeners=t.listeners||null;var i=e.div({class:"text-center"},e.p("Are you sure you want to delete this marker?"),e.p("Any annotations using this marker will revert back to using the default marker (square)."));o.prototype.initialize.call(this,r.extend(t,{title:"Delete Custom Marker",modalBody:i,buttons:[{class:"thin-light-button",label:"CANCEL",callback:this.handleCancelClick.bind(this)},{class:"thin-button danger",label:"DELETE",callback:this.handleDeleteClick.bind(this)}],verticalPosition:"top",centerButtons:!0}))},handleCancelClick:function(t){return t.preventDefault(),this.previousModal.open(),!0},handleDeleteClick:function(t){var i=this;t.preventDefault();var r=n(t.currentTarget);if(!r.hasClass("disabled"))return r.addClass("disabled"),r.empty().append(e.span({class:"icon icon-spinner icon-spin"})," DELETING"),analytics.track("Custom Marker Deleted",{marker_name:this.model.attributes.name,normal_image_url:this.model.attributes.source_url,account_email:window.user.attributes.email,account_uuid:window.user.attributes.uuid}),this.model.destroyPromise({wait:!0}).then((function(t){return i.model.clear(),s(i.listeners,a,t),i.previousModal.open(),!0})).catch((function(t){return i.previousModal.open(),!0}))}})}).call(this,i(4),i(2))},function(t,e,i){var n=i(5),r=i(3),o=i(8).API_ROOT,a=i(89),s=i(155),l=i(154);t.exports=r.Model.extend({idAttribute:"uuid",isNew:function(){return void 0===this.get("uuid")},parse:function(t,e){if(n.isArray(t.media)){var i=[];n.each(t.media,(function(t){i.push(new a(t,{parse:!0}))})),t.media=new s(i)}if(n.isArray(t.targets)){var r=[];n.each(t.targets,(function(t){r.push(new l(t,{parse:!0}))})),t.targets=r}return t},url:function(){var t="".concat(o,"annotation/");return this.isNew()?t:"".concat(t).concat(this.get("uuid"))}})},function(t,e,i){(function(e,n){i(5);var r=i(3),o=i(658),a=i(659),s=i(660),l=i(13);t.exports=r.View.extend({className:"media-preview",tagName:"li",events:{"click .annotation-media-preview":"handleOpenAnnotationMediaPreview"},initialize:function(t){if(!(t=t||{}).model)throw new Error("AnnotationMediaPreviewView requires collection model");this.editMode="editMode"in t&&!0===t.editMode,this.$el.attr("id","media-"+this.model.get("filestack_handle")).data("model",this.model),this.previewView=this.isImage()?new a({model:this.model}):new o({model:this.model}),this.el.appendChild(this.previewView.el),(this.editMode||this.model.get("text"))&&(this.captionView=new s({model:this.model,editMode:this.editMode}),this.el.appendChild(this.captionView.el))},handleOpenAnnotationMediaPreview:function(t){t&&t.preventDefault();var i=this.editMode?this.captionView.$el.find(".annotation-media-text").val().trim():this.model.get("text");new l({title:i&&i.length>0?i:"(no caption)",buttons:[],size:"xl",modalBodyId:"media-preview",modalBodyClass:"modal-media-preview",afterOpen:function(){var t=e(".modal-media-preview");if(this.isImage()){var i=t.width(),r=i?this.model.get("file").transform({resize:{width:i,fit:"scale"},rotate:{deg:"exif"}}):this.model.get("source_url");t.append(n.img({src:r,width:"100%"})),t.parents(".modal")}else t.height("65vh"),this.model.get("file").preview("media-preview")}.bind(this)}).open(),this.editMode&&analytics.track("View Attachment",{attachment_type:this.model.attributes.content_type})},isImage:function(){var t=this.model.get("content_type");return t&&null!==t.match(/^image\//i)}})}).call(this,i(2),i(4))},function(t,e,i){(function(e){var n=i(3);t.exports=n.View.extend({className:"media-description",tagName:"div",defaultIconClass:"far fa-file",mimetypePatterns:[{pattern:/^image\//i,iconClass:"far fa-file-image",supportsPreview:!0},{pattern:/^video\//i,iconClass:"far fa-file-video"},{pattern:/^audio\//i,iconClass:"far fa-file-audio"},{pattern:/^application\/pdf$/i,iconClass:"far fa-file-pdf",supportsPreview:!0},{pattern:/ms-powerpoint|presentationml/i,iconClass:"far fa-file-powerpoint",supportsPreview:!0},{pattern:/ms-excel|spreadsheetml/i,iconClass:"far fa-file-excel",supportsPreview:!0},{pattern:/msword|ms-word|wordprocessingml/i,iconClass:"far fa-file-word",supportsPreview:!0},{pattern:/^application\/rtf$/i,iconClass:"far fa-file-alt",supportsPreview:!0},{pattern:/^text\/plain$/i,iconClass:"far fa-file-alt",supportsPreview:!0},{pattern:/^application\/g?zip$/i,iconClass:"far fa-file-archive"},{pattern:/^application\/x-(?:7z|rar)-compressed$/i,iconClass:"far fa-file-archive"},{pattern:/^application\/x-(?:bzip|bzip2|gzip)$/i,iconClass:"far fa-file-archive"}],initialize:function(t){if(!(t=t||{}).model)throw new Error("FilePreviewView requires collection model");var i=this.model.get("content_type"),n=this.model.get("filename"),r=this.model.get("file"),o=this.getMediaInfo(i);e.span({class:"media-icon"},e.i({class:o.iconClass,"aria-hidden":"true"})).appendTo(this.el),e.span({class:"media-name"},e.a({class:o.supportsPreview?"annotation-media-preview":"",href:r.url(),target:"_blank"},n)).appendTo(this.el)},getMediaInfo:function(t){for(var e=0;e<this.mimetypePatterns.length;e++){var i=this.mimetypePatterns[e],n=i.pattern,r=i.iconClass,o="supportsPreview"in i&&!0===i.supportsPreview;if(null!==t.match(n))return{iconClass:r,supportsPreview:o}}return{iconClass:this.defaultIconClass,supportsPreview:!1}}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(3);t.exports=n.View.extend({className:"media-thumbnail",tagName:"div",initialize:function(t){if(!(t=t||{}).model)throw new Error("ImagePreviewView requires collection model");var i=this.model.get("file"),n=i.transform({resize:{width:250,fit:"scale"},rotate:{deg:"exif"}});e.a({class:"annotation-media-preview",href:i.url(),target:"_blank"},e.img({src:n})).appendTo(this.el)}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(3),r=i(12).sanitizeHtml;t.exports=n.View.extend({className:"media-caption",tagName:"div",initialize:function(t){if(!(t=t||{}).model)throw new Error("MediaPreviewCaptionView requires collection model");t.editMode=t.editMode||!1,t.editMode?e.div({class:"form-group"},e.input({class:"form-control form-control-sm annotation-media-text",placeholder:"Optional text",value:this.model.get("text")}),e.small({class:"form-text text-muted text-right"},e.i({class:"fas fa-trash"}),e.a({href:"#",class:"annotation-media-delete"},"Delete"))).appendTo(this.el):this.model.get("text")&&(this.el.innerHTML=r(this.model.get("text")))}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(3),r=i(12).getFilestackClient,o=i(110);t.exports=n.View.extend({className:"preview-image-picker",tagName:"div",events:{"click #annotation-preview-image":"openPreviewImagePickerOverlay","click .delete-preview-image-link":"handleDeletePreviewImageClicked"},PREVIEW_IMAGE_MAX_SIZE:20,initialize:function(t){if(!(t=t||{}).model)throw new Error("PreviewImagePickerView requires `model` option");this.fileStackClient=r(),this.listenTo(this.model,"change",this.render.bind(this)),this.render()},render:function(){var t=this.model.get("file");if(this.$el.empty(),this.fileStackClient){if(t){var i=t.transform({resize:{width:50,fit:"scale"},rotate:{deg:"exif"}});e.div({class:"annotation-form-section-title"},"Preview Image").appendTo(this.el),e.div({class:"annotation-image-preview"},e.a({class:"annotation-media-preview",href:t.url(),target:"_blank"},e.img({src:i})).appendTo(this.el),e.small({class:"text-muted"},e.i({class:"fas fa-trash"})," ",e.a({href:"#",class:"delete-preview-image-link"},"Delete")).appendTo(this.el)).appendTo(this.el)}else e.a({class:"annotation-add-attachment",id:"annotation-preview-image",href:"#"},"Add preview image (optional)").appendTo(this.el),e.i({class:"fal fa-question-circle tt-annotation-preview-img","aria-hidden":"true","data-toggle":"tooltip","data-placement":"top",title:"Upload a preview image"}).appendTo(this.el);return this}},handleDeletePreviewImageClicked:function(t){t.preventDefault(),this.model.clear()},handleUploadPreviewImageDone:function(t){if(t&&t.filesUploaded&&t.filesUploaded.length>0){var e=t.filesUploaded[0];this.model.set({source_url:e.url,content_type:e.mimetype,filename:e.filename,filestack_handle:e.handle,size:e.size,file:new o({handle:e.handle})}),analytics.track("Set Preview Image")}},getPreviewImagePickerOverlayOptions:function(){return{fromSources:["local_file_system","dropbox","onedrive","onedriveforbusiness","googledrive","box"],displayMode:"overlay",uploadInBackground:!1,maxFiles:1,maxSize:1024*this.PREVIEW_IMAGE_MAX_SIZE*1024,onUploadDone:this.handleUploadPreviewImageDone.bind(this),accept:["image/*"],transformations:{crop:!0,circle:!0,rotate:!0}}},openPreviewImagePickerOverlay:function(t){t&&t.preventDefault(),this.fileStackClient.picker(this.getPreviewImagePickerOverlayOptions()).open()}})}).call(this,i(4))},function(t,e,i){var n=i(3);t.exports=n.Model.extend({idAttribute:"uuid"})},function(t,e,i){(function(e,n){var r=i(3);t.exports=r.View.extend({className:"upload-list-selector",tagName:"div",events:{"click li.upload":"handleUploadClicked"},initialize:function(t){if(!(t=t||{}).collection)throw new Error("UploadListSelectorView requires option collection");if(!t.model)throw new Error("UploadListSelectorView requires option model");this.disabledUuids=t.disabledUuids&&Array.isArray(t.disabledUuids)?t.disabledUuids:[],this.listenTo(this.collection,"reset",this.render.bind(this)),e.span({class:"loading"},e.span({class:"icon icon-spinner icon-spin"})," Loading...").appendTo(this.el)},renderCollectionListItems:function(){var t=this;return this.collection.map((function(i){var r=i.get("uuid"),o=i.has("video_sphere")?i.get("video_sphere"):i.get("photo_sphere"),a=e.li({class:"upload"+(t.disabledUuids.includes(r)?" disabled":"")},e.img({class:"media-small-square",src:o.small_square_thumbnail_url}),e.span({class:"media-caption"},i.get("caption")));return n(a).data("upload",i.attributes),a}))},render:function(t){this.$el.empty(),this.model.clear(),this.collection.length>0?e.ul({class:"upload-list"},this.renderCollectionListItems()).appendTo(this.el):e.div({class:"empty-list"},"No uploads").appendTo(this.el)},handleUploadClicked:function(t){var e=n(t.currentTarget);if(!e.hasClass("disabled")){e.parents("ul").find("li.selected").removeClass("selected"),e.addClass("selected");var i=e.data("upload");this.model.clear({silent:!0}).set(i)}}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){var r=i(3);t.exports=r.View.extend({className:"upload-preview",tagName:"div",events:{},initialize:function(t){if(!(t=t||{}).model)throw new Error("UploadPreviewView requires option model");if(!t.emptyTitle)throw new Error("UploadPreviewView requires option emptyTitle");if(this.emptyTitle=t.emptyTitle,!t.emptyBody)throw new Error("UploadPreviewView requires option emptyBody");this.emptyBody=t.emptyBody,this.listenTo(this.model,"change",this.render.bind(this)),this.render()},render:function(t){this.$el.empty();var i=t?t.has("video_sphere")?t.get("video_sphere"):t.get("photo_sphere"):null;if(i){var r=i.large_thumbnail_url,o=e.div({class:"image-preview"});e.a({href:"#ud/"+encodeURI(t.get("uuid")),target:"_blank"},o).appendTo(this.el),n(o).css("background",'url("'+r+'") center/contain no-repeat')}else e.h3({class:"title"},this.emptyTitle).appendTo(this.el),this.emptyBody.appendTo(this.el)}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c=i(3),u=i(8).TIERS,h=i(29),d=h.ANNOTATION_MARKER_ADDED,p=h.ANNOTATION_MARKER_UPDATED,f=h.ANNOTATION_MARKER_DELETED,m=i(666),g=i(343);t.exports=c.View.extend({tagName:"select",className:"form-control form-control-sm",events:{change:"handleSelectChange"},previouslySelectedUuid:null,initialize:function(t){if(!(t=t||{}).annotationMarkerCollection)throw new Error("AnnotationMarkerSelectorView requires option annotationMarkerCollection");if(this.annotationMarkerCollection=t.annotationMarkerCollection,!t.user)throw new Error("AnnotationMarkerSelectorView requires option user");if(this.user=t.user,!t.upload)throw new Error("AnnotationMarkerSelectorView requires option upload");this.upload=t.upload,this.listeners=t.listeners||null,Array.isArray(this.listeners)?this.listeners.push(this):this.listeners?this.listeners=[this.listeners,this]:this.listeners=[this],this.selectedMarkerUuid="selectedMarkerUuid"in t?t.selectedMarkerUuid:null,this.previouslySelectedUuid=this.selectedMarkerUuid,this.listenTo(this,d,this.handleAnnotationMarkerAdded.bind(this)),this.listenTo(this,p,this.handleAnnotationMarkerUpdated.bind(this)),this.listenTo(this,f,this.handleAnnotationMarkerDeleted.bind(this)),this.listenTo(this.annotationMarkerCollection,"reset remove change",this.render.bind(this)),this.render()},handleAnnotationMarkerAdded:function(t){this.previouslySelectedUuid=this.selectedMarkerUuid=t.get("uuid"),this.annotationMarkerCollection.fetch({reset:!0})},handleAnnotationMarkerUpdated:function(t){var e=t.get("uuid"),i=this.annotationMarkerCollection.find((function(t){return t.get("uuid")===e}));i&&i.set(t.attributes)},handleAnnotationMarkerDeleted:function(t){var e=t.previous("uuid");this.selectedMarkerUuid===e&&(this.selectedMarkerUuid=null);var i=this.annotationMarkerCollection.find((function(t){return t.get("uuid")===e}));i&&this.annotationMarkerCollection.remove(i)},render:function(){var t=this;this.$el.empty();var i=this.groupMarkers(),n=this.upload.get("owner").account_tier||0;if(window.M360FeatureFlags["custom-marker-creation"]&&n>u.PLUS)for(var r=function(){var i=s(l[a],2),n=i[0],r=i[1];if(r.length<1)return"continue";var c=e.optgroup({label:n}).appendTo(t.el);r.forEach((function(i){e.option(o({value:i.get("uuid")},t.selectedMarkerUuid&&t.selectedMarkerUuid===i.get("uuid")?{selected:"selected"}:{}),i.get("name")).appendTo(c)}))},a=0,l=Object.entries(i);a<l.length;a++)r();else i.Basic.forEach((function(i){e.option(o({value:i.get("uuid")},t.selectedMarkerUuid&&t.selectedMarkerUuid===i.get("uuid")?{selected:"selected"}:{}),i.get("name")).appendTo(t.el)}));this.user.get("uuid")===this.upload.get("owner").uuid&&window.M360FeatureFlags["custom-marker-creation"]&&(e.option({disabled:"disabled"},"").appendTo(this.el),e.hr().appendTo(this.el),e.option({class:"add-edit-custom-marker"},"Add/Edit Custom Markers").appendTo(this.el))},groupMarkers:function(){var t=[],e=[];return this.annotationMarkerCollection.each((function(i){null!==i.get("owner_id")?e.push(i):t.push(i)})),{Basic:t,Custom:e}},handleSelectChange:function(t){var e=n(t.currentTarget),i=e.find("option:selected").first();if(i.hasClass("add-edit-custom-marker")){t.preventDefault(),t.stopPropagation();var r=(this.user?parseInt(this.user.get("account_tier")):0)>u.PLUS;(r?new m({user:this.user,listeners:this.listeners}):new g({user:this.user})).open(),r?analytics.track("Custom Marker: Open Starting Modal"):analytics.track("Show Custom Markers Upsell",{account_tier:window.user.attributes.account_tier,upsell_point:"Annotation Selector"}),i.prop("selected",!1),e.find("option[value="+this.previouslySelectedUuid+"]").first().prop("selected",!0)}else this.selectedMarkerUuid=this.previouslySelectedUuid=e.find("option:selected").val()}})}).call(this,i(4),i(2))},function(t,e,i){(function(e){var n=i(5),r=i(13),o=i(344),a=i(346),s=i(345);t.exports=r.extend({initialize:function(t){t=t||{};var i=new o,a=e.div({class:"text-center custom-markers-create-manage-modal bulk-actions-modal"},e.h3("Create / Manage Custom Markers"),i.el,e.p("Add your own marker icons for annotations. ",e.a({class:"upsell-link",href:"https://help.momento360.com/article/123-custom-annotation-markers",target:"_blank"},"Learn more.")));this.listeners=t.listeners||null,r.prototype.initialize.call(this,n.extend(t,{modalBody:a,buttons:[{label:"CREATE A NEW MARKER",class:"thin-button btn-center mb-4",callback:this.handleCreateNewMarkerClick.bind(this)},{label:"MANAGE CUSTOM MARKERS",class:"thin-button btn-center",callback:this.handleManageCustomMarkersClick.bind(this)}],verticalPosition:"top",verticalStackButtons:!0,disableFooterBorder:!0,disableFade:!0}))},handleCreateNewMarkerClick:function(t){return t.preventDefault(),new a({disableFade:!0,previousModal:this,listeners:this.listeners}).open(),analytics.track("Custom Marker: Open Upload Images Step",{launch_point:"Starting Modal"}),!0},handleManageCustomMarkersClick:function(t){return t.preventDefault(),new s({disableFade:!0,size:"lg",listeners:this.listeners}).open(),analytics.track("Custom Marker: Open Manage Markers Modal",{launch_point:"Starting Modal"}),!0}})}).call(this,i(4))},function(t,e,i){(function(e,n){var r=i(3),o=i(0),a=i(72),s=i(23),l=s.linkifyUrls,c=s.processCustomDataString,u=i(12).sanitizeHtml,h=i(157),d=i(347);t.exports=r.View.extend({className:"panel-contents",initialize:function(t){if(!(t=t||{}).model)throw new Error("ViewAnnotationPanelView requires option model");if(!t.collection)throw new Error("ViewAnnotationPanelView requires option collection");if(!t.panel)throw new Error("ViewAnnotationPanelView requires option panel");this.panel=t.panel;var i=this.model.get("annotation"),r=!("annotationsDate"in t)||t.annotationsDate,s=!("annotationsPanelControls"in t)||t.annotationsPanelControls,p=i.get("title"),f=i.get("description");this.panel.standAlonePlayer&&this.panel.useCustomDataFields&&this.panel.customData&&(p=c(p,this.panel.customData),f=c(f,this.panel.customData)),p=u(p),e.div({class:"header"},e.h5(p),e.button({class:"close"},"")).appendTo(this.el),this.body=e.div({class:"body"}).appendTo(this.el);var m=l(f);if(m){var g=u(m),v=e.p({class:"annotation-description"},"").appendTo(this.body);n(v).html(g)}var y=o(i.get("created"));if((r&&e.p({class:"annotation-created"},y.format("h:mm a M/D/YY")).appendTo(this.body),!a.get(a.IS_EMBED))&&(window.M360FeatureFlags&&!0===window.M360FeatureFlags["annotations-owner-email"]&&this.panel.user&&!0===this.panel.user.get("show_annotation_author_email"))){var _=i.get("owner").email;_&&e.p({class:"annotation-owner"},_).appendTo(this.body)}this.media=i.get("media"),this.mediaCollectionView=new d({collection:this.media,editMode:!1}),n(this.body).append(this.mediaCollectionView.el),s&&(this.annotationActionsView=new h({model:this.model,collection:this.collection,panel:this.panel}),n(this.body).append(this.annotationActionsView.el))},processCustomDataString:function(t,e){var i={customData1:/{{\s*custom-data-1\s*}}/gi,customData2:/{{\s*custom-data-2\s*}}/gi,customData3:/{{\s*custom-data-3\s*}}/gi},n=t;for(var r in e)n=n.replace(i[r],e[r]);return n}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){i(5);var r=i(3),o=i(112),a=i(351);t.exports=r.View.extend({className:"share-annotation-view dialog-container",initialize:function(t){if(!(t=t||{}).annotationTarget)throw"ShareAnnotationView requires option annotationTarget";if(!t.sphereModel)throw"ShareAnnotationView requires option sphereModel";if(!t.user)throw new Error("ShareAnnotationView requires option user");this.options=t,this.annotationTarget=t.annotationTarget,this.sphereModel=t.sphereModel,this.uploadEmbed=new o({upload:this.sphereModel.get("uuid")}),this.listenTo(this.uploadEmbed,"sync",this.render),this.uploadEmbed.has("active")?this.render():this.uploadEmbed.fetch()},render:function(){!0===this.uploadEmbed.get("active")?this.renderCopyEmailScreen():this.renderCreateLinkScreen()},renderCreateLinkScreen:function(){e(".modal-title").text("SHARE ANNOTATION"),e(this.el).empty(),n.div({class:"share-annotation-create-link-container"},n.h3("Create a Share / Embed Link"),n.p("Click the button below to create a version of your 360 that can be shared or embedded as a link.")).appendTo(this.el);var t=n.button({class:"pill-button"},"CREATE LINK");e(t).on("click",function(){var t=this;this.uploadEmbed.save({active:!0},{success:function(){this.renderCopyEmailScreen()}.bind(this),error:function(i,n){409===n.status&&(e(t.options.parent.annotationModal).modal("hide"),new a({user:t.options.user}).open(),analytics.track("Show Link Limit Upsell",{account_tier:window.user.attributes.account_tier,upsell_point:"Annotation share"}),analytics.track("Exceeded Embed Limit",{account_tier:window.user.attributes.account_tier}),analytics.identify({exceeded_link_limit:!0}));console.error("Failed to mark the UploadEmbed as active.")}})}.bind(this)),n.div({class:"dialog-button-container row justify-content-center"},t).appendTo(this.el)},renderCopyEmailScreen:function(){e(".modal-title").text("SHARE ANNOTATION"),e(this.el).empty();var t=this.annotationTarget.get("annotation"),i=n.a({class:"tab-link"},"COPY LINK"),r=n.a({class:"tab-link active"},"SEND EMAIL"),o=n.input({class:"form-control form-control-sm",id:"email-input",placeholder:"Email",type:"text"}),a=n.textarea({class:"form-control form-control-sm",id:"message-textarea",placeholder:"Write a message ...",rows:4}),s=n.button({class:"pill-button"},"SEND EMAIL");e(s).on("click",function(){analytics.track("Email Annotation",{annotation_url:this.getEmbedUrl(),annotation_text:t.get("title"),message:a.value,preview_img_url:this.annotationTarget.get("thumbnail_url"),target:o.value}),e(l).hide(),e(u).show()}.bind(this));var l=n.div({id:"email-container"},o,a,n.div({class:"pill-button-container"},s)),c=n.button({class:"pill-button"},"CLOSE");e(c).on("click",(function(){return e(".close").trigger("click")}));var u=n.div({id:"email-sent-container",style:"display: none"},n.div({class:"email-sent-icon-container"},n.i({class:"far fa-check-circle"})),n.label({class:"email-sent-label"},"Your email has been sent!"),n.div({class:"pill-button-container center"},c)),h=n.div({id:"copy-container",style:"display: none"},n.textarea({class:"form-control form-control-sm",id:"copy-textarea",rows:4},this.getEmbedUrl()),n.div({class:"pill-button-container"},n.button({class:"pill-button copy-button btn","data-clipboard-target":"#copy-textarea"},"COPY")));n.div({class:"share-annotation-action-container"},n.img({class:"annotation-image",src:this.annotationTarget.get("thumbnail_url")}),n.h3(t.get("title")),n.p(t.get("description")),n.div({class:"w-75 container"},i," | ",r,h,l,u)).appendTo(this.el);var d=function(t){e(h).toggle(t),e(l).toggle(!t),e(i).toggleClass("active",t),e(r).toggleClass("active",!t)};e(i).on("click",(function(){d(!0)})),e(r).on("click",(function(){d(!1)}))},getEmbedUrl:function(){var t=this.uploadEmbed.get("embed_url"),i={"annotation-key":this.annotationTarget.get("annotation").get("uuid")};return"".concat(t,"?").concat(e.param(i))}})}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){var r=i(5),o=i(3);t.exports=o.View.extend({className:"generic-modal modal",events:{"click .cancel-button":"handleCancel","click .ok-button":"handleOk"},initialize:function(t){if(r.bindAll(this,"show","handleShown","handleHidden","handleCancel","handleOk"),this.options=t,r.isUndefined(this.options.hideOnOk)&&(this.options.hideOnOk=!0),this.$el.attr("role","dialog"),this.$el.attr("tabindex","-1"),this.oked=!1,this.dialog=e.div({class:"modal-dialog",role:"document"}).appendTo(this.el),this.content=e.div({class:"modal-content","aria-labelledby":"generic-modal-title"}).appendTo(this.dialog),this.header=e.div({class:"modal-header"}).appendTo(this.content),this.title=e.h4({class:"modal-title",id:"generic-modal-title"},this.options.titleText||"").appendTo(this.header),this.closeButton=e.button({type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"}).appendTo(this.header),this.closeSpan=e.span({"aria-hidden":"true"}).appendTo(this.closeButton),n(this.closeSpan).html("&times"),this.body=e.div({class:"modal-body"}).appendTo(this.content),this.body.appendChild(this.options.body),this.footer=e.div({class:"modal-footer"}).appendTo(this.content),this.cancelButton=e.button({type:"button",class:"btn btn-default cancel-button"},e.span({class:"glyphicon glyphicon-remove"}),this.options.cancelText||" Cancel"),0!=this.options.showCancel&&this.footer.appendChild(this.cancelButton),this.options.okBTNClass)var i=this.options.okBTNClass;else i="btn-primary";this.saveButton=e.button({type:"button",class:"btn "+i+" ok-button"},this.options.okText||"OK").appendTo(this.footer),this.$el.on("show.bs.modal",this.handleShown),this.$el.on("hide.bs.modal",this.handleHidden)},handleCancel:function(){this.$el.modal("hide")},handleOk:function(){this.oked||(this.oked=!0,this.options.okCallback&&this.options.okCallback(this),this.options.hideOnOk&&this.$el.modal("hide"))},handleShown:function(){},handleHidden:function(){this.remove()},show:function(){this.$el.modal({show:!0})}})}).call(this,i(4),i(2))},function(t,e,i){(function(e,n){var r=i(3),o=(i(5),i(12).isNil),a=r.View.extend({className:"alert-view dialog-container",events:{"click #alert-view-close-btn":"handleCloseClick"},initialize:function(t){var e=t.message;if(this.options=t||{},o(e))throw"Requires a message in options";this.render()},handleCloseClick:function(){e(".modal").modal("hide")},render:function(){var t=this.options.message;e(this.el).empty(),n.div(n.div({class:"inner-container"},t),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"alert-view-close-btn"},"CLOSE"))).appendTo(this.el)}});t.exports=a}).call(this,i(2),i(4))},function(t,e,i){var n=i(50),r=null;t.exports={getTextureLoaderInstance:function(){return r||((r=new n.TextureLoader).crossOrigin="anonymous"),r}}},function(t,e){t.exports={CONTENT_FIELD_NAMES:["photo","photo_sphere","video","video_sphere"],PHOTO_FIELD_NAMES:["photo","photo_sphere"],VIDEO_FIELD_NAMES:["video","video_sphere"],SPHERICAL_FIELD_NAMES:["photo_sphere","video_sphere"],CAPTION_SHORT_LENGTH:40}},function(t,e,i){var n,r;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=i(8).TIERS,s=["image/jpeg","image/png"],l=["video/mp4","video/quicktime"],c=s.concat(l);t.exports={SMALL_THUMBNAIL_SIZE:[160,90],MEDIUM_THUMBNAIL_SIZE:[400,225],LARGE_THUMBNAIL_SIZE:[800,450],SMALL_SQUARE_THUMBNAIL_SIZE:[128,128],MEDIUM_SQUARE_THUMBNAIL_SIZE:[400,400],LARGE_SQUARE_THUMBNAIL_SIZE:[512,512],ACCEPTED_IMAGE_TYPES:s,ACCEPTED_VIDEO_TYPES:l,ACCEPTED_IMAGE_VIDEO_TYPES:c,POLL_SLEEP_TIME:5e3,POLL_SLEEP_VARIANCE:1e3,UPLOAD_COMMENTS_QUERY_LIMIT:500,CONCURRENT_UPLOADS:(n={},o(n,a.FREE,1),o(n,a.PLUS,2),o(n,a.PRO,10),o(n,a.VIP,10),n),ACCEPTED_UPLOAD_TYPES:(r={},o(r,a.FREE,s),o(r,a.PLUS,c),o(r,a.PRO,c),o(r,a.VIP,c),r)}},function(t,e,i){(function(e,n){var r=i(3),o=(i(5),i(8).API_ROOT),a=i(12).isNil,s=r.View.extend({className:"copy-upload-view dialog-container",events:{"click #copy-upload-view-cancel-btn":"handleCloseClick","click #copy-upload-view-close-btn":"handleCloseClick","click #copy-upload-view-duplicate-btn":"handleDuplicateClick","click #dialog-link":"handleCloseClick"},initialize:function(t){this.options=t||{};var e=this.options.upload;if(a(e))throw"Requires a upload in options";this.render()},handleCloseClick:function(){e(".modal").modal("hide")},handleDuplicateClick:function(){var t=this.options.upload.get("uuid");e.ajax({type:"POST",url:"".concat(o,"upload/?source-uuid=").concat(t),success:function(){this.renderMessage({message:"The items have been copied.",link:{text:"Take me there",url:"#media/"}})}.bind(this),error:function(t,e,i){var n=t.responseJSON.errorCode;"quota_exceeded"===n?this.renderMessage({message:"Account storage exceeded  not enough space to copy!",link:{text:"Consider upgrading for more storage",url:"/billing/upgrade/"}}):"permission_denied"===n?this.renderMessage({message:"You do not have permission to Copy this item. Please contact the image owner to get access.",link:{text:"",url:""}}):this.renderMessage({message:"Failed to copy this item. Please try again later.",link:{text:"",url:""}})}.bind(this)})},renderMessage:function(t){var i=t.link,r=t.message;e(this.el).empty();var o=i.text,a=i.url,s=i?n.div({class:"link-container"},n.a({href:a,id:"dialog-link"},o)):null;n.div(n.div({class:"inner-container"},r),s,n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"copy-upload-view-close-btn"},"CLOSE"))).appendTo(this.el)},render:function(){e(this.el).empty(),n.div(n.div({class:"inner-container"},"This will create a copy of this item in your account. It will show up in the My Media section."),n.div({class:"dialog-button-container row justify-content-center"},n.button({class:"pill-button",id:"copy-upload-view-cancel-btn"},"CANCEL"),n.button({class:"pill-button",id:"copy-upload-view-duplicate-btn"},"DUPLICATE"))).appendTo(this.el)}});t.exports=s}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){var r=i(3),o=i(0),a=i(5),s=i(8).PERMISSIONS,l=i(12),c=l.formatBytes,u=l.hasContentPermission,h=l.isContentOwner,d=i(36).SHOW_ACCESS_CONTROL_VIEW;t.exports=r.View.extend({className:"image-details-view dialog-container",tagName:"div",events:{"click #download-originals-link":"handleDownloadOriginalClick","click #image-details-view-close-btn":"handleCloseClick","click #image-details-view-set-heading-btn":"handleSetHeadingClick","click #view-manage-access-link":"handleManageAccessClick"},initialize:function(t){var i=t.fov,n=t.heading,r=t.model,l=t.pitch,d=t.user;this.fov=i,this.heading=n,this.model=r,this.pitch=l,this.user=d;var p=this.model.get("photo_sphere")||this.model.get("video_sphere"),f=p&&a.isNumber(p.display_fov)?p.display_fov:75,m=p&&a.isNumber(p.heading)?p.heading:0,g=p&&a.isNumber(p.pitch)?p.pitch:0,v=o(r.get("xmp_create_date")).format("MMM D, YYYY h:mma"),y=o(r.get("created")).format("MMM D, YYYY h:mma"),_=r.get("normalized_gps_exif"),b=this.model,w=h({upload:b,user:d}),x=w?e.div({class:"btn-container"},e.button({class:"btn btn-sm-round",id:"image-details-view-set-heading-btn"},"SET CURRENT VIEW AS STARTING"),e.span({id:"saved-label"},"Saved")):null,M=window.M360FeatureFlags&&!0===window.M360FeatureFlags["download-original"]&&u({permission:s.DOWNLOAD,upload:b,user:d})?e.div(e.div({class:"btn-container"},e.a({class:"download-original-link",download:b.get("original_name"),href:b.get("original_url"),id:"download-originals-link"},e.button({class:"btn btn-sm-round"},"DOWNLOAD ORIGINAL")))):null,S=_&&"GPSNormalizedLatitude"in _&&"GPSNormalizedLongitude"in _;S&&(googleMapsLink=e.a({href:"https://www.google.com/maps/search/?api=1&query=".concat(_.GPSNormalizedLatitude,",").concat(_.GPSNormalizedLongitude),target:"_blank",id:"google-maps-link"},"View in Google Maps"),analytics.trackLink(googleMapsLink,"Click Maps Link",{email:this.user.get("email"),user_uuid:this.user.get("uuid"),"360_uuid":this.model.get("uuid"),own_media:this.model.owner.id==this.user.id,account_tier:this.user.get("account_tier")}));var k,T=S?e.div({class:"details-cell detail"},"".concat(_.GPSNormalizedLatitude.toFixed(8),", ").concat(_.GPSNormalizedLongitude.toFixed(8)),e.br(),googleMapsLink):e.div({class:"details-cell detail"},"None found");if(w){var C=b.get("content_shares").filter((function(t){return!t.withdrawn})).length,E=1===C?"Shared with 1 person":"Shared with ".concat(C," people");k=e.div(e.label("Sharing Information"),e.div({class:"sharing-information-container"},e.div(E),e.a({href:"#",id:"view-manage-access-link"},"View and Manage Access")))}e.div({class:"image-dialog-container"},e.label("Image Information"),e.div({class:"details-table"},e.div({class:"details-row"},e.div({class:"details-cell label"},"Uploaded to Momento360:"),e.div({class:"details-cell detail"},y)),e.div({class:"details-row"},e.div({class:"details-cell label"},"Image Created:"),e.div({class:"details-cell detail"},v)),e.div({class:"details-row"},e.div({class:"details-cell label"},"Original File Name:"),e.div({class:"details-cell detail"},r.get("original_name"))),e.div({class:"details-row"},e.div({class:"details-cell label"},"Original File Size:"),e.div({class:"details-cell detail"},c(r.get("original_size")))),window.M360FeatureFlags&&!0===window.M360FeatureFlags["location-data"]?e.div({class:"details-row"},e.div({class:"details-cell label"},"Location Info:"),T):null),M,e.label("Starting View"),e.div({class:"details-table includes-btn"},e.div({class:"details-row"},e.div({class:"details-cell label"},"Heading:"),e.div({class:"details-cell detail",id:"image-details-view-heading"},m)),e.div({class:"details-row"},e.div({class:"details-cell label"},"Pitch:"),e.div({class:"details-cell detail",id:"image-details-view-pitch"},g)),e.div({class:"details-row"},e.div({class:"details-cell label"},"FOV:"),e.div({class:"details-cell detail",id:"image-details-view-fov"},f))),x,k).appendTo(this.el),e.div({class:"dialog-button-container row justify-content-center"},e.button({class:"pill-button",id:"image-details-view-close-btn"},"CLOSE")).appendTo(this.el)},handleDownloadOriginalClick:function(){analytics.track("Download Original File",{owner_id:this.user.attributes.uuid,account_tier:this.user.attributes.account_tier})},handleCloseClick:function(){n(".close").trigger("click")},handleSetHeadingClick:function(){var t=this.fov,e=this.heading,i=this.pitch;this.model.save({display_fov:t,heading:e,pitch:i},{patch:!0,success:function(){n("#saved-label").show(),n("#image-details-view-set-heading-btn").blur(),n("#image-details-view-fov").text(t),n("#image-details-view-heading").text(e),n("#image-details-view-pitch").text(i),analytics.track("Adjust Default View")},error:function(){console.log("Could not set heading."),analytics.track("Error Adjusting Default View")}})},handleManageAccessClick:function(t){t.preventDefault(),n(".modal").modal("hide");var e=this.model,i=e.get("owner");this.trigger(d,{owner:i,upload:e})}})}).call(this,i(4),i(2))},function(t,e,i){var n=i(3),r=i(8).API_ROOT;t.exports=n.Model.extend({url:function(){return"".concat(r,"recipient/")}})},function(t,e,i){(function(e){var n=i(5),r=i(13),o=i(8).TIERS,a=i(678);t.exports=r.extend({initialize:function(t){if(!(t=t||{}).user)throw new Error("ImportCopyAnnotations/StartModal requires option user");if(!t.model)throw new Error("ImportCopyAnnotations/StartModal requires option model");if(!t.annotationTargetCollection)throw new Error("ImportCopyAnnotations/StartModal requires option annotationTargetCollection");this.user=t.user,this.annotationTargetCollection=t.annotationTargetCollection,this.logosEl=e.div({class:"logos upsell-logos"},e.i({class:"icon fal fa-file-import"}));var i=e.div({class:"text-center bulk-actions-modal"},e.h3("Move/Copy Annotations"),this.logosEl,e.p("Move or Copy Annotations from another 360 to the current 360. ",e.a({class:"upsell-link",href:"https://help.momento360.com/article/118-moving-or-copying-annotations-from-one-360-to-another",target:"_blank"},"Learn more.")));analytics.track("Click Move/Copy Annotations Button"),this.userCanAccessFeature()?t.primaryActionLabel="START":(t.primaryActionLabel="UPGRADE PLAN",e.p("Available on paid plans only.").appendTo(i),analytics.track("Show Move/Copy Annotations Upsell")),r.prototype.initialize.call(this,n.extend(t,{modalBody:i,primaryActionClass:"thin-button btn-center",onPrimaryAction:this.handleCtaClick.bind(this),disableSecondaryAction:!0,verticalPosition:"top"}))},userCanAccessFeature:function(){return(this.user?this.user.get("account_tier"):o.FREE)>o.FREE},handleCtaClick:function(t){(t.preventDefault(),this.userCanAccessFeature())?(new a({model:this.model,disableFade:!0,annotationTargetCollection:this.annotationTargetCollection}).open(),analytics.track("Start Move/Copy Annotations")):window.location.href="/billing/upgrade";return!0}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(5),r=i(13),o=i(156).getRootFolder,a=i(679);t.exports=r.extend({initialize:function(t){if(!(t=t||{}).model)throw new Error("ImportCopyAnnotations/Step1InstructionsModal requires option model");if(!t.annotationTargetCollection)throw new Error("ImportCopyAnnotations/Step1InstructionsModal requires option annotationTargetCollection");this.annotationTargetCollection=t.annotationTargetCollection;var i=e.div({class:"text-center bulk-actions-modal"},e.h4("First, select the 360 that has the annotations you wish to move or copy to the current 360."));r.prototype.initialize.call(this,n.extend(t,{title:"Move/Copy Annotations",modalBody:i,primaryActionLabel:"NEXT",primaryActionClass:"thin-button",secondaryActionLabel:"CANCEL",secondaryActionClass:"thin-light-button",onPrimaryAction:this.handleCtaClick.bind(this),verticalPosition:"top",destroyOnClose:!1}))},handleCtaClick:function(t){var e=this;return t.preventDefault(),o().then((function(t){return new a({rootFolder:t,model:e.model,disableFade:!0,annotationTargetCollection:e.annotationTargetCollection}).open(),analytics.track("Move/Copy Annotations: Select Source"),!0}))}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(5),r=i(3),o=i(13),a=i(348),s=i(111),l=i(680);t.exports=o.extend({initialize:function(t){if(!(t=t||{}).rootFolder)throw new Error("ImportCopyAnnotations/Step2UploadSelectorModal requires option rootFolder");if(!t.model)throw new Error("ImportCopyAnnotations/Step2UploadSelectorModal requires option model");if(!t.annotationTargetCollection)throw new Error("ImportCopyAnnotations/Step2UploadSelectorModal requires option annotationTargetCollection");this.rootFolder=t.rootFolder,this.annotationTargetCollection=t.annotationTargetCollection,this.selectedUpload=new r.Model({});var i=new a({rootFolder:this.rootFolder,model:this.selectedUpload,emptyTitle:"Select 360",emptyBody:e.ul({class:"instructions"},e.li("1. Select Folder from the dropdown above"),e.li("2. Select the 360 from the list on the left"),e.li("3. If correct, click SELECT button")),disabledUuids:[this.model.get("uuid")],startingFolderUuid:this.model.get("folder_uuid")});o.prototype.initialize.call(this,n.extend(t,{size:"xl",title:"Move/Copy Annotations > Select Source 360",modalBody:i.el,primaryActionLabel:"SELECT",primaryActionClass:"thin-button",secondaryActionLabel:"CANCEL",secondaryActionClass:"thin-light-button",onPrimaryAction:this.handleSourceSelected.bind(this),verticalPosition:"top",model:this.selectedUpload,modalDialogClass:"upload-selector-modal",destroyOnClose:!1}))},handleSourceSelected:function(t,e){var i=this;t.preventDefault();var n=this.selectedUpload.get("uuid"),r=new s({uuid:n});return new Promise((function(t,e){r.fetch({error:function(t,i,n){e(i)},success:function(e,i,n){t(e)}})})).then((function(t){return new l({model:i.model,sourceUpload:i.selectedUpload,sourceAnnotationTargets:t,disableFade:!0,previousModal:i,annotationTargetCollection:i.annotationTargetCollection}).open(),analytics.track("Move/Copy Annotations: Set Options"),!0}))}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(5),r=i(13),o=i(681);t.exports=r.extend({initialize:function(t){if(!(t=t||{}).model)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option model");if(!t.sourceUpload)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option sourceUpload");if(this.sourceUpload=t.sourceUpload,!t.sourceAnnotationTargets)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option sourceAnnotationTargets");if(this.sourceAnnotationTargets=t.sourceAnnotationTargets,!t.previousModal)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option previousModal");if(this.previousModal=t.previousModal,!t.annotationTargetCollection)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option annotationTargetCollection");this.annotationTargetCollection=t.annotationTargetCollection;var i=e.div({class:"text-center bulk-actions-modal"},e.h4({class:"modal-section-header"},"Selected Source 360:")),o=this.sourceUpload?this.sourceUpload.has("video_sphere")?this.sourceUpload.get("video_sphere"):this.sourceUpload.get("photo_sphere"):null;if(o){var a=o.large_thumbnail_url;i.append(e.a({href:"#ud/"+encodeURI(this.sourceUpload.get("uuid")),target:"_blank"},e.img({src:a,width:"65%",class:"move-copy-annotation-thumbnail"}),e.p({class:"move-copy-annotation-caption"},this.sourceUpload.get("caption"))))}i.append(e.h4({class:"modal-section-header"},"Annotations to Move: ".concat(this.sourceAnnotationTargets.length)),e.div({class:"form-group form-check bulk-export-link-options"},e.input({type:"checkbox",class:"form-check-input",id:"createCopyOption"}),e.label({class:"form-check-label",for:"createCopyOption"},"Create a Copy  ",e.i({class:"fal fa-info-circle tt-annotation-copy"}))),e.div({class:"form-group form-check bulk-export-link-options"},e.input({type:"checkbox",class:"form-check-input",id:"updateNavigationHotspotsOption",checked:"checked"}),e.label({class:"form-check-label",for:"updateNavigationHotspotsOption"},"Update all Navigation Hotspots linking to the above 360 to link to the new 360  ",e.i({class:"fal fa-info-circle tt-annotation-update-nav"})))),r.prototype.initialize.call(this,n.extend(t,{title:"Move/Copy Annotations > Set Options",modalBody:i,verticalPosition:"top",buttons:[{label:" BACK",class:"thin-light-button",callback:this.handleBackClick.bind(this)},{label:"CANCEL",class:"thin-light-button",callback:this.handleCancelClick.bind(this)},{label:"NEXT  ",class:"thin-button",callback:this.handleNextClick.bind(this)}],destroyOnClose:!1}))},handleBackClick:function(t){return t.preventDefault(),this.previousModal.open(),!0},handleCancelClick:function(t){return t.preventDefault(),!0},handleNextClick:function(t){t.preventDefault();var e=this.$el.find("#createCopyOption").prop("checked"),i=this.$el.find("#updateNavigationHotspotsOption").prop("checked");return new o({model:this.model,sourceUpload:this.sourceUpload,sourceAnnotationTargets:this.sourceAnnotationTargets,previousModal:this,operationOptions:{createCopy:e,updateNavigationHotspots:i},disableFade:!0,annotationTargetCollection:this.annotationTargetCollection}).open(),analytics.track("Move/Copy Annotations: Confirm",{source_360_uuid:this.sourceUpload.get("uuid"),source_360_title:this.sourceUpload.get("caption"),target_360_uuid:this.model.get("uuid"),target_360_title:this.model.get("caption"),annotation_count:this.sourceAnnotationTargets.length,update_nav:i,action_type:e?"copy":"move"}),!0}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(5),r=i(12),o=r.fetchJson,a=r.getCsrfToken,s=i(13),l=i(682);t.exports=s.extend({initialize:function(t){if(!(t=t||{}).model)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option model");if(!t.sourceUpload)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option sourceUpload");if(this.sourceUpload=t.sourceUpload,!t.sourceAnnotationTargets)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option sourceAnnotationTargets");if(this.sourceAnnotationTargets=t.sourceAnnotationTargets,!t.previousModal)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option previousModal");if(this.previousModal=t.previousModal,!t.operationOptions)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option operationOptions");if(this.operationOptions=t.operationOptions,!t.annotationTargetCollection)throw new Error("ImportCopyAnnotations/Step3OptionsModal requires option annotationTargetCollection");this.annotationTargetCollection=t.annotationTargetCollection;var i=e.div({class:"text-center bulk-actions-modal"},e.h4({class:"modal-section-header"},"Confirm: ",e.strong(this.operationOptions.createCopy?"Copy":"Move")," ",e.strong("".concat(this.sourceAnnotationTargets.length," annotations ")),"from")),r=this.sourceUpload?this.sourceUpload.has("video_sphere")?this.sourceUpload.get("video_sphere"):this.sourceUpload.get("photo_sphere"):null;if(r){var o=r.large_thumbnail_url;i.append(e.a({href:"#ud/"+encodeURI(this.sourceUpload.get("uuid")),target:"_blank,"},e.img({src:o,width:"65%",class:"move-copy-annotation-thumbnail"}),e.p({class:"move-copy-annotation-caption"},this.sourceUpload.get("caption"))),e.h4({class:"modal-section-header"},"to"))}var a=this.model?this.model.has("video_sphere")?this.model.get("video_sphere"):this.model.get("photo_sphere"):null;if(a){var l=a.large_thumbnail_url;i.append(e.a({href:"#ud/"+encodeURI(this.model.get("uuid")),target:"_blank"},e.img({src:l,width:"65%",class:"move-copy-annotation-thumbnail"}),e.p({class:"move-copy-annotation-caption"},this.model.get("caption"))))}this.operationOptions.updateNavigationHotspots&&i.append(e.h4({class:"modal-section-header"},"Also update Navigation Hotspot links to source 360 ",e.i({class:"fal fa-info-circle tt-annotation-update-nav"}))),s.prototype.initialize.call(this,n.extend(t,{title:"Move/Copy Annotations > Confirm",modalBody:i,verticalPosition:"top",buttons:[{label:"<< BACK",class:"thin-light-button",callback:this.handleBackClick.bind(this)},{label:"CANCEL",class:"thin-light-button",callback:this.handleCancelClick.bind(this)},{label:this.operationOptions.createCopy?"COPY":"MOVE",class:"thin-button",callback:this.handleNextClick.bind(this)}],destroyOnClose:!1}))},handleBackClick:function(t){return t.preventDefault(),this.previousModal.open(),!0},handleCancelClick:function(t){return t.preventDefault(),!0},handleNextClick:function(t){var i=this;t.preventDefault();var n="".concat(this.model.get("url"),"/annotations/_").concat(this.operationOptions.createCopy?"copy":"move"),r={source_uuid:this.sourceUpload.get("uuid"),update_navigation_hotspots:this.operationOptions.updateNavigationHotspots};return this.$el.find(".modal-body").empty().append(e.div({class:"text-center bulk-actions-modal"},e.h3("Import/Copy Annotations"),e.p(this.operationOptions.createCopy?"Copying":"Moving"," Annotations, please wait"),e.p(e.span({class:"icon icon-spinner icon-spin"})))),this.$el.find(".modal-footer").hide(),o(n,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json","X-CSRFToken":a()},body:JSON.stringify(r)}).then((function(t){return i.annotationTargetCollection.fetch({add:!0,remove:!0}),(new l).open(),analytics.track("Complete Move/Copy Annotations",{source_360_uuid:i.sourceUpload.get("uuid"),source_360_title:i.sourceUpload.get("caption"),target_360_uuid:i.model.get("uuid"),target_360_title:i.model.get("caption"),annotation_count:i.sourceAnnotationTargets.length,update_nav:i.operationOptions.updateNavigationHotspots,action_type:i.operationOptions.createCopy?"copy":"move"}),!0}))}})}).call(this,i(4))},function(t,e,i){(function(e){var n=i(5),r=i(13);t.exports=r.extend({initialize:function(t){t=t||{};var i=e.div({class:"text-center bulk-actions-modal"},e.h3("Move/Copy Annotations"),e.p("Operation Complete!"));r.prototype.initialize.call(this,n.extend(t,{modalBody:i,primaryActionLabel:"OK",primaryActionClass:"thin-button btn-center",disableSecondaryAction:!0,verticalPosition:"top",destroyOnClose:!1}))}})}).call(this,i(4))},function(t,e,i){(function(e,n){var r=i(5),o=i(3),a=i(72),s=i(23),l=s.mimeTypesToRegEx,c=s.getAttachmentOptions,u=i(157);t.exports=o.View.extend({tagName:"div",className:"toast hotspot-audio-toast-player",initialize:function(t){var e=this;t=t||{},["panel","model","collection"].forEach((function(i){if(!(i in t))throw new Error("ViewAudioHotspotToastView requires option '".concat(i,"'"));e[i]=t[i]})),this.annotation=this.model.get("annotation"),this.media=this.annotation.get("media"),this.$el.attr({role:"alert","aria-live":"assertive","aria-atomic":"true"}),this.render()},findFirstValidMedia:function(){var t=this.annotation.get("annotation_type"),e=c(t);if(null===e||!e.accept)return this.media.models.length>0?this.media.models[0]:null;var i=e.accept;return this.media.models.find((function(t){return null!==t.get("content_type").match(l(i))}))},render:function(){var t=this.findFirstValidMedia()||null,i=t.get("source_url"),o=r.template(e("#hs-audio").html())({audio_src:i,title:t.get("text")}),s=n.span({"aria-hidden":"true"});s.innerHTML="&times;";var l=n.div({class:"toast-body"});l.innerHTML=o,a.get(a.IS_EMBED,!1)||(this.annotationActionsView=new u({model:this.model,collection:this.collection,panel:this.panel,audioToast:this}),e(l).append(this.annotationActionsView.el)),this.$el.empty().append(n.div({class:"toast-header"},n.strong({class:"mr-auto"},this.annotation.get("title")),n.button({class:"ml-2 mb-1 close",type:"button","data-dismiss":"toast","aria-label":"Close"},s)),l)},close:function(){this.$el.find(".toast").toast("dispose"),this.$el.empty()}})}).call(this,i(2),i(4))},function(t,e,i){(function(e,n){var r=i(5),o=i(3),a=i(25),s=a.ANNOTATION_TYPES,l=a.ANNOTATION_FORM_METADATA,c=i(23),u=c.linkifyUrls,h=c.processCustomDataString,d=c.getContentCropUrl,p=c.getUploadUrl,f=c.navigateToUpload,m=i(12).sanitizeHtml,g=i(157),v=i(72);t.exports=o.View.extend({className:"hotspot-panel-contents",title:null,description:null,annotationType:null,panel:null,open_in_new_window:!1,target_url:null,size:null,createEmbedPanel:function(t){if(""!==t){t=t.trim();var i=e.parseHTML(t),n=!0;t.includes("<iframe")&&t.includes("</iframe>")&&(n=!1);var o={addIframeTag:n},a=r.template(e("#hs-embed").html())(o);this.getOrCreateMediaContainer("bs-embed").empty().html(a),n?this.$("#iframe-container").attr("srcdoc",t):(this.$("#embed-container").append(i),this.$("iframe").attr("id","iframe-container"))}else this.createErrorPanel("Embed hotspot is empty")},createHTMLPanel:function(t){""!==t?this.createEmbedPanel(t):this.createErrorPanel("HTML hotspot is empty")},createURLPanel:function(t,i,n){if(""!==t){var o={urlText:t,titleText:i,openInNewWindow:n,isEmbed:v.get(v.IS_EMBED,!1)},a=r.template(e("#url-link").html()),s=m(a(o));this.getOrCreateMediaContainer("bs-embed").empty().html(s)}else this.createErrorPanel("Link hotspot requires a link value")},createNavigationPanel:function(t,i,n){var o=t.upload,a={deleted:null!==o.deleted,urlText:p(o),titleText:i,descriptionText:n,captionText:o.caption,thumbnailUrlText:d(o,"medium_thumbnail"),isEmbed:v.get(v.IS_EMBED,!1)},s=r.template(e("#navigation-link").html()),l=m(s(a));this.getOrCreateMediaContainer("bs-embed").empty().html(l).find("a").on("click",(function(t){t.preventDefault(),f(o)}))},getOrCreateMediaContainer:function(t){t=t.trim().replace(/^\./,""),e(this.contentContainer).empty();var i=n.div({class:t});return i.appendTo(this.contentContainer),e(i)},createAudioPanel:function(){if(this.media.length>0){var t=this.media.models[0].get("source_url");if(this.media.models[0].get("content_type").match(/^audio\//i)){var i={audio_src:t,title:this.media.models[0].get("text")},n=r.template(e("#hs-audio").html())(i);this.getOrCreateMediaContainer("bs-audio").empty().html(n),e(".toast").toast({animation:!1,autohide:!1})}}else this.createErrorPanel("Audio hotspot requires an audio file")},createVideoPanel:function(){if(this.media.length>0){var t=this.media.models[0].get("source_url");if(this.media.models[0].get("content_type").match(/^video\//i)){var i={video_src:t,title:this.media.models[0].get("text")},n=r.template(e("#hs-video").html())(i);this.getOrCreateMediaContainer("bs-video").empty().html(n)}}else this.createErrorPanel("Video hotspot requires a video file")},createErrorPanel:function(t){var i={errorMessage:t},n=r.template(e("#error-panel").html())(i);this.getOrCreateMediaContainer("bs-error").empty().html(n)},createSingleImagePanel:function(){var t=null;this.media.length>0&&(t=this.media.models[0].get("source_url"));var i=n.img({src:t,class:"img-fluid hotspot-img"});e(this.contentContainer).empty().append(i),this.media.models[0].get("text")&&e(this.contentContainer).append(n.div({class:"hotspot-img-caption"},this.media.models[0].get("text")))},createImagePanelCarousel:function(){var t=[];this.media.length>0&&this.media.models.forEach((function(e){var i={url:e.get("source_url"),text:e.get("text")};t.push(i)}));var i={images:t,count:t.length},n=r.template(e("#hs-carousel").html())(i);this.getOrCreateMediaContainer("bs-carousel").empty().html(n)},addDescriptionContents:function(t,i){if(this.description=u(m(t),{newWindow:!0,className:"out-link",stripPrefix:{scheme:!1,www:!1}}),this.description){var r=n.p({class:"annotation-description"},"").appendTo(i);e(r).html(this.description)}},initialize:function(t){if(!(t=t||{}).model)throw new Error("ViewHotspotPanelView requires option model");if(!t.collection)throw new Error("ViewHotspotPanelView requires option collection");if(!t.panel)throw new Error("ViewHotspotPanelView requires option panel");this.panel=t.panel;var i=this.model.get("annotation");this.size=i.renderSize();var r=i.get("title"),o=i.get("description");if(this.panel.mainAnnotationPanel.standAlonePlayer&&this.panel.mainAnnotationPanel.useCustomDataFields&&this.panel.mainAnnotationPanel.customData&&(r=h(r,this.panel.mainAnnotationPanel.customData),o=h(o,this.panel.mainAnnotationPanel.customData)),this.title=m(r),this.body=n.div({class:"body"}).appendTo(this.el),this.annotationType=i.annotationType(),l[this.annotationType].supportsDescription&&this.annotationType!==s.NAVIGATION&&this.addDescriptionContents(o,this.body),this.contentContainer=n.div({class:"content-container"}).appendTo(this.body),this.annotationType===s.EMBED)this.createEmbedPanel(m(o));else if(this.annotationType===s.HTML)this.createHTMLPanel(o);else if(this.annotationType===s.URL)this.target_url=o.trim(),this.createURLPanel(this.target_url,this.title,i.get("open_in_new_window"));else if(this.annotationType===s.NAVIGATION){var a=i.get("navigation_hotspot");this.createNavigationPanel(a,this.title,o)}else this.media=i.get("media"),this.setupPanel(),this.listenTo(this.media,"reset",this.handleMediaReset.bind(this));(!("annotationsPanelControls"in t)||t.annotationsPanelControls)&&(this.annotationActionsView=new g({model:this.model,collection:this.collection,panel:this.panel.mainAnnotationPanel,hotspotPanel:this.panel}),e(this.body).append(this.annotationActionsView.el))},handleMediaReset:function(){this.setupPanel()},setupPanel:function(){var t=this.model.get("annotation");if(this.media=t.get("media"),this.annotationType===s.AUDIO)this.createAudioPanel();else if(this.annotationType===s.VIDEO)this.createVideoPanel();else{if(this.annotationType!==s.IMAGE)throw new Error("Unknown hotspot annotation type [".concat(this.annotationType,"]"));switch(this.media.length){case 0:this.createErrorPanel("Image hotspot is missing images");break;case 1:this.createSingleImagePanel();break;default:this.createImagePanelCarousel()}}}})}).call(this,i(2),i(4))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,r,o;
/*!
  backgrid 0.3.8
  http://github.com/cloudflare/backgrid

  Copyright (c) 2017 Cloudflare, Inc. and contributors <jwong@cloudflare.com>
  Licensed under the MIT license.
*/
o=this,n=[i(5),i(729)],void 0===(r=function(t,e){return o.Backgrid=function(t,e){"use strict";var i="\t\n\v\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||i.trim()){i="["+i+"]";var n=new RegExp("^"+i+i+"*"),r=new RegExp(i+i+"*$");String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(n,"").replace(r,"")}}function o(t,e,i){var n=e-(t+"").length;n=n<0?0:n;for(var r="",o=0;o<n;o++)r+=i;return r+t}var a=e.$,s={Extension:{},resolveNameToClass:function(e,i){if(t.isString(e)){var n=t.map(e.split("-"),(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)})).join("")+i,r=s[n]||s.Extension[n];if(t.isUndefined(r))throw new ReferenceError("Class '"+n+"' not found");return r}return e},callByNeed:function(){var e=arguments[0];if(!t.isFunction(e))return e;var i=arguments[1],n=[].slice.call(arguments,2);return e.apply(i,n+""?n:[])}};t.extend(s,e.Events);var l=s.Command=function(e){t.extend(this,{altKey:!!e.altKey,char:e.char,charCode:e.charCode,ctrlKey:!!e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:!!e.metaKey,repeat:!!e.repeat,shiftKey:!!e.shiftKey,which:e.which})};t.extend(l.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var c=s.CellFormatter=function(){};t.extend(c.prototype,{fromRaw:function(t,e){return t},toRaw:function(t,e){return t}});var u=s.NumberFormatter=function(e){if(t.extend(this,this.defaults,e||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};u.prototype=new c,t.extend(u.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(e,i){if(t.isNull(e)||t.isUndefined(e))return"";var n=(e=parseFloat(e).toFixed(~~this.decimals)).split("."),r=n[0],o=n[1]?(this.decimalSeparator||".")+n[1]:"";return r.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+o},toRaw:function(e,i){if(""===(e=e.trim()))return null;for(var n="",r=e.split(this.orderSeparator),o=0;o<r.length;o++)n+=r[o];var a=n.split(this.decimalSeparator);for(n="",o=0;o<a.length;o++)n=n+a[o]+".";"."===n[n.length-1]&&(n=n.slice(0,n.length-1));var s=1*(1*n).toFixed(~~this.decimals);return t.isNumber(s)&&!t.isNaN(s)?s:void 0}});var h=s.PercentFormatter=function(){s.NumberFormatter.apply(this,arguments)};h.prototype=new s.NumberFormatter,t.extend(h.prototype,{defaults:t.extend({},u.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(t,e){var i=[].slice.call(arguments,1);return i.unshift(t*this.multiplier),(u.prototype.fromRaw.apply(this,i)||"0")+this.symbol},toRaw:function(e,i){var n=e.split(this.symbol);if(n&&n[0]&&""===n[1]||null==n[1]){var r=u.prototype.toRaw.call(this,n[0]);return t.isUndefined(r)?r:r/this.multiplier}}});var d=s.DatetimeFormatter=function(e){if(t.extend(this,this.defaults,e||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};d.prototype=new c,t.extend(d.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(e,i){if(""===(e+"").trim())return null;var n,r=null;if(t.isNumber(e))n=o((c=new Date(e)).getUTCFullYear(),4,0)+"-"+o(c.getUTCMonth()+1,2,0)+"-"+o(c.getUTCDate(),2,0),r=o(c.getUTCHours(),2,0)+":"+o(c.getUTCMinutes(),2,0)+":"+o(c.getUTCSeconds(),2,0);else{var a=(e=e.trim()).split(this.ISO_SPLITTER_RE)||[];r=(n=this.DATE_RE.test(a[0])?a[0]:"")&&a[1]?a[1]:this.TIME_RE.test(a[0])?a[0]:""}var s=this.DATE_RE.exec(n)||[],l=this.TIME_RE.exec(r)||[];if(i){if(this.includeDate&&t.isUndefined(s[0]))return;if(this.includeTime&&t.isUndefined(l[0]))return;if(!this.includeDate&&n)return;if(!this.includeTime&&r)return}var c=new Date(Date.UTC(1*s[1]||0,1*s[2]-1||0,1*s[3]||0,1*l[1]||null,1*l[2]||null,1*l[3]||null,1*l[5]||null)),u="";return this.includeDate&&(u=o(c.getUTCFullYear(),4,0)+"-"+o(c.getUTCMonth()+1,2,0)+"-"+o(c.getUTCDate(),2,0)),this.includeTime&&(u=u+(this.includeDate?"T":"")+o(c.getUTCHours(),2,0)+":"+o(c.getUTCMinutes(),2,0)+":"+o(c.getUTCSeconds(),2,0),this.includeMilli&&(u=u+"."+o(c.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(u+="Z"),u},fromRaw:function(e,i){return t.isNull(e)||t.isUndefined(e)?"":this._convert(e)},toRaw:function(t,e){return this._convert(t,!0)}});var p=s.StringFormatter=function(){};p.prototype=new c,t.extend(p.prototype,{fromRaw:function(e,i){return t.isUndefined(e)||t.isNull(e)?"":e+""}});var f=s.EmailFormatter=function(){};f.prototype=new c,t.extend(f.prototype,{toRaw:function(e,i){var n=e.trim().split("@");if(2===n.length&&t.all(n))return e}});var m=s.SelectFormatter=function(){};m.prototype=new c,t.extend(m.prototype,{fromRaw:function(e,i){return t.isArray(e)?e:null!=e?[e]:[]}});var g=s.CellEditor=e.View.extend({initialize:function(t){this.formatter=t.formatter,this.column=t.column,this.column instanceof C||(this.column=new C(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(t,e){return null!=e&&e.get("name")!=this.column.get("name")||this.$el.focus(),this}}),v=s.InputCellEditor=g.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(t){v.__super__.initialize.apply(this,arguments),t.placeholder&&this.$el.attr("placeholder",t.placeholder)},render:function(){var t=this.model;return this.$el.val(this.formatter.fromRaw(t.get(this.column.get("name")),t)),this},saveOrCancel:function(e){var i=this.formatter,n=this.model,r=this.column,o=new l(e),a="blur"===e.type;if(o.moveUp()||o.moveDown()||o.moveLeft()||o.moveRight()||o.save()||a){e.preventDefault(),e.stopPropagation();var s=this.$el.val(),c=i.toRaw(s,n);t.isUndefined(c)?n.trigger("backgrid:error",n,r,s):(n.set(r.get("name"),c),n.trigger("backgrid:edited",n,r,o))}else o.cancel()&&(e.stopPropagation(),n.trigger("backgrid:edited",n,r,o))},postRender:function(t,e){if(null==e||e.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var i=this.$el.val();this.$el.focus().val(null).val(i)}else this.$el.focus();return this}}),y=s.Cell=e.View.extend({tagName:"td",formatter:c,editor:v,events:{click:"enterEditMode"},initialize:function(e){this.column=e.column,this.column instanceof C||(this.column=new C(this.column));var i=this.column,n=this.model,r=this.$el,o=s.resolveNameToClass(i.get("formatter")||this.formatter,"Formatter");t.isFunction(o.fromRaw)||t.isFunction(o.toRaw)||(o=new o),this.formatter=o,this.editor=s.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(n,"change:"+i.get("name"),(function(){r.hasClass("editor")||this.render()})),this.listenTo(n,"backgrid:error",this.renderError),this.listenTo(i,"change:editable change:sortable change:renderable",(function(t){var e=t.changedAttributes();for(var i in e)e.hasOwnProperty(i)&&r.toggleClass(i,e[i])})),this.updateStateClassesMaybe()},updateStateClassesMaybe:function(){var t=this.model,e=this.column,i=this.$el;i.toggleClass("editable",s.callByNeed(e.editable(),e,t)),i.toggleClass("sortable",s.callByNeed(e.sortable(),e,t)),i.toggleClass("renderable",s.callByNeed(e.renderable(),e,t))},render:function(){var t=this.$el;t.empty();var e=this.model,i=this.column.get("name");return t.text(this.formatter.fromRaw(e.get(i),e)),t.addClass(i),this.updateStateClassesMaybe(),this.delegateEvents(),this},enterEditMode:function(){var t=this.model,e=this.column;s.callByNeed(e.editable(),e,t)&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),t.trigger("backgrid:edit",t,e,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),t.trigger("backgrid:editing",t,e,this,this.currentEditor))},renderError:function(t,e){null!=e&&e.get("name")!=this.column.get("name")||this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),y.__super__.remove.apply(this,arguments)}}),_=s.StringCell=y.extend({className:"string-cell",formatter:p}),b=s.UriCell=y.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(t){b.__super__.initialize.apply(this,arguments),this.title=t.title||this.title,this.target=t.target||this.target},render:function(){this.$el.empty();var t=this.model.get(this.column.get("name")),e=this.formatter.fromRaw(t,this.model);return this.$el.append(a("<a>",{tabIndex:-1,href:t,title:this.title||e,target:this.target}).text(e)),this.delegateEvents(),this}}),w=(s.EmailCell=_.extend({className:"email-cell",formatter:f,render:function(){this.$el.empty();var t=this.model,e=this.formatter.fromRaw(t.get(this.column.get("name")),t);return this.$el.append(a("<a>",{tabIndex:-1,href:"mailto:"+e,title:e}).text(e)),this.delegateEvents(),this}}),s.NumberCell=y.extend({className:"number-cell",decimals:u.prototype.defaults.decimals,decimalSeparator:u.prototype.defaults.decimalSeparator,orderSeparator:u.prototype.defaults.orderSeparator,formatter:u,initialize:function(t){w.__super__.initialize.apply(this,arguments);var e=this.formatter;e.decimals=this.decimals,e.decimalSeparator=this.decimalSeparator,e.orderSeparator=this.orderSeparator}})),x=(s.IntegerCell=w.extend({className:"integer-cell",decimals:0}),s.PercentCell=w.extend({className:"percent-cell",multiplier:h.prototype.defaults.multiplier,symbol:h.prototype.defaults.symbol,formatter:h,initialize:function(){x.__super__.initialize.apply(this,arguments);var t=this.formatter;t.multiplier=this.multiplier,t.symbol=this.symbol}})),M=s.DatetimeCell=y.extend({className:"datetime-cell",includeDate:d.prototype.defaults.includeDate,includeTime:d.prototype.defaults.includeTime,includeMilli:d.prototype.defaults.includeMilli,formatter:d,initialize:function(e){M.__super__.initialize.apply(this,arguments);var i=this.formatter;i.includeDate=this.includeDate,i.includeTime=this.includeTime,i.includeMilli=this.includeMilli;var n=this.includeDate?"YYYY-MM-DD":"";n+=this.includeDate&&this.includeTime?"T":"",n+=this.includeTime?"HH:mm:ss":"",n+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:t.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:n})})}}),S=(s.DateCell=M.extend({className:"date-cell",includeTime:!1}),s.TimeCell=M.extend({className:"time-cell",includeDate:!1}),s.BooleanCellEditor=g.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var t=this.model,e=this.formatter.fromRaw(t.get(this.column.get("name")),t);return this.$el.prop("checked",e),this},enterOrExitEditMode:function(t){if(!this.mouseDown){var e=this.model;e.trigger("backgrid:edited",e,this.column,new l(t))}},saveOrCancel:function(t){var e=this.model,i=this.column,n=this.formatter,r=new l(t);if(r.passThru()&&"change"!=t.type)return!0;r.cancel()&&(t.stopPropagation(),e.trigger("backgrid:edited",e,i,r));var o=this.$el;if(r.save()||r.moveLeft()||r.moveRight()||r.moveUp()||r.moveDown()){t.preventDefault(),t.stopPropagation();var a=n.toRaw(o.prop("checked"),e);e.set(i.get("name"),a),e.trigger("backgrid:edited",e,i,r)}else"change"==t.type&&(a=n.toRaw(o.prop("checked"),e),e.set(i.get("name"),a),o.focus())}})),k=(s.BooleanCell=y.extend({className:"boolean-cell",editor:S,events:{click:"enterEditMode"},render:function(){this.$el.empty();var t=this.model,e=this.column,i=s.callByNeed(e.editable(),e,t);return this.$el.append(a("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(t.get(e.get("name")),t),disabled:!i})),this.delegateEvents(),this}}),s.SelectCellEditor=g.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:t.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}),setOptionValues:function(e){this.optionValues=e,this.optionValues=t.result(this,"optionValues")},setMultiple:function(t){this.multiple=t,this.$el.prop("multiple",t)},_renderOptions:function(e,i){for(var n="",r=0;r<e.length;r++)n+=this.template({text:e[r][0],value:e[r][1],selected:t.indexOf(i,e[r][1])>-1});return n},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),i=this.model,n=this.formatter.fromRaw(i.get(this.column.get("name")),i);if(!t.isArray(e))throw new TypeError("optionValues must be an array");for(var r=null,o=null,s=(r=null,null),l=null,c=0;c<e.length;c++)if(r=e[c],t.isArray(r))o=r[0],r=r[1],this.$el.append(this.template({text:o,value:r,selected:t.indexOf(n,r)>-1}));else{if(!t.isObject(r))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");s=r.name,(l=a("<optgroup></optgroup>",{label:s})).append(this._renderOptions.call(this,r.values,n)),this.$el.append(l)}return this.delegateEvents(),this},save:function(t){var e=this.model,i=this.column;e.set(i.get("name"),this.formatter.toRaw(this.$el.val(),e))},close:function(t){var e=this.model,i=this.column,n=new l(t);n.cancel()?(t.stopPropagation(),e.trigger("backgrid:edited",e,i,new l(t))):(n.save()||n.moveLeft()||n.moveRight()||n.moveUp()||n.moveDown()||"blur"==t.type)&&(t.preventDefault(),t.stopPropagation(),this.save(t),e.trigger("backgrid:edited",e,i,new l(t)))}})),T=s.SelectCell=y.extend({className:"select-cell",editor:k,multiple:!1,formatter:m,optionValues:void 0,delimiter:", ",initialize:function(t){T.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",(function(t,e,i,n){e.get("name")==this.column.get("name")&&(n.setOptionValues(this.optionValues),n.setMultiple(this.multiple))}))},render:function(){this.$el.empty();var e=t.result(this,"optionValues"),i=this.model,n=this.formatter.fromRaw(i.get(this.column.get("name")),i),r=[];try{if(!t.isArray(e)||t.isEmpty(e))throw new TypeError;for(var o=0;o<n.length;o++)for(var a=n[o],s=0;s<e.length;s++){var l=e[s];if(t.isArray(l)){var c=l[0];(l=l[1])==a&&r.push(c)}else{if(!t.isObject(l))throw new TypeError;for(var u=l.values,h=0;h<u.length;h++){var d=u[h];d[1]==a&&r.push(d[0])}}}this.$el.append(r.join(this.delimiter))}catch(t){if(t instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw t}return this.delegateEvents(),this}}),C=s.Column=e.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var t=s.resolveNameToClass(this.get("headerCell"),"HeaderCell"),e=s.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:e,headerCell:t},{silent:!0})},sortValue:function(){var e=this.get("sortValue");return t.isString(e)?this[e]:t.isFunction(e)?e:function(t,e){return t.get(e)}}});t.each(["sortable","renderable","editable"],(function(e){C.prototype[e]=function(){var i=this.get(e);return t.isString(i)?this[i]:t.isFunction(i)?i:!!i}}));var E=s.Columns=e.Collection.extend({model:C}),A=s.Row=e.View.extend({tagName:"tr",initialize:function(t){var i=this.columns=t.columns;i instanceof e.Collection||(i=this.columns=new E(i));for(var n=this.cells=[],r=0;r<i.length;r++)n.push(this.makeCell(i.at(r),t));this.listenTo(i,"add",(function(e,i){var r=i.indexOf(e),o=this.makeCell(e,t);n.splice(r,0,o);var a=this.$el;0===r?a.prepend(o.render().$el):r===i.length-1?a.append(o.render().$el):a.children().eq(r).before(o.render().$el)})),this.listenTo(i,"remove",(function(t,e,i){n[i.index].remove(),n.splice(i.index,1)}))},makeCell:function(t){return new(t.get("cell"))({column:t,model:this.model})},render:function(){this.$el.empty();for(var t=document.createDocumentFragment(),e=0;e<this.cells.length;e++)t.appendChild(this.cells[e].render().el);return this.el.appendChild(t),this.delegateEvents(),this},remove:function(){for(var t=0;t<this.cells.length;t++){var i=this.cells[t];i.remove.apply(i,arguments)}return e.View.prototype.remove.apply(this,arguments)}}),L=s.EmptyRow=e.View.extend({tagName:"tr",emptyText:null,initialize:function(t){this.emptyText=t.emptyText,this.columns=t.columns},render:function(){this.$el.empty();var e=document.createElement("td");e.setAttribute("colspan",this.columns.length);var i=document.createElement("span");return i.innerHTML=t.result(this,"emptyText"),e.appendChild(i),this.el.className="empty",this.el.appendChild(e),this}}),D=s.HeaderCell=e.View.extend({tagName:"th",events:{"click button":"onClick"},initialize:function(t){this.column=t.column,this.column instanceof C||(this.column=new C(this.column));var e=this.column,i=this.collection,n=this.$el;this.listenTo(e,"change:editable change:sortable change:renderable",(function(t){var e=t.changedAttributes();for(var i in e)e.hasOwnProperty(i)&&n.toggleClass(i,e[i])})),this.listenTo(e,"change:direction",this.setCellDirection),this.listenTo(e,"change:name change:label",this.render),s.callByNeed(e.editable(),e,i)&&n.addClass("editable"),s.callByNeed(e.sortable(),e,i)&&n.addClass("sortable"),s.callByNeed(e.renderable(),e,i)&&n.addClass("renderable"),this.listenTo(i.fullCollection||i,"backgrid:sorted",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(t,e){this.$el.removeClass("ascending").removeClass("descending"),t.cid==this.column.cid&&this.$el.addClass(e)},onClick:function(t){t.preventDefault();var e,i=this.column,n=this.collection,r="backgrid:sort";s.callByNeed(i.sortable(),i,this.collection)&&("toggle"===i.get("sortType")?(e=i,"ascending"===i.get("direction")?n.trigger(r,e,"descending"):n.trigger(r,e,"ascending")):function(t,e){"ascending"===i.get("direction")?n.trigger(r,e,"descending"):"descending"===i.get("direction")?n.trigger(r,e,null):n.trigger(r,e,"ascending")}(0,i))},render:function(){this.$el.empty();var t,e=this.column;return t=s.callByNeed(e.sortable(),e,this.collection)?a("<button>").text(e.get("label")).append("<span class='sort-caret' aria-hidden='true'></span>"):document.createTextNode(e.get("label")),this.$el.append(t),this.$el.addClass(e.get("name")),this.$el.addClass(e.get("direction")),this.delegateEvents(),this}}),P=(s.HeaderRow=s.Row.extend({initialize:function(){s.Row.prototype.initialize.apply(this,arguments)},makeCell:function(t,e){var i=t.get("headerCell")||e.headerCell||D;return i=new i({column:t,collection:this.collection})}}),s.Header=e.View.extend({tagName:"thead",initialize:function(t){this.columns=t.columns,this.columns instanceof e.Collection||(this.columns=new E(this.columns)),this.row=new s.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),e.View.prototype.remove.apply(this,arguments)}})),O=s.Body=e.View.extend({tagName:"tbody",initialize:function(t){this.columns=t.columns,this.columns instanceof e.Collection||(this.columns=new E(this.columns)),this.row=t.row||this.row||A,this.rows=this.collection.map((function(t){return new this.row({columns:this.columns,model:t})}),this),this.emptyText=t.emptyText,this._unshiftEmptyRowMayBe();var i=this.collection;this.listenTo(i,"add",this.insertRow),this.listenTo(i,"remove",this.removeRow),this.listenTo(i,"sort",this.refresh),this.listenTo(i,"reset",this.refresh),this.listenTo(i,"backgrid:sort",this.sort),this.listenTo(i,"backgrid:edited",this.moveToNextCell),this.listenTo(this.columns,"add remove",this.updateEmptyRow)},_unshiftEmptyRowMayBe:function(){if(0===this.rows.length&&null!=this.emptyText)return this.emptyRow=new L({emptyText:this.emptyText,columns:this.columns}),this.rows.unshift(this.emptyRow),!0},insertRow:function(t,i,n){if(this.rows[0]instanceof L&&this.rows.pop().remove(),i instanceof e.Collection||n){var r=new this.row({columns:this.columns,model:t}),o=i.indexOf(t);this.rows.splice(o,0,r);var a=this.$el,s=a.children(),l=r.render().$el;return o>=s.length?a.append(l):s.eq(o).before(l),this}this.collection.add(t,n=i)},removeRow:function(e,i,n){return n?((t.isUndefined(n.render)||n.render)&&this.rows[n.index].remove(),this.rows.splice(n.index,1),this._unshiftEmptyRowMayBe()&&this.render(),this):(this.collection.remove(e,n=i),void(this._unshiftEmptyRowMayBe()&&this.render()))},updateEmptyRow:function(){null!=this.emptyRow&&this.emptyRow.render()},refresh:function(){for(var t=0;t<this.rows.length;t++)this.rows[t].remove();return this.rows=this.collection.map((function(t){return new this.row({columns:this.columns,model:t})}),this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var t=document.createDocumentFragment(),e=0;e<this.rows.length;e++){var i=this.rows[e];t.appendChild(i.render().el)}return this.el.appendChild(t),this.delegateEvents(),this},remove:function(){for(var t=0;t<this.rows.length;t++){var i=this.rows[t];i.remove.apply(i,arguments)}return e.View.prototype.remove.apply(this,arguments)},sort:function(i,n){if(!t.contains(["ascending","descending",null],n))throw new RangeError('direction must be one of "ascending", "descending" or `null`');t.isString(i)&&(i=this.columns.findWhere({name:i}));var r,o=this.collection;r="ascending"===n?-1:"descending"===n?1:null;var a=this.makeComparator(i.get("name"),r,r?i.sortValue():function(t){return 1*t.cid.replace("c","")});return e.PageableCollection&&o instanceof e.PageableCollection?(o.setSorting(r&&i.get("name"),r,{sortValue:i.sortValue()}),o.fullCollection?(null==o.fullCollection.comparator&&(o.fullCollection.comparator=a),o.fullCollection.sort(),o.trigger("backgrid:sorted",i,n,o),i.set("direction",n)):o.fetch({reset:!0,success:function(){o.trigger("backgrid:sorted",i,n,o),i.set("direction",n)}})):(o.comparator=a,o.sort(),o.trigger("backgrid:sorted",i,n,o),i.set("direction",n)),this},makeComparator:function(t,e,i){return function(n,r){var o,a=i(n,t),s=i(r,t);return 1===e&&(o=a,a=s,s=o),a===s?0:a<s?-1:1}},moveToNextCell:function(t,e,i){var n,r,o,a,l,c=this.collection.indexOf(t),u=this.columns.indexOf(e);if(-1===u)return this;if(this.rows[c].cells[u].exitEditMode(),i.moveUp()||i.moveDown()||i.moveLeft()||i.moveRight()||i.save()){var h=this.columns.length,d=h*this.collection.length;if(i.moveUp()||i.moveDown()){a=c+(i.moveUp()?-1:1);var p=this.rows[a];p?(n=p.cells[u],s.callByNeed(n.column.editable(),n.column,t)&&(n.enterEditMode(),t.trigger("backgrid:next",a,u,!1))):t.trigger("backgrid:next",a,u,!0)}else if(i.moveLeft()||i.moveRight()){for(var f=i.moveRight(),m=c*h+u+(f?1:-1);m>=0&&m<d;f?m++:m--)if(l=m-(a=~~(m/h))*h,n=this.rows[a].cells[l],r=s.callByNeed(n.column.renderable(),n.column,n.model),o=s.callByNeed(n.column.editable(),n.column,t),r&&o){n.enterEditMode(),t.trigger("backgrid:next",a,l,!1);break}m==d&&t.trigger("backgrid:next",~~(m/h),m-a*h,!0)}}return this}});return s.Footer=e.View.extend({tagName:"tfoot",initialize:function(t){this.columns=t.columns,this.columns instanceof e.Collection||(this.columns=new s.Columns(this.columns))}}),s.Grid=e.View.extend({tagName:"table",className:"backgrid",header:P,body:O,footer:null,initialize:function(i){i.columns instanceof e.Collection||(i.columns=new E(i.columns||this.columns)),this.columns=i.columns,this.caption=i.caption;var n=t.omit(i,["el","id","attributes","className","tagName","events"]);this.body=i.body||this.body,this.body=new this.body(n),this.header=i.header||this.header,this.header&&(this.header=new this.header(n)),this.footer=i.footer||this.footer,this.footer&&(this.footer=new this.footer(n)),this.listenTo(this.columns,"reset",(function(){this.header&&(this.header=new(this.header.remove().constructor)(n)),this.body=new(this.body.remove().constructor)(n),this.footer&&(this.footer=new(this.footer.remove().constructor)(n)),this.render()}))},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.caption&&this.$el.append(a("<caption>").text(this.caption)),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),e.View.prototype.remove.apply(this,arguments)}}),s}(t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(n){var r,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a="object"==("undefined"==typeof self?"undefined":s(self))&&self.self===self&&self||"object"==(void 0===n?"undefined":s(n))&&n.global===n&&n,r=[i(5),i(2),e],void 0===(o=function(t,e,i){a.Backbone=function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){i.each(e,(function(e,r){i[r]&&(t.prototype[r]=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,o){return i[e](this[n],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}}(e,r,n))}))},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?c(t):i.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},h=/\s+/,d=function t(e,n,r,o,a){var l,c=0;if(r&&"object"===s(r)){void 0!==o&&"context"in a&&void 0===a.context&&(a.context=o);for(l=i.keys(r);c<l.length;c++)n=t(e,n,l[c],r[l[c]],a)}else if(r&&h.test(r))for(l=r.split(h);c<l.length;c++)n=e(n,l[c],o,a);else n=e(n,r,o,a);return n};u.on=function(t,e,i){return p(this,t,e,i)};var p=function(t,e,i,n,r){return t._events=d(f,t._events||{},e,i,{context:n,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};u.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=i.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return p(t,e,n,this,a),this};var f=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,a=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:o,ctx:o||a,listening:s})}return t};u.off=function(t,e,i){return this._events?(this._events=d(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},u.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,n,this)}return this};var m=function(t,e,n,r){if(t){var o,a=0,s=r.context,l=r.listeners;if(e||n||s){for(var c=e?[e]:i.keys(t);a<c.length;a++){var u=t[e=c[a]];if(!u)break;for(var h=[],d=0;d<u.length;d++){var p=u[d];n&&n!==p.callback&&n!==p.callback._callback||s&&s!==p.context?h.push(p):(o=p.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}h.length?t[e]=h:delete t[e]}return t}for(var f=i.keys(l);a<f.length;a++)delete l[(o=l[f[a]]).id],delete o.listeningTo[o.objId]}};u.once=function(t,e,n){var r=d(g,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},u.listenToOnce=function(t,e,n){var r=d(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,n,r){if(n){var o=t[e]=i.once((function(){r(e,o),n.apply(this,arguments)}));o._callback=n}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};u.bind=u.on,u.unbind=u.off,i.extend(e,u);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"===s(t)?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,a=n.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,h=this.changed,d=this._previousAttributes;for(var p in r)e=r[p],i.isEqual(u[p],e)||l.push(p),i.isEqual(d[p],e)?delete h[p]:h[p]=e,o?delete u[p]:u[p]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!a){l.length&&(this._pending=n);for(var f=0;f<l.length;f++)this.trigger("change:"+l[f],this,u[l[f]],n)}if(c)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var o=t[r];i.isEqual(e[r],o)||(n[r]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},j(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"===s(t)?(r=t,n=e):(r={})[t]=e;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var a=this,l=n.success,c=this.attributes;n.success=function(t){a.attributes=c;var e=n.parse?a.parse(t,n):t;if(o&&(e=i.extend({},r,e)),e&&!a.set(e,n))return!1;l&&l.call(n.context,a,t,n),a.trigger("sync",a,t,n)},j(this,n),r&&o&&(this.attributes=i.extend({},c,r));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=r);var h=this.sync(u,this,n);return this.attributes=c,h},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(j(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),a(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},M=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),o=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+o+i]=r[n]};i.extend(b.prototype,u,{model:_,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],c=[],u=[],h={},d=e.add,p=e.merge,f=e.remove,m=!1,g=this.comparator&&null==r&&!1!==e.sort,v=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(p&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),c.push(y),g&&!m&&(m=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,s.push(y)),t[a]=y}else d&&(o=t[a]=this._prepareModel(o,e))&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o))}if(f){for(a=0;a<this.length;a++)h[(o=this.models[a]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var b=!1,x=!g&&d&&f;if(s.length&&x?(b=this.length!==s.length||i.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,M(this.models,s,0),this.length=this.models.length):l.length&&(g&&(m=!0),M(this.models,l,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=r&&(e.index=r+a),(o=l[a]).trigger("add",o,this,e);(m||b)&&this.trigger("sort",this,e),(l.length||u.length||c.length)&&(e.changes={added:l,removed:u,merged:c},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var S=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(S.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(k);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var o=C[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=i.result(n,"url")||F()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(a,r));return n.trigger("request",n,c,r),c};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(E.prototype,u,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,(function(i){var a=o._extractParameters(t,i);!1!==o.execute(r,a,n)&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(A,"(?:$1)?").replace(L,(function(t,e){return e?t:"([^/?]+)"})).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var O=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,R=/#.*$/;O.started=!1,i.extend(O.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(I,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(R,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new O,_.extend=b.extend=E.extend=S.extend=O.extend=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};var F=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e}(a,i,t,e)}.apply(e,r))||(t.exports=o)}).call(this,i(51))},function(t,e,i){"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,a,s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":r(t)};o=this,a=function(){var t=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],e={P:Math.pow(2,50),T:Math.pow(2,40),G:Math.pow(2,30),M:Math.pow(2,20)},i=function(t){return null!=t},n=function(t){return t!=t},r=function(t){return isFinite(t)&&!n(parseFloat(t))},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={intword:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?2:arguments[2];return a.compactInteger(t,i)},compactInteger:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];e=Math.max(e,0);var i=parseInt(t,10),n=i<0?"-":"",r=Math.abs(i),o=String(r),a=o.length,s=[13,10,7,4],l=["T","B","M","k"];if(r<1e3)return""+n+o;if(a>s[0]+3)return i.toExponential(e).replace("e+","x10^");for(var c=void 0,u=0;u<s.length;u++){var h=s[u];if(a>=h){c=h;break}}var d=a-c+1,p=o.split(""),f=p.slice(0,d),m=p.slice(d,d+e+1),g=f.join(""),v=m.join("");v.length<e&&(v+=""+Array(e-v.length+1).join("0"));var y=void 0;if(0===e)y=""+n+g+l[s.indexOf(c)];else{var _=Number(g+"."+v).toFixed(e);y=""+n+_+l[s.indexOf(c)]}return y},intComma:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return a.formatNumber(t,e)},intcomma:function(){return a.intComma.apply(a,arguments)},fileSize:function(t){var i=arguments.length<=1||void 0===arguments[1]?2:arguments[1];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(t>=r)return a.formatNumber(t/r,i,"")+" "+n+"B"}return t>=1024?a.formatNumber(t/1024,0)+" KB":a.formatNumber(t,0)+a.pluralize(t," byte")},filesize:function(){return a.fileSize.apply(a,arguments)},formatNumber:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?",":arguments[2],n=arguments.length<=3||void 0===arguments[3]?".":arguments[3],r=function(t,e,i){return i?t.substr(0,i)+e:""},o=function(t,e,i){return t.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+e)},s=function(t,e,i){return i?e+a.toFixed(Math.abs(t),i).split(".")[1]:""},l=a.normalizePrecision(e),c=t<0?"-":"",u=String(parseInt(a.toFixed(Math.abs(t||0),l),10)),h=u.length>3?u.length%3:0;return c+r(u,i,h)+o(u,i,h)+s(t,n,l)},toFixed:function(t,e){e=i(e)?e:a.normalizePrecision(e,0);var n=Math.pow(10,e);return(Math.round(t*n)/n).toFixed(e)},normalizePrecision:function(t,e){return t=Math.round(Math.abs(t)),n(t)?e:t},ordinal:function(t){var e=parseInt(t,10);if(0===e)return t;if([11,12,13].indexOf(e%100)>=0)return e+"th";var i=void 0;switch(e%10){case 1:i="st";break;case 2:i="nd";break;case 3:i="rd";break;default:i="th"}return""+e+i},times:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r(t)&&t>=0){var n=parseFloat(t),o=["never","once","twice"];if(i(e[n]))return String(e[n]);var a=i(o[n])&&o[n].toString();return a||n.toString()+" times"}return null},pluralize:function(t,e,n){return i(t)&&i(e)?(n=i(n)?n:e+"s",1===parseInt(t,10)?e:n):null},truncate:function(t){var e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"...":arguments[2];return t.length>e?t.substring(0,e-i.length)+i:t},truncateWords:function(t,e){for(var n=t.split(" "),r="",o=0;o<e;)i(n[o])&&(r+=n[o]+" "),o++;return n.length>e?r+"...":null},truncatewords:function(){return a.truncateWords.apply(a,arguments)},boundedNumber:function(t){var e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"+":arguments[2],n=void 0;return r(t)&&r(e)&&t>e&&(n=e+i),(n||t).toString()},truncatenumber:function(){return a.boundedNumber.apply(a,arguments)},oxford:function(t,e,n){var r=t.length,o=void 0;if(r<2)return String(t);if(2===r)return t.join(" and ");if(i(e)&&r>e){var s=r-e;o=e,n=i(n)?n:", and "+s+" "+a.pluralize(s,"other")}else o=-1,n=", and "+t[r-1];return t.slice(0,o).join(", ")+n},dictionary:function(t){var e=arguments.length<=1||void 0===arguments[1]?" is ":arguments[1],n=arguments.length<=2||void 0===arguments[2]?", ":arguments[2],r="";if(i(t)&&"object"===(void 0===t?"undefined":s(t))&&!o(t)){var a=[];for(var l in t)if(t.hasOwnProperty(l)){var c=t[l];a.push(""+l+e+c)}return a.join(n)}return r},frequency:function(t,e){if(!o(t))return null;var i=t.length,n=a.times(i);return 0===i?n+" "+e:e+" "+n},pace:function(e,i){var n=arguments.length<=2||void 0===arguments[2]?"time":arguments[2];if(0===e||0===i)return"No "+a.pluralize(0,n);for(var r="Approximately",o=void 0,s=void 0,l=e/i,c=0;c<t.length;++c){var u=t[c];if((s=l*u.value)>1){o=u.name;break}}o||(r="Less than",s=1,o=t[t.length-1].name);var h=Math.round(s);return r+" "+h+" "+(n=a.pluralize(h,n))+" per "+o},nl2br:function(t){var e=arguments.length<=1||void 0===arguments[1]?"<br/>":arguments[1];return t.replace(/\n/g,e)},br2nl:function(t){var e=arguments.length<=1||void 0===arguments[1]?"\r\n":arguments[1];return t.replace(/\<br\s*\/?\>/g,e)},capitalize:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return""+t.charAt(0).toUpperCase()+(e?t.slice(1).toLowerCase():t.slice(1))},capitalizeAll:function(t){return t.replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()}))},titleCase:function(t){var e=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,i=/\S+[A-Z]+\S*/,n=/\s+/,r=/-/,o=void 0;return(o=function(t){for(var s=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],l=arguments.length<=2||void 0===arguments[2]||arguments[2],c=[],u=t.split(s?r:n),h=0;h<u.length;++h){var d=u[h];-1===d.indexOf("-")?!l||0!==h&&h!==u.length-1?i.test(d)?c.push(d):e.test(d)?c.push(d.toLowerCase()):c.push(a.capitalize(d)):c.push(i.test(d)?d:a.capitalize(d)):c.push(o(d,!0,0===h||h===u.length-1))}return c.join(s?"-":" ")})(t)},titlecase:function(){return a.titleCase.apply(a,arguments)}};return a},"object"===s(e)?t.exports=a():void 0===(n=function(){return o.Humanize=a()}.apply(e,[]))||(t.exports=n)},,,,,,,,,,function(t,e,i){"use strict";var n,r=(n=i(741))&&n.__esModule?n:{default:n};window.MatrixBarcode=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(742)),r=s(i(746)),o=s(i(747)),a=i(116);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=e,this._htOption={width:256,height:256,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.QRErrorCorrectLevel.L},"string"==typeof i&&(i={text:i}),i)for(var n in i)this._htOption[n]=i[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG?this._oDrawing=new r.default(this._el,this._htOption):this._oDrawing=new o.default(this._el,this._htOption),this._oModel=null,this._htOption.text&&this.makeCode(this._htOption.text)}var e,i,s;return e=t,(i=[{key:"makeCode",value:function(t){this._oModel=new n.default(function(t,e){for(var i=1,n=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),r=0,o=u.length;r<o;r++){var s=0;switch(e){case a.QRErrorCorrectLevel.L:s=u[r][0];break;case a.QRErrorCorrectLevel.M:s=u[r][1];break;case a.QRErrorCorrectLevel.Q:s=u[r][2];break;case a.QRErrorCorrectLevel.H:s=u[r][3];break;default:console.log("Unknown correct level",e,t)}if(n<=s)break;i++}if(i>u.length)throw new Error("Text is beyond the limit of "+u[u.length-1][3]+": "+n);return i}(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oModel.addData(t),this._oModel.make(),this._el.title=t,this._oDrawing.draw(this._oModel),this._oDrawing.makeImage()}},{key:"clear",value:function(){this._oDrawing.clear()}}])&&l(e.prototype,i),s&&l(e,s),t}();c.CorrectLevel=a.QRErrorCorrectLevel;var u=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var h=c;e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(743)),r=s(i(744)),o=s(i(745)),a=i(116);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.typeNumber=e,this.errorCorrectLevel=i,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var e,i,s;return e=t,s=[{key:"createData",value:function(e,i,o){for(var s=n.default.getBlocks(e,i),l=new r.default,c=0;c<o.length;c++){var u=o[c];l.put(u.mode,4),l.put(u.getLength(),a.QRUtil.getLengthInBits(u.mode,e)),u.write(l)}for(var h=0,d=0;d<s.length;d++)h+=s[d].dataCount;if(l.getLengthInBits()>8*h)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*h+")");for(l.getLengthInBits()+4<=8*h&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*h||(l.put(t.PAD0,8),l.getLengthInBits()>=8*h));)l.put(t.PAD1,8);return t.createBytes(l,s)}},{key:"createBytes",value:function(t,e){for(var i=0,n=0,r=0,o=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,u=e[l].totalCount-c;n=Math.max(n,c),r=Math.max(r,u),o[l]=new Array(c);for(var h=0;h<o[l].length;h++)o[l][h]=255&t.buffer[h+i];i+=c;var d=a.QRUtil.getErrorCorrectPolynomial(u),p=new a.Polynomial(o[l],d.getLength()-1).mod(d);s[l]=new Array(d.getLength()-1);for(var f=0;f<s[l].length;f++){var m=f+p.getLength()-s[l].length;s[l][f]=m>=0?p.get(m):0}}for(var g=0,v=0;v<e.length;v++)g+=e[v].totalCount;for(var y=new Array(g),_=0,b=0;b<n;b++)for(var w=0;w<e.length;w++)b<o[w].length&&(y[_++]=o[w][b]);for(var x=0;x<r;x++)for(var M=0;M<e.length;M++)x<s[M].length&&(y[_++]=s[M][x]);return y}}],(i=[{key:"addData",value:function(t){var e=new o.default(t);this.dataList.push(e),this.dataCache=null}},{key:"isDark",value:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}},{key:"getModuleCount",value:function(){return this.moduleCount}},{key:"make",value:function(){this.makeImpl(!1,this.getBestMaskPattern())}},{key:"makeImpl",value:function(e,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,i),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)}},{key:"setupPositionProbePattern",value:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)}},{key:"getBestMaskPattern",value:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=a.QRUtil.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e}},{key:"createMovieClip",value:function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(n.beginFill(0,100),n.moveTo(s,o),n.lineTo(s+1,o),n.lineTo(s+1,o+1),n.lineTo(s,o+1),n.endFill())}return n}},{key:"setupTimingPattern",value:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)}},{key:"setupPositionAdjustPattern",value:function(){for(var t=a.QRUtil.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][r+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}}},{key:"setupTypeNumber",value:function(t){for(var e=a.QRUtil.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}}},{key:"setupTypeInfo",value:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=a.QRUtil.getBCHTypeInfo(i),r=0;r<15;r++){var o=!t&&1==(n>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(var s=0;s<15;s++){var l=!t&&1==(n>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=l:s<9?this.modules[8][15-s-1+1]=l:this.modules[8][15-s-1]=l}this.modules[this.moduleCount-8][8]=!t}},{key:"mapData",value:function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var c=!1;o<t.length&&(c=1==(t[o]>>>r&1)),a.QRUtil.getMask(e,n,s-l)&&(c=!c),this.modules[n][s-l]=c,-1==--r&&(o++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}}])&&l(e.prototype,i),s&&l(e,s),t}();c.PAD0=236,c.PAD1=17;var u=c;e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(116);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.totalCount=e,this.dataCount=i}var e,i,o;return e=t,o=[{key:"getBlocks",value:function(e,i){var n=t.getBlockTable(e,i);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+i);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new t(l,c));return o}},{key:"getBlockTable",value:function(e,i){switch(i){case n.QRErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(e-1)+0];case n.QRErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(e-1)+1];case n.QRErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(e-1)+2];case n.QRErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(e-1)+3];default:return}}}],(i=null)&&r(e.prototype,i),o&&r(e,o),t}();o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];var a=o;e.default=a},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=[],this.length=0}var e,i,r;return e=t,(i=[{key:"get",value:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}},{key:"put",value:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))}},{key:"getLengthInBits",value:function(){return this.length}},{key:"putBit",value:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(116);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mode=n.QRMode.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var i=0,r=this.data.length;i<r;i++){var o=[],a=this.data.charCodeAt(i);a>65536?(o[0]=240|(1835008&a)>>>18,o[1]=128|(258048&a)>>>12,o[2]=128|(4032&a)>>>6,o[3]=128|63&a):a>2048?(o[0]=224|(61440&a)>>>12,o[1]=128|(4032&a)>>>6,o[2]=128|63&a):a>128?(o[0]=192|(1984&a)>>>6,o[1]=128|63&a):o[0]=a,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}var e,i,o;return e=t,(i=[{key:"getLength",value:function(t){return this.parsedData.length}},{key:"write",value:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}}])&&r(e.prototype,i),o&&r(e,o),t}();e.default=o},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=e,this._htOption=i}var e,i,o;return e=t,(i=[{key:"draw",value:function(t){var e=this._htOption,i=this._el,n=t.getModuleCount();Math.floor(e.width/n),Math.floor(e.height/n),this.clear();var o=r("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:this._htOption.width,height:this._htOption.height,fill:e.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(r("rect",{fill:e.colorLight,width:"100%",height:"100%"})),o.appendChild(r("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<n;a++)for(var s=0;s<n;s++)if(t.isDark(a,s)){var l=r("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}}},{key:"makeImage",value:function(){}},{key:"clear",value:function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)}}])&&n(e.prototype,i),o&&n(e,o),t}();e.default=o},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=e,this._htOption=i,this._bIsPainted=!1,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=i.width,this._elCanvas.height=i.height,this._el.appendChild(this._elCanvas),this._oContext=this._elCanvas.getContext("2d"),this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}var e,i,r;return e=t,(i=[{key:"draw",value:function(t){var e=this._elImage,i=this._oContext,n=this._htOption,r=t.getModuleCount(),o=n.width/r,a=n.height/r,s=Math.round(o),l=Math.round(a);e.style.display="none",this.clear();for(var c=0;c<r;c++)for(var u=0;u<r;u++){var h=t.isDark(c,u),d=u*o,p=c*a;i.strokeStyle=h?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=h?n.colorDark:n.colorLight,i.fillRect(d,p,o,a),i.strokeRect(Math.floor(d)+.5,Math.floor(p)+.5,s,l),i.strokeRect(Math.ceil(d)-.5,Math.ceil(p)-.5,s,l)}this._bIsPainted=!0}},{key:"makeImage",value:function(){this._bIsPainted&&this._safeSetDataURI(this._onMakeImage,(function(){console.error("Error",arguments)}))}},{key:"isPainted",value:function(){return this._bIsPainted}},{key:"clear",value:function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1}},{key:"_safeSetDataURI",value:function(t,e){if(this._fFail=e,this._fSuccess=t,null===this._bSupportDataURI){var i=document.createElement("img"),n=function(){this._bSupportDataURI=!1,this._fFail&&this._fFail.call(this)};return i.onabort=n,i.onerror=n,i.onload=function(){this._bSupportDataURI=!0,this._fSuccess&&this._fSuccess.call(this)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===this._bSupportDataURI&&this._fSuccess?this._fSuccess.call(this):!1===this._bSupportDataURI&&this._fFail&&this._fFail.call(this)}},{key:"_onMakeImage",value:function(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},,function(t,e,i){"use strict";function n(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}function r(t,e){for(var i=t.length-1;i>=0;i--)!0===e(t[i])&&t.splice(i,1)}function o(t){throw new Error("Unhandled case for value: '"+t+"'")}i.r(e),i.d(e,"default",(function(){return B})),i.d(e,"Autolinker",(function(){return B})),i.d(e,"AnchorTagBuilder",(function(){return s})),i.d(e,"HtmlTag",(function(){return a})),i.d(e,"EmailMatch",(function(){return d})),i.d(e,"HashtagMatch",(function(){return p})),i.d(e,"Match",(function(){return l})),i.d(e,"MentionMatch",(function(){return f})),i.d(e,"PhoneMatch",(function(){return m})),i.d(e,"UrlMatch",(function(){return g})),i.d(e,"EmailMatcher",(function(){return I})),i.d(e,"HashtagMatcher",(function(){return j})),i.d(e,"Matcher",(function(){return v})),i.d(e,"MentionMatcher",(function(){return Y})),i.d(e,"PhoneMatcher",(function(){return U})),i.d(e,"UrlMatcher",(function(){return F}));var a=function(){function t(t){void 0===t&&(t={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=t.tagName||"",this.attrs=t.attrs||{},this.innerHTML=t.innerHtml||t.innerHTML||""}return t.prototype.setTagName=function(t){return this.tagName=t,this},t.prototype.getTagName=function(){return this.tagName||""},t.prototype.setAttr=function(t,e){return this.getAttrs()[t]=e,this},t.prototype.getAttr=function(t){return this.getAttrs()[t]},t.prototype.setAttrs=function(t){return Object.assign(this.getAttrs(),t),this},t.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},t.prototype.setClass=function(t){return this.setAttr("class",t)},t.prototype.addClass=function(t){for(var e,i=this.getClass(),r=this.whitespaceRegex,o=i?i.split(r):[],a=t.split(r);e=a.shift();)-1===n(o,e)&&o.push(e);return this.getAttrs().class=o.join(" "),this},t.prototype.removeClass=function(t){for(var e,i=this.getClass(),r=this.whitespaceRegex,o=i?i.split(r):[],a=t.split(r);o.length&&(e=a.shift());){var s=n(o,e);-1!==s&&o.splice(s,1)}return this.getAttrs().class=o.join(" "),this},t.prototype.getClass=function(){return this.getAttrs().class||""},t.prototype.hasClass=function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},t.prototype.setInnerHTML=function(t){return this.innerHTML=t,this},t.prototype.setInnerHtml=function(t){return this.setInnerHTML(t)},t.prototype.getInnerHTML=function(){return this.innerHTML||""},t.prototype.getInnerHtml=function(){return this.getInnerHTML()},t.prototype.toAnchorString=function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},t.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+'="'+t[i]+'"');return e.join(" ")},t}();var s=function(){function t(t){void 0===t&&(t={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=t.newWindow||!1,this.truncate=t.truncate||{},this.className=t.className||""}return t.prototype.build=function(t){return new a({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},t.prototype.createAttrs=function(t){var e={href:t.getAnchorHref()},i=this.createCssClass(t);return i&&(e.class=i),this.newWindow&&(e.target="_blank",e.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<t.getAnchorText().length&&(e.title=t.getAnchorHref()),e},t.prototype.createCssClass=function(t){var e=this.className;if(e){for(var i=[e],n=t.getCssClassSuffixes(),r=0,o=n.length;r<o;r++)i.push(e+"-"+n[r]);return i.join(" ")}return""},t.prototype.processAnchorText=function(t){return t=this.doTruncate(t)},t.prototype.doTruncate=function(t){var e=this.truncate;if(!e||!e.length)return t;var i=e.length,n=e.location;return"smart"===n?function(t,e,i){var n,r;null==i?(i="&hellip;",r=3,n=8):(r=i.length,n=i.length);var o=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},a=function(t,e){var n=e/2,r=Math.ceil(n),o=-1*Math.floor(n),a="";return o<0&&(a=t.substr(o)),t.substr(0,r)+i+a};if(t.length<=e)return t;var s=e-r,l=function(t){var e={},i=t,n=i.match(/^([a-z]+):\/\//i);return n&&(e.scheme=n[1],i=i.substr(n[0].length)),(n=i.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(e.host=n[1],i=i.substr(n[0].length)),(n=i.match(/^\/(.*?)(?=(\?|#|$))/i))&&(e.path=n[1],i=i.substr(n[0].length)),(n=i.match(/^\?(.*?)(?=(#|$))/i))&&(e.query=n[1],i=i.substr(n[0].length)),(n=i.match(/^#(.*?)$/i))&&(e.fragment=n[1]),e}(t);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),t=o(l))}if(t.length<=e)return t;if(l.host&&(l.host=l.host.replace(/^www\./,""),t=o(l)),t.length<=e)return t;var u="";if(l.host&&(u+=l.host),u.length>=s)return l.host.length==e?(l.host.substr(0,e-r)+i).substr(0,s+n):a(u,s).substr(0,s+n);var h="";if(l.path&&(h+="/"+l.path),l.query&&(h+="?"+l.query),h){if((u+h).length>=s)return(u+h).length==e?(u+h).substr(0,e):(u+a(h,s-u.length)).substr(0,s+n);u+=h}if(l.fragment){var d="#"+l.fragment;if((u+d).length>=s)return(u+d).length==e?(u+d).substr(0,e):(u+a(d,s-u.length)).substr(0,s+n);u+=d}if(l.scheme&&l.host){var p=l.scheme+"://";if((u+p).length<s)return(p+u).substr(0,e)}if(u.length<=e)return u;var f="";return s>0&&(f=u.substr(-1*Math.floor(s/2))),(u.substr(0,Math.ceil(s/2))+i+f).substr(0,s+n)}(t,i):"middle"===n?function(t,e,i){if(t.length<=e)return t;var n,r;null==i?(i="&hellip;",n=8,r=3):(n=i.length,r=i.length);var o=e-r,a="";return o>0&&(a=t.substr(-1*Math.floor(o/2))),(t.substr(0,Math.ceil(o/2))+i+a).substr(0,o+n)}(t,i):function(t,e,i){return function(t,e,i){var n;return t.length>e&&(null==i?(i="&hellip;",n=3):n=i.length,t=t.substring(0,e-n)+i),t}(t,e,i)}(t,i)},t}(),l=function(){function t(t){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset}return t.prototype.getMatchedText=function(){return this.matchedText},t.prototype.setOffset=function(t){this.offset=t},t.prototype.getOffset=function(){return this.offset},t.prototype.getCssClassSuffixes=function(){return[this.getType()]},t.prototype.buildTag=function(){return this.tagBuilder.build(this)},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function u(t,e){function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h=function(){return(h=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var d=function(t){function e(e){var i=t.call(this,e)||this;return i.email="",i.email=e.email,i}return u(e,t),e.prototype.getType=function(){return"email"},e.prototype.getEmail=function(){return this.email},e.prototype.getAnchorHref=function(){return"mailto:"+this.email},e.prototype.getAnchorText=function(){return this.email},e}(l),p=function(t){function e(e){var i=t.call(this,e)||this;return i.serviceName="",i.hashtag="",i.serviceName=e.serviceName,i.hashtag=e.hashtag,i}return u(e,t),e.prototype.getType=function(){return"hashtag"},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getHashtag=function(){return this.hashtag},e.prototype.getAnchorHref=function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: "+t)}},e.prototype.getAnchorText=function(){return"#"+this.hashtag},e}(l),f=function(t){function e(e){var i=t.call(this,e)||this;return i.serviceName="twitter",i.mention="",i.mention=e.mention,i.serviceName=e.serviceName,i}return u(e,t),e.prototype.getType=function(){return"mention"},e.prototype.getMention=function(){return this.mention},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},e.prototype.getAnchorText=function(){return"@"+this.mention},e.prototype.getCssClassSuffixes=function(){var e=t.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&e.push(i),e},e}(l),m=function(t){function e(e){var i=t.call(this,e)||this;return i.number="",i.plusSign=!1,i.number=e.number,i.plusSign=e.plusSign,i}return u(e,t),e.prototype.getType=function(){return"phone"},e.prototype.getPhoneNumber=function(){return this.number},e.prototype.getNumber=function(){return this.getPhoneNumber()},e.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},e.prototype.getAnchorText=function(){return this.matchedText},e}(l),g=function(t){function e(e){var i=t.call(this,e)||this;return i.url="",i.urlMatchType="scheme",i.protocolUrlMatch=!1,i.protocolRelativeMatch=!1,i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.schemePrefixRegex=/^(https?:\/\/)?/i,i.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,i.protocolRelativeRegex=/^\/\//,i.protocolPrepended=!1,i.urlMatchType=e.urlMatchType,i.url=e.url,i.protocolUrlMatch=e.protocolUrlMatch,i.protocolRelativeMatch=e.protocolRelativeMatch,i.stripPrefix=e.stripPrefix,i.stripTrailingSlash=e.stripTrailingSlash,i.decodePercentEncoding=e.decodePercentEncoding,i}return u(e,t),e.prototype.getType=function(){return"url"},e.prototype.getUrlMatchType=function(){return this.urlMatchType},e.prototype.getUrl=function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},e.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},e.prototype.getAnchorText=function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix.scheme&&(t=this.stripSchemePrefix(t)),this.stripPrefix.www&&(t=this.stripWwwPrefix(t)),this.stripTrailingSlash&&(t=this.removeTrailingSlash(t)),this.decodePercentEncoding&&(t=this.removePercentEncoding(t)),t},e.prototype.stripSchemePrefix=function(t){return t.replace(this.schemePrefixRegex,"")},e.prototype.stripWwwPrefix=function(t){return t.replace(this.wwwPrefixRegex,"$1")},e.prototype.stripProtocolRelativePrefix=function(t){return t.replace(this.protocolRelativeRegex,"")},e.prototype.removeTrailingSlash=function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},e.prototype.removePercentEncoding=function(t){var e=t.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(e)}catch(t){return e}},e}(l),v=function(t){this.__jsduckDummyDocProp=null,this.tagBuilder=t.tagBuilder},y=/[A-Za-z]/,_=/[0-9]/,b=/\s/,w=/['"]/,x=/[\x00-\x1F\x7F]/,M=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,S=M+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,k=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,T=S+k,C=S+k,E="(?:["+k+"]{1,3}\\.){3}["+k+"]{1,3}",A="["+C+"](?:["+C+"\\-]{0,61}["+C+"])?",L=function(t){return"(?=("+A+"))\\"+t},D=function(t){return"(?:"+L(t)+"(?:\\."+L(t+1)+"){0,126}|"+E+")"},P=(new RegExp("["+C+".\\-]*["+C+"\\-]"),new RegExp("["+C+"]")),O=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|||||||||||||aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.localPartCharRegex=new RegExp("["+C+"!#$%&'*+/=?^_`{|}~-]"),e.strictTldRegex=new RegExp("^"+O.source+"$"),e}return u(e,t),e.prototype.parseMatches=function(t){for(var e=this.tagBuilder,i=this.localPartCharRegex,n=this.strictTldRegex,r=[],a=t.length,s=new N,l={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},c=0,u=0,p=s;c<a;){var f=t.charAt(c);switch(u){case 0:m(f);break;case 1:g(t.charAt(c-1),f);break;case 2:v(f);break;case 3:y(f);break;case 4:_(f);break;case 5:b(f);break;case 6:w(f);break;case 7:x(f);break;default:o(u)}c++}return k(),r;function m(t){"m"===t?M(1):i.test(t)&&M()}function g(t,e){":"===t?i.test(e)?(u=2,p=new N(h({},p,{hasMailtoPrefix:!0}))):S():l[t]===e||(i.test(e)?u=2:"."===e?u=3:"@"===e?u=4:S())}function v(t){"."===t?u=3:"@"===t?u=4:i.test(t)||S()}function y(t){"."===t||"@"===t?S():i.test(t)?u=2:S()}function _(t){P.test(t)?u=5:S()}function b(t){"."===t?u=7:"-"===t?u=6:P.test(t)||k()}function w(t){"-"===t||"."===t?k():P.test(t)?u=5:k()}function x(t){"."===t||"-"===t?k():P.test(t)?(u=5,p=new N(h({},p,{hasDomainDot:!0}))):k()}function M(t){void 0===t&&(t=2),u=t,p=new N({idx:c})}function S(){u=0,p=s}function k(){if(p.hasDomainDot){var i=t.slice(p.idx,c);/[-.]$/.test(i)&&(i=i.slice(0,-1));var o=p.hasMailtoPrefix?i.slice("mailto:".length):i;(function(t){var e=(t.split(".").pop()||"").toLowerCase();return n.test(e)})(o)&&r.push(new d({tagBuilder:e,matchedText:i,offset:p.idx,email:o}))}S()}},e}(v),N=function(t){void 0===t&&(t={}),this.idx=void 0!==t.idx?t.idx:-1,this.hasMailtoPrefix=!!t.hasMailtoPrefix,this.hasDomainDot=!!t.hasDomainDot},R=function(){function t(){}return t.isValid=function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t)||this.containsMultipleDots(t))},t.isValidIpAddress=function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},t.containsMultipleDots=function(t){var e=t;return this.hasFullProtocolRegex.test(t)&&(e=t.split("://")[1]),e.split("/")[0].indexOf("..")>-1},t.isValidUriScheme=function(t){var e=t.match(this.uriSchemeRegex),i=e&&e[0].toLowerCase();return"javascript:"!==i&&"vbscript:"!==i},t.urlMatchDoesNotHaveProtocolOrDot=function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},t.urlMatchDoesNotHaveAtLeastOneWordChar=function(t,e){return!(!t||!e)&&!this.hasWordCharAfterProtocolRegex.test(t)},t.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,t.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,t.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+M+"]"),t.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,t}(),F=function(t){function e(e){var i,n=t.call(this,e)||this;return n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.matcherRegex=(i=new RegExp("[/?#](?:["+C+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+C+"\\-+&@#/%=~_()|'$*\\[\\]])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,D(2),")","|","(","(//)?",/(?:www\.)/.source,D(6),")","|","(","(//)?",D(10)+"\\.",O.source,"(?![-"+T+"])",")",")","(?::[0-9]+)?","(?:"+i.source+")?"].join(""),"gi")),n.wordCharRegExp=new RegExp("["+C+"]"),n.stripPrefix=e.stripPrefix,n.stripTrailingSlash=e.stripTrailingSlash,n.decodePercentEncoding=e.decodePercentEncoding,n}return u(e,t),e.prototype.parseMatches=function(t){for(var e,i=this.matcherRegex,n=this.stripPrefix,r=this.stripTrailingSlash,o=this.decodePercentEncoding,a=this.tagBuilder,s=[],l=function(){var i=e[0],l=e[1],u=e[4],h=e[5],d=e[9],p=e.index,f=h||d,m=t.charAt(p-1);if(!R.isValid(i,l))return"continue";if(p>0&&"@"===m)return"continue";if(p>0&&f&&c.wordCharRegExp.test(m))return"continue";if(/\?$/.test(i)&&(i=i.substr(0,i.length-1)),c.matchHasUnbalancedClosingParen(i))i=i.substr(0,i.length-1);else{var v=c.matchHasInvalidCharAfterTld(i,l);v>-1&&(i=i.substr(0,v))}var y=["http://","https://"].find((function(t){return!!l&&-1!==l.indexOf(t)}));if(y){var _=i.indexOf(y);i=i.substr(_),l=l.substr(_),p+=_}var b=l?"scheme":u?"www":"tld",w=!!l;s.push(new g({tagBuilder:a,matchedText:i,offset:p,urlMatchType:b,url:i,protocolUrlMatch:w,protocolRelativeMatch:!!f,stripPrefix:n,stripTrailingSlash:r,decodePercentEncoding:o}))},c=this;null!==(e=i.exec(t));)l();return s},e.prototype.matchHasUnbalancedClosingParen=function(t){var e,i=t.charAt(t.length-1);if(")"===i)e="(";else{if("]"!==i)return!1;e="["}for(var n=0,r=0,o=t.length-1;r<o;r++){var a=t.charAt(r);a===e?n++:a===i&&(n=Math.max(n-1,0))}return 0===n},e.prototype.matchHasInvalidCharAfterTld=function(t,e){if(!t)return-1;var i=0;e&&(i=t.indexOf(":"),t=t.slice(i));var n=new RegExp("^((.?//)?[-."+C+"]*[-"+C+"]\\.[-"+C+"]+)").exec(t);return null===n?-1:(i+=n[1].length,t=t.slice(n[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?i:-1)},e}(v),j=function(t){function e(e){var i=t.call(this,e)||this;return i.serviceName="twitter",i.matcherRegex=new RegExp("#[_"+C+"]{1,139}(?![_"+C+"])","g"),i.nonWordCharRegex=new RegExp("[^"+C+"]"),i.serviceName=e.serviceName,i}return u(e,t),e.prototype.parseMatches=function(t){for(var e,i=this.matcherRegex,n=this.nonWordCharRegex,r=this.serviceName,o=this.tagBuilder,a=[];null!==(e=i.exec(t));){var s=e.index,l=t.charAt(s-1);if(0===s||n.test(l)){var c=e[0],u=e[0].slice(1);a.push(new p({tagBuilder:o,matchedText:c,offset:s,serviceName:r,hashtag:u}))}}return a},e}(v),U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,e}return u(e,t),e.prototype.parseMatches=function(t){for(var e,i=this.matcherRegex,n=this.tagBuilder,r=[];null!==(e=i.exec(t));){var o=e[0],a=o.replace(/[^0-9,;#]/g,""),s=!(!e[1]&&!e[2]),l=0==e.index?"":t.substr(e.index-1,1),c=t.substr(e.index+o.length,1),u=!l.match(/\d/)&&!c.match(/\d/);this.testMatch(e[3])&&this.testMatch(o)&&u&&r.push(new m({tagBuilder:n,matchedText:o,offset:e.index,number:a,plusSign:s}))}return r},e.prototype.testMatch=function(t){return/\D/.test(t)},e}(v),Y=function(t){function e(e){var i=t.call(this,e)||this;return i.serviceName="twitter",i.matcherRegexes={twitter:new RegExp("@[_"+C+"]{1,50}(?![_"+C+"])","g"),instagram:new RegExp("@[_."+C+"]{1,30}(?![_"+C+"])","g"),soundcloud:new RegExp("@[-_."+C+"]{1,50}(?![-_"+C+"])","g")},i.nonWordCharRegex=new RegExp("[^"+C+"]"),i.serviceName=e.serviceName,i}return u(e,t),e.prototype.parseMatches=function(t){var e,i=this.serviceName,n=this.matcherRegexes[this.serviceName],r=this.nonWordCharRegex,o=this.tagBuilder,a=[];if(!n)return a;for(;null!==(e=n.exec(t));){var s=e.index,l=t.charAt(s-1);if(0===s||r.test(l)){var c=e[0].replace(/\.+$/g,""),u=c.slice(1);a.push(new f({tagBuilder:o,matchedText:c,offset:s,serviceName:i,mention:u}))}}return a},e}(v);function V(t,e){for(var i,n=e.onOpenTag,r=e.onCloseTag,a=e.onText,s=e.onComment,l=e.onDoctype,c=new H,u=0,d=t.length,p=0,f=0,m=c;u<d;){var g=t.charAt(u);switch(p){case 0:v(g);break;case 1:M(g);break;case 2:k(g);break;case 3:S(g);break;case 4:T(g);break;case 5:C(g);break;case 6:E(g);break;case 7:A(g);break;case 8:L(g);break;case 9:D(g);break;case 10:P(g);break;case 11:O(g);break;case 12:I(g);break;case 13:N(g);break;case 14:R(g);break;case 15:F(g);break;case 16:j(g);break;case 17:U(g);break;case 18:Y(g);break;case 19:V(g);break;case 20:B(g);break;default:o(p)}u++}function v(t){"<"===t&&W()}function M(t){"!"===t?p=13:"/"===t?(p=2,m=new H(h({},m,{isClosing:!0}))):"<"===t?W():y.test(t)?(p=3,m=new H(h({},m,{isOpening:!0}))):(p=0,m=c)}function S(t){b.test(t)?(m=new H(h({},m,{name:G()})),p=4):"<"===t?W():"/"===t?(m=new H(h({},m,{name:G()})),p=12):">"===t?(m=new H(h({},m,{name:G()})),q()):y.test(t)||_.test(t)||":"===t||z()}function k(t){">"===t?z():y.test(t)?p=3:z()}function T(t){b.test(t)||("/"===t?p=12:">"===t?q():"<"===t?W():"="===t||w.test(t)||x.test(t)?z():p=5)}function C(t){b.test(t)?p=6:"/"===t?p=12:"="===t?p=7:">"===t?q():"<"===t?W():w.test(t)&&z()}function E(t){b.test(t)||("/"===t?p=12:"="===t?p=7:">"===t?q():"<"===t?W():w.test(t)?z():p=5)}function A(t){b.test(t)||('"'===t?p=8:"'"===t?p=9:/[>=`]/.test(t)?z():"<"===t?W():p=10)}function L(t){'"'===t&&(p=11)}function D(t){"'"===t&&(p=11)}function P(t){b.test(t)?p=4:">"===t?q():"<"===t&&W()}function O(t){b.test(t)?p=4:"/"===t?p=12:">"===t?q():"<"===t?W():(p=4,u--)}function I(t){">"===t?(m=new H(h({},m,{isClosing:!0})),q()):p=4}function N(e){"--"===t.substr(u,2)?(u+=2,m=new H(h({},m,{type:"comment"})),p=14):"DOCTYPE"===t.substr(u,7).toUpperCase()?(u+=7,m=new H(h({},m,{type:"doctype"})),p=20):z()}function R(t){"-"===t?p=15:">"===t?z():p=16}function F(t){"-"===t?p=18:">"===t?z():p=16}function j(t){"-"===t&&(p=17)}function U(t){p="-"===t?18:16}function Y(t){">"===t?q():"!"===t?p=19:"-"===t||(p=16)}function V(t){"-"===t?p=17:">"===t?q():p=16}function B(t){">"===t?q():"<"===t&&W()}function z(){p=0,m=c}function W(){p=1,m=new H({idx:u})}function q(){var e=t.slice(f,m.idx);e&&a(e,f),"comment"===m.type?s(m.idx):"doctype"===m.type?l(m.idx):(m.isOpening&&n(m.name,m.idx),m.isClosing&&r(m.name,m.idx)),z(),f=u+1}function G(){var e=m.idx+(m.isClosing?2:1);return t.slice(e,u).toLowerCase()}f<u&&(i=t.slice(f,u),a(i,f),f=u+1)}var H=function(t){void 0===t&&(t={}),this.idx=void 0!==t.idx?t.idx:-1,this.type=t.type||"tag",this.name=t.name||"",this.isOpening=!!t.isOpening,this.isClosing=!!t.isClosing},B=function(){function t(e){void 0===e&&(e={}),this.version=t.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"==typeof e.email?e.email:this.email,this.phone="boolean"==typeof e.phone?e.phone:this.phone,this.hashtag=e.hashtag||this.hashtag,this.mention=e.mention||this.mention,this.newWindow="boolean"==typeof e.newWindow?e.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash="boolean"==typeof e.stripTrailingSlash?e.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof e.decodePercentEncoding?e.decodePercentEncoding:this.decodePercentEncoding;var i=this.mention;if(!1!==i&&"twitter"!==i&&"instagram"!==i&&"soundcloud"!==i)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||this.className,this.replaceFn=e.replaceFn||this.replaceFn,this.context=e.context||this}return t.link=function(e,i){return new t(i).link(e)},t.parse=function(e,i){return new t(i).parse(e)},t.prototype.normalizeUrlsCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},t.prototype.normalizeStripPrefixCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{scheme:t,www:t}:{scheme:"boolean"!=typeof t.scheme||t.scheme,www:"boolean"!=typeof t.www||t.www}},t.prototype.normalizeTruncateCfg=function(t){return"number"==typeof t?{length:t,location:"end"}:function(t,e){for(var i in e)e.hasOwnProperty(i)&&void 0===t[i]&&(t[i]=e[i]);return t}(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},t.prototype.parse=function(t){var e=this,i=["a","style","script"],n=0,r=[];return V(t,{onOpenTag:function(t){i.indexOf(t)>=0&&n++},onText:function(t,i){if(0===n){var o=function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var i,n=[],r=0;i=e.exec(t);)n.push(t.substring(r,i.index)),n.push(i[0]),r=i.index+i[0].length;return n.push(t.substring(r)),n}(t,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),a=i;o.forEach((function(t,i){if(i%2==0){var n=e.parseText(t,a);r.push.apply(r,n)}a+=t.length}))}},onCloseTag:function(t){i.indexOf(t)>=0&&(n=Math.max(n-1,0))},onComment:function(t){},onDoctype:function(t){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},t.prototype.compactMatches=function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;e++){var i=t[e],n=i.getOffset(),r=i.getMatchedText().length,o=n+r;if(e+1<t.length){if(t[e+1].getOffset()===n){var a=t[e+1].getMatchedText().length>r?e:e+1;t.splice(a,1);continue}t[e+1].getOffset()<o&&t.splice(e+1,1)}}return t},t.prototype.removeUnwantedMatches=function(t){return this.hashtag||r(t,(function(t){return"hashtag"===t.getType()})),this.email||r(t,(function(t){return"email"===t.getType()})),this.phone||r(t,(function(t){return"phone"===t.getType()})),this.mention||r(t,(function(t){return"mention"===t.getType()})),this.urls.schemeMatches||r(t,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||r(t,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||r(t,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),t},t.prototype.parseText=function(t,e){void 0===e&&(e=0),e=e||0;for(var i=this.getMatchers(),n=[],r=0,o=i.length;r<o;r++){for(var a=i[r].parseMatches(t),s=0,l=a.length;s<l;s++)a[s].setOffset(e+a[s].getOffset());n.push.apply(n,a)}return n},t.prototype.link=function(t){if(!t)return"";for(var e=this.parse(t),i=[],n=0,r=0,o=e.length;r<o;r++){var a=e[r];i.push(t.substring(n,a.getOffset())),i.push(this.createMatchReturnVal(a)),n=a.getOffset()+a.getMatchedText().length}return i.push(t.substring(n)),i.join("")},t.prototype.createMatchReturnVal=function(t){var e;return this.replaceFn&&(e=this.replaceFn.call(this.context,t)),"string"==typeof e?e:!1===e?t.getMatchedText():e instanceof a?e.toAnchorString():t.buildTag().toAnchorString()},t.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var t=this.getTagBuilder(),e=[new j({tagBuilder:t,serviceName:this.hashtag}),new I({tagBuilder:t}),new U({tagBuilder:t}),new Y({tagBuilder:t,serviceName:this.mention}),new F({tagBuilder:t,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=e},t.prototype.getTagBuilder=function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new s({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t},t.version="3.11.1",t.AnchorTagBuilder=s,t.HtmlTag=a,t.matcher={Email:I,Hashtag:j,Matcher:v,Mention:Y,Phone:U,Url:F},t.match={Email:d,Hashtag:p,Match:l,Mention:f,Phone:m,Url:g},t}()}]]);
//# sourceMappingURL=vendor.js.map